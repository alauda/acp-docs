---
weight: 10
sourceSHA: c9167860d244dd892b66110fb47226d7d676c35c412600af77717600cffa88c4
---

# Как настроить расписание инспекций?

Поле расписания инспекций использует выражения Crontab, которые позволяют точно определять время срабатывания по таким параметрам, как минуты, часы, дни, месяцы, недели и годы.

## Основные функции

Поскольку Kubernetes работает на UTC (координированное всемирное время), когда вы устанавливаете правила срабатывания для запланированных задач, вам сначала нужно преобразовать местное время (например, пекинское время) в UTC, а затем преобразовать время UTC в выражения Crontab.

### Конвертация времени UTC

**Правило конвертации времени**: Местное время - Разница часовых поясов = UTC

Рассмотрим **пекинское время и время UTC**:

Пекин находится в часовом поясе UTC+8, поэтому разница времени между пекинским временем и UTC составляет 8 часов, и правило конвертации времени такое:

`Пекинское время - 8 = UTC`

Пример 1: Пекинское время 9:42 переводится в время UTC: 42 09 - 00 08 = 42 01, что означает, что время UTC составляет 01:42.

Пример 2: Пекинское время 4:32 переводится в время UTC: 32 04 - 00 08 = -68 03. Если это отрицательное число, это означает, что речь идет о предыдущем дне, и требуется еще одно преобразование: -68 03 + 00 24 = 32 20, что означает, что время UTC составляет 20:32 предыдущего дня.

### Запись выражений Crontab

**Основной формат**: Минуты Часы День Месяц Неделя

**Доступные диапазоны значений**

| Минуты | Часы   | Дни    | Месяцы               | Недели                |
| ------ | ------- | ------- | --------------------- | ---------------------- |
| \[0-59] | \[0-23] | \[1-31] | \[1-12] или \[ЯНВ-ДЕК] | \[1-7] или \[ВСК-СБ] |

Поля `минуты`, `часы`, `дни`, `месяцы` и `недели` допускают специальные символы, включая:

- `,`: Разделитель списка для указания нескольких значений. Например: 1,2,5,7,8,9.
- `-`: Диапазон значений, заданный пользователем. Например: 2-4, что означает 2, 3, 4.
- `*`: Обозначает весь период времени. Например, при использовании в минутах, он означает каждую минуту.
- `/`: Используется для указания значений приращения. Например: n/m обозначает, начиная с n, увеличивая на m.

Справочный онлайн-инструмент доступен на сайте [Crontab.guru](https://crontab.guru/).

**Общие примеры**:

- Ввод 30 18 25 12 \* указывает, что задача будет срабатывать в 18:30:00 25 декабря.

- Ввод 30 18 25 \* 6 указывает, что задача будет срабатывать в 18:30:00 25-го числа каждого месяца и каждую субботу.

- Ввод 30 18 \* \* 6 указывает, что задача будет срабатывать в 18:30:00 каждую субботу.

- Ввод \* 18 \* \* \* указывает, что с ближайшего времени 18:00:00 задача будет срабатывать каждую минуту (включая 18:00:00).

- Ввод 0 18 1,10,22 \* \* указывает, что задача будет срабатывать в 18:00:00 1-го, 10-го и 22-го числа каждого месяца.

- Ввод 0,30 18-23 \* \* \* указывает, что ежедневно между 18:00 и 23:00 задача будет срабатывать в 00 и 30 минут каждого часа.

- Ввод \* \*/1 \* \* \* указывает, что задача будет срабатывать каждую минуту.

- Ввод \* 2-7/1 \* \* \* указывает, что задача будет срабатывать каждую минуту между 2:00 и 7:00 ежедневно.

- Ввод 0 11 4 \* пон-ср указывает, что задача будет срабатывать в 11:00 4-го числа каждого месяца с понедельника по среду.
