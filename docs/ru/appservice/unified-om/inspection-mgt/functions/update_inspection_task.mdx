---
weight: 30
sourceSHA: 9b098aed90723ff993729b3e29903b0bc1fd0e76cf55cea897c0cfc98d149727
---

# Обновление и удаление задач инспекции

Пользователи могут настраивать конфигурацию задач инспекции в соответствии с потребностями бизнеса, обновляя или удаляя задачи инспекции в процессе использования.

## Процедура

### Обновление задач инспекции

<Tabs>
  <Tab label="CLI">
    Обновление задачи инспекции аналогично обновлению других ресурсов K8S. Конфигурацию задачи инспекции можно обновить с помощью команды `kubectl edit`.

    ```shell
    $ kubectl edit iotedgeinspection <inspection_name>

    ===
    # Пожалуйста, измените объект ниже. Строки, начинающиеся с '#', будут игнорироваться,
    # а пустой файл приведет к прерыванию редактирования. Если при сохранении этого файла возникнет ошибка, 
    # он будет снова открыт с соответствующими ошибками.
    #
    apiVersion: middleware.alauda.io/v1
    kind: Inspection
    metadata:
      annotations:
        cpaas.io/creator: admin
        cpaas.io/display-name: ""
        cpaas.io/updated-at: "2025-02-24T05:57:46Z"
      creationTimestamp: "2025-02-24T05:57:46Z"
      generation: 1
      labels:
        inspection.middleware.io/cluster: business-1
        inspection.middleware.io/component: mysqlcluster
        inspection.middleware.io/namespace: tongrds-1
        inspection.middleware.io/project: tongrds
        inspection.middleware.io/trigger: Schedule
      name: ins1
      namespace: tongrds-1
      resourceVersion: "58781609"
      uid: 530410bc-8d12-476c-b82c-034c9ac4d3ae
    spec:
      component: mysqlcluster
      instances:
      - name: '*'
      jobsHistoryLimit: 1
      schedule: 30 18 25 12 *
      trigger: Schedule
    status:
      lastJobStatus: ""
      message: ""
    ```

    ::: info

    Важно отметить, что пользователи могут обновлять только поля внутри структуры `spec`; поля в структурах `status` и `metadata` являются только для чтения.

    :::
  </Tab>
</Tabs>

### Удаление задач инспекции

Удаление задачи инспекции аналогично удалению других ресурсов K8S. Задача инспекции может быть удалена с помощью команды `kubectl delete`.

```shell
kubectl delete -n <namespace> inspection <inspection_name>
```

::: info

Важно отметить, что по замыслу `inspectionjob` соответствует `inspection` в соотношении один к одному. Поэтому, когда `inspection` удаляется, соответствующий `inspectionjob` будет автоматически удален.

:::
