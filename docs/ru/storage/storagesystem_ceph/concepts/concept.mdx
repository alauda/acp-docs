---
weight: 10
sourceSHA: 8e1c2bbe49e199e161659f43f314f4d58fc516e7ffc744d65d9a7346331234cd
---

# Основные концепции

## Оператор Rook

Оператор Rook — это простой контейнер, который включает все необходимое для начальной загрузки и мониторинга кластера хранения. Оператор запускает и контролирует поды мониторов Ceph, демоны OSD Ceph для предоставления хранения RADOS, а также запускает и управляет другими демонами Ceph. Оператор управляет CRD для пулов, объектных хранилищ (S3/Swift) и файловых систем, инициализируя поды и другие ресурсы, необходимые для работы сервисов.

Оператор будет следить за демонами хранения, чтобы гарантировать, что кластер работает исправно. Мониторы Ceph будут запускаться или переключаться при необходимости, а также будут производиться другие корректировки по мере роста или сокращения кластера. Оператор также будет следить за изменениями желаемого состояния, указанными в пользовательских ресурсах Ceph (CR), и вносить эти изменения.

Rook автоматически настраивает драйвер Ceph-CSI для монтирования хранилища в ваши поды. Образ rook/ceph включает все необходимые инструменты для управления кластером.

## Ceph CSI

Плагины Ceph CSI реализуют интерфейс между контейнерным оркестратором (CO) с поддержкой CSI и кластерами Ceph. Они позволяют динамически создавать тома Ceph и прикреплять их к рабочим нагрузкам.

## Функции модулей Ceph

| Модуль   | Функция                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| :------- | :-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| MON      | Монитор (MON) является самым важным компонентом в кластере Ceph. Он управляет кластером Ceph и поддерживает статус всего кластера. MON обеспечивает синхронизацию связанных компонентов кластера. Он выступает в роли лидера кластера и отвечает за сбор, обновление и публикацию информации о кластере.                                                                                                                                                                                                            |
| MGR      | Менеджер (MGR) — это система мониторинга, которая предоставляет функции сбора, хранения, анализа (включая оповещения) и визуализации. Он делает определенные параметры кластера доступными для внешних систем.                                                                                                                                                                                                                                                                                                                                                                       |
| OSD      | Демоны объектного хранения (OSD) хранят фактические пользовательские данные. Каждый OSD обычно привязан к одному физическому диску. OSD обрабатывают запросы на чтение/запись от клиентов.                                                                                                                                                                                                                                                                                                                                                                                                                 |
| MDS      | Сервер метаданных Ceph (MDS) отслеживает иерархию файлов и хранит метаданные, используемые только для CephFS. RBD и RGW не требуют метаданных. MDS не предоставляет напрямую услуги по предоставлению данных для клиентов.                                                                                                                                                                                                                                                                                                                                                                          |
| RGW      | Шлюз RADOS (RGW) является объектным шлюзом Ceph, который предоставляет совместимые с RESTful API интерфейсы S3 и Swift. RGW также поддерживает многоарендность и сервис идентификации OpenStack (Keystone).                                                                                                                                                                                                                                                                                                                                                                                           |
| RADOS    | Надежное Автономное Распределенное Хранилище Объектов (RADOS) является сердцем кластера хранения Ceph. Все в Ceph хранится RADOS в виде объектов, независимо от их типов данных. Уровень RADOS обеспечивает согласованность и надежность данных через репликацию данных, обнаружение и восстановление ошибок, а также восстановление данных между узлами кластера.                                                                                                                                                                                                                               |
| LIBRADOS | Librados — это метод, который упрощает доступ к RADOS. В настоящее время он поддерживает языки программирования PHP, Ruby, Java, Python, C и C++. Он предоставляет RADOS — локальный интерфейс кластера хранения Ceph и является базовым компонентом других сервисов, таких как блочное устройство RADOS (RBD) и шлюз RADOS (RGW). Кроме того, он предоставляет Портативный Операционная система Интерфейс (POSIX) для файловой системы Ceph (CephFS). API Librados можно использовать для прямого доступа к RADOS, позволяя разработчикам создавать свои собственные интерфейсы для доступа к хранилищу кластера Ceph. |
| RBD      | Блочное устройство RADOS (RBD) — это блочное устройство Ceph, которое предоставляет блочное хранилище для внешних систем. Оно может быть отображено, отформатировано и смонтировано как диск на сервере.                                                                                                                                                                                                                                                                                                                                                                                                        |
| CephFS   | CephFS предоставляет распределенную файловую систему, совместимую с POSIX, любого размера. Она зависит от Ceph MDS для отслеживания иерархии файлов, а именно метаданных.                                                                                                                                                                                                                                                                                                                                                                                                                          |
