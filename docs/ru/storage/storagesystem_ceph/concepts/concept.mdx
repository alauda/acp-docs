---
weight: 10
sourceSHA: 8e1c2bbe49e199e161659f43f314f4d58fc516e7ffc744d65d9a7346331234cd
---

# Основные концепции

## Оператор Rook

Оператор Rook — это простой контейнер, который содержит все необходимое для развертывания и мониторинга кластера хранения. Оператор запускает и мониторит поды Ceph monitor, демоны Ceph OSD для обеспечения хранения RADOS, а также запускает и управляет другими демонами Ceph. Оператор управляет CRD для пулов, объектных хранилищ (S3/Swift) и файловых систем, инициализируя поды и другие ресурсы, необходимые для работы сервисов.

Оператор будет мониторить демонов хранения, чтобы гарантировать, что кластер работает исправно. Mon-узлы Ceph будут запускаться или переключаться при необходимости, а также будут совершаться другие корректировки по мере роста или уменьшения кластера. Оператор также будет следить за изменениями желаемого состояния, указанными в собственных ресурсах Ceph (CR), и применять изменения.

Rook автоматически настраивает драйвер Ceph-CSI для монтирования хранилища к вашим подам. Образ rook/ceph включает все необходимые инструменты для управления кластером.

## Ceph CSI

Плагины Ceph CSI реализуют интерфейс между контейнерным оркестратором (CO), поддерживающим CSI, и кластерами Ceph. Они позволяют динамически предоставлять объемы Ceph и подключать их к рабочим нагрузкам.

## Функции модулей Ceph

| Модуль   | Функция                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| :------- | :----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| MON      | Монитор (MON) — это самый важный компонент кластера Ceph. Он управляет кластером Ceph и поддерживает статус всего кластера. MON гарантирует, что связанные компоненты кластера могут синхронизироваться одновременно. Он функционирует как лидер кластера и отвечает за сбор, обновление и публикацию информации о кластере.                                                                                                                                                                                                                   |
| MGR      | Менеджер (MGR) — это система мониторинга, которая предоставляет функции сбора, хранения, анализа (включая алерты) и визуализации. Она делает определенные параметры кластера доступными для внешних систем.                                                                                                                                                                                                                                                                                                          |
| OSD      | Демоны объектного хранения (OSD) хранят фактические пользовательские данные. Каждый OSD обычно связан с одним физическим диском. OSD обрабатывает запросы на чтение/запись от клиентов.                                                                                                                                                                                                                                                                                                                                                                                 |
| MDS      | Сервер метаданных Ceph (MDS) отслеживает иерархию файлов и хранит метаданные, используемые только для CephFS. RBD и RGW не требуют метаданных. MDS не предоставляет клиентам прямые сервисы передачи данных.                                                                                                                                                                                                                                                                                                     |
| RGW      | Шлюз RADOS (RGW) — это объектный шлюз Ceph, который предоставляет RESTful API, совместимый с S3 и Swift. RGW также поддерживает многоарендность и сервис идентификации OpenStack (Keystone).                                                                                                                                                                                                                                                                                                                          |
| RADOS    | Надежный Автономный Распределённый Объектный Хранилище (RADOS) — это сердце кластера хранения Ceph. Все в Ceph хранится RADOS в форме объектов независимо от их типов данных. Уровень RADOS обеспечивает согласованность и надежность данных за счет репликации, обнаружения и восстановления ошибок, а также восстановления данных между узлами кластера.                                                                                                                                                          |
| LIBRADOS | Librados — это метод, который упрощает доступ к RADOS. В настоящее время он поддерживает языки программирования PHP, Ruby, Java, Python, C и C++. Он предоставляет RADOS, локальный интерфейс кластера хранения Ceph, и является базовым компонентом других сервисов, таких как блочное устройство RADOS (RBD) и шлюз RADOS (RGW). Кроме того, он предоставляет Унифицированный интерфейс операционной системы (POSIX) для файловой системы Ceph (CephFS). API Librados может быть использован для прямого доступа к RADOS, позволяя разработчикам создавать собственные интерфейсы для доступа к хранилищу кластера Ceph. |
| RBD      | Блочное устройство RADOS (RBD) — это блочное устройство Ceph, которое предоставляет блочное хранилище для внешних систем. Его можно смонтировать, отформатировать и подключить как диск к серверу.                                                                                                                                                                                                                                                                                                       |
| CephFS   | CephFS предоставляет совместимую с POSIX распределённую файловую систему любого размера. Она зависит от Ceph MDS для отслеживания иерархии файлов, а именно метаданных.                                                                                                                                                                                                                                                                                                                 |
