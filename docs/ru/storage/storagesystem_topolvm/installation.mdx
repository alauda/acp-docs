---
weight: 15
sourceSHA: 8d3cff86ee819c45954391259f2d2ae12be359d3d31907bd4641dc9d0f0c164a
---

# Установка

Локальное хранилище — это решение для программно определенного локального хранилища на сервере, которое обеспечивает простой и удобный в обслуживании высокопроизводительный сервис локального хранилища. На основе решения TopoLVM из сообщества оно достигает управления оркестрацией постоянных объемов локального хранилища с помощью подхода LVM системы.

## Предварительные требования

Пакет lvm2 должен быть установлен на каждом узле кластера хранилища. Если он не установлен, пожалуйста, выполните команду `yum install -y lvm2` на узле.

## Шаги

1. Перейдите в **Управление платформой**.

2. В левой навигационной панели нажмите **Управление хранилищем** > **Локальное хранилище**.

3. Нажмите **Настроить сейчас**.

4. На странице мастера **Установить оператор**, нажмите **Начать развертывание**.

   - Когда страница автоматически переходит к следующему шагу, это указывает на успешное развертывание оператора.

   - Если развертывание не удалось, пожалуйста, обратитесь к подсказкам на интерфейсе для решения проблемы. Затем нажмите **Очистить** и повторно разверните оператора.

5. На странице мастера **Создать кластер** добавьте устройства.

   | Параметр            | Описание                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
   | ------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
   | **Выбрать узел**    | Узел с как минимум 1 необработанным диском.                                                                                                                                                                                                                                                                                                                                                                                                                                            |
   | **Класс устройства** | Каждый класс устройства соответствует набору носителей хранения с одинаковыми характеристиками. Рекомендуется заполнить название на основе природы диска, например, *hdd*, *ssd*.                                                                                                                                                                                                                                                                                                    |
   | **Тип устройства**   | Поддерживаются только типы дисков.                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
   | **Устройство хранения** | Например, */dev/sda*. Если дисков несколько, их можно добавить по одному.                                                                                                                                                                                                                                                                                                                                                                                                            |
   | **Снимок**          | Когда включено, это поддерживает создание снимков PVC и использование снимков для настройки новых PVC для быстрого резервного копирования и восстановления бизнес-данных. <br />Если снимок не был активирован при создании хранилища, вы все равно можете включить его по мере необходимости в разделе **Операции** на странице деталей кластера хранилища. <br />**Примечание**: перед использованием, пожалуйста, убедитесь, что плагин [Volume Snapshot Plugin](/configure/storage/functions/snapshot_con.mdx) был развернут для текущего кластера. |

   - Нажмите Далее. Когда страница автоматически переходит к следующему шагу, это указывает на успешное развертывание кластера.

   - Если создание не удалось, пожалуйста, обратитесь к подсказкам на интерфейсе и своевременно очистите ресурсы.

6. На странице мастера **Создать класс хранения** настройте соответствующие параметры.

   | Параметр                | Описание                                                                                                                                                                                                                                                                                                                                                                                          |
   | ------------------------ | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
   | **Имя**                  | Имя класса хранения. Оно должно быть уникальным в пределах текущего кластера.                                                                                                                                                                                                                                                                                                                     |
   | **Отображаемое имя**     | Имя, которое помогает вам идентифицировать или фильтровать, например, описание класса хранения на китайском языке.                                                                                                                                                                                                                                                                                    |
   | **Класс устройства**     | Класс устройства — это способ категоризировать устройства хранения в TopoLVM. Каждый класс устройства соответствует набору носителей хранения с одинаковыми характеристиками. Если нет специальных требований, вы можете использовать класс устройства **Авто-распределенный** из кластера.                                                                                                                                 |
   | **Файловая система**     | - **XFS** — высокопроизводительная файловая система с ведением журналов, эффективно работающая с параллельными I/O нагрузками, поддерживающая обработку больших файлов и обеспечивающая плавный перенос данных. <br />- **EXT4** — файловая система с ведением журналов в Linux, предлагающая методы хранения файлового расширения и поддерживающая обработку больших файлов. Файловая система может достичь емкости 1 EiB, с максимальным поддерживаемым размером файла 16 TiB. |
   | **Политика переработки** | Политика переработки постоянных объемов. <br />- Удалить: когда запрос постоянного объема удаляется, связанный постоянный объем также удаляется. <br />- Удержать: даже если запрос постоянного объема удаляется, связанный постоянный объем все равно будет удерживаться.                                                                                                                            |
   | **Способ доступа**       | ReadWriteOnce (RWO): может быть смонтирован одним узлом в режиме чтения-записи.                                                                                                                                                                                                                                                                                                                        |
   | **Проект распределения** | Этот тип запроса постоянного объема может быть создан только в определенных проектах. <br />Если проект временно не назначен, проект также может быть **Обновлен** позже.                                                                                                                                                                                                                                 |

7. Нажмите **Далее** и дождитесь завершения создания ресурсов.
