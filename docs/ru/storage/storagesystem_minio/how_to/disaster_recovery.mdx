---
weight: 10
sourceSHA: 83344fbc7fba2b7878b5ac3f064e8056c3e7a2515dbe5c02378072b2a47b51db
---

# Восстановление данных после катастроф

MinIO поддерживает создание центра восстановления данных через удалённое резервное копирование или активное активное развертывание, чтобы гарантировать, что оригинальные данные не будут потеряны или повреждены в случае катастрофы, таким образом обеспечивая безопасность и надежность данных.

## Применимые сценарии

- **Горячее резервное копирование**: В одном городе или в разных местах есть два центра обработки данных, один первичный и один резервный. Данные реплицируются в режиме реального времени из первичного кластера в резервный кластер для обеспечения согласованности данных. Когда происходит катастрофа в первичном кластере, бизнес-трафик может беспрепятственно переключаться на резервный кластер для обеспечения непрерывности бизнеса.

- **Активное активное развертывание на уровне города**: В архитектуре активного активного развертывания на уровне города (мультикластерной) есть два центра обработки данных, расположенных в разных кластерах. Оба центра обработки данных активны и могут одновременно обрабатывать бизнес-трафик. Когда один центр обработки данных сталкивается с катастрофой, бизнес может продолжать работать без перерывов в другом центре обработки данных.

## Терминология

- **Первичный кластер**: Относится к кластеру, который в данный момент активен и обрабатывает бизнес-запросы. Это источник данных или инициатор операций. В первичном кластере данные создаются, изменяются или обновляются, и бизнес-трафик сначала отправляется в этот кластер для обработки.

- **Целевой кластер**: Относится к кластеру, который получает репликацию данных, миграцию или переключение. Обычно он находится в резервном или ожидательном состоянии, ожидая получения данных из первичного кластера или переключения бизнес-трафика. Когда первичный кластер выходит из строя или необходимо переключение, целевой кластер получает копии данных из первичного кластера или берет на себя бизнес-трафик для обеспечения непрерывности бизнеса. В сценарии активного активного развертывания оба кластера могут выступать в роли целевого кластера друг друга.

## Предварительные условия

- Как первичный кластер, так и целевой кластер должны иметь доступ к внешней сети. Для получения конкретных методов настройки обратитесь к [Создание объектного хранилища](/storage/storagesystem_minio/installation.mdx).

- Первичный кластер должен использовать метод доступа **LoadBalancer**, в то время как для целевого кластера рекомендуется поддерживать функциональность **балансировки нагрузки**.

- Первичный кластер и целевой кластер должны использовать один и тот же протокол доступа, т.е. либо оба использовать HTTP, либо оба использовать HTTPS.

- При использовании протокола HTTPS как первичный кластер, так и целевой кластер должны настроить DNS-резолюшн для себя и друг друга.

- При использовании протокола HTTPS рекомендуется, чтобы как первичный кластер, так и целевой кластер использовали сертификаты, подписанные Удостоверяющим центром (CA), чтобы обеспечить безопасную и доверенную связь; если используются самоподписанные сертификаты, обе стороны должны импортировать и доверять самоподписанным сертификатам друг друга, чтобы успешно установить безопасное HTTPS соединение.

## Шаги выполнения

1. Введите **Управление платформой**.

2. В левой навигационной панели нажмите **Управление хранилищем** > **Объектное хранилище**.

3. На вкладке **Восстановление данных после катастрофы** нажмите **Добавить целевой кластер**.

4. Настройте соответствующие параметры для целевого кластера в соответствии с приведёнными ниже инструкциями.

   | Параметр            | Описание                                                                                                                                                                      |
   | ------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
   | **Адрес доступа**   | Внешний адрес доступа целевого кластера, начинающийся с http:// или https://.                                                                                            |
   | **Access Key**      | Идентификатор Access Key для целевого кластера. Уникальный идентификатор, связанный с закрытым ключом доступа; используется вместе с закрытым ключом доступа для шифрования запросов. |
   | **Secret Key**      | Закрытый ключ доступа, используемый вместе с идентификатором Access Key для шифрования запросов, идентификации отправителя и предотвращения изменения запросов.                   |

5. Нажмите **Добавить**.

   - После успешного добавления вы сможете просмотреть статус целевого кластера и статус синхронизации между кластерами.

     | Параметр                | Описание                                                                                                                                                                                                                                                                                                                                                                                                                                   |
     | ----------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
     | **Статус кластера**     | Статус целевого кластера, включая **Здоровый**, **Аномальный** или **Неизвестный**.                                                                                                                                                                                                                                                                                                                                                       |
     | **Корзины**             | Количество корзин, ожидающих синхронизации, и уже синхронизированных.<br /><ul><li>В сценариях горячего резервного копирования ожидающая синхронизация относится к количеству корзин, которые первичный кластер должен синхронизировать с целевым кластером.</li><li>В сценариях активного активного развертывания на уровне города ожидающая синхронизация относится к общему количеству корзин, которые необходимо синхронизировать между первичным и целевым кластерами.</li></ul> |
     | **Объекты**             | Количество объектов, которые не удалось синхронизировать в корзине.<br />**Примечание**: Это число только для справки, так как MinIO синхронизирует соответствующие файлы конфигурации во время синхронизации.                                                                                                                                                                                                                                      |
     | **Скорость сетевого трафика** | Скорость входящего и исходящего трафика первичного кластера.<br /><ul><li>В сценариях горячего резервного копирования скорость входящего трафика всегда равна 0.</li><li>В сценариях активного активного развертывания на уровне города как входящие, так и исходящие скорости имеют данные.</li></ul>                                                                                                      |

   - Если добавление целевого кластера не удалось, вы можете нажать **Повторно добавить**, чтобы очистить информацию о кластере и вернуться к странице добавления целевого кластера, где вы можете повторно добавить целевой кластер.

## Связанные операции

Когда восстановление данных больше не требуется, вы можете нажать **Удалить целевой кластер**. Удаление целевого кластера не удаляет данные, которые были синхронизированы; если какие-либо данные в настоящее время синхронизируются, это будет прервано.
