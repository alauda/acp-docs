---
weight: 10
sourceSHA: 83344fbc7fba2b7878b5ac3f064e8056c3e7a2515dbe5c02378072b2a47b51db
---

# Восстановление данных после катастроф

MinIO поддерживает создание центра восстановления после катастроф с помощью удаленного резервного копирования данных или активной активной развертки, чтобы гарантировать, что оригинальные данные не будут потеряны или повреждены в случае катастрофы, тем самым обеспечивая безопасность и надежность данных.

## Применимые сценарии

- **Горячее резервное копирование**: Существует два дата-центра в одном городе или в разных локациях, один основной и один резервный. Данные реплицируются в режиме реального времени из основного кластера в резервный кластер, чтобы обеспечить согласованность данных. Когда происходит катастрофа в основном кластере, бизнес-трафик может быть бесшовно переключен на резервный кластер, чтобы обеспечить непрерывность бизнеса.

- **Активное взаимодействие на уровне города**: В архитектуре активного взаимодействия на уровне города (мультикластер) существует два дата-центра, расположенные в разных кластерах. Оба дата-центра активны и могут одновременно принимать бизнес-трафик. Когда один дата-центр сталкивается с катастрофой, бизнес может продолжать работать без перебоев в другом дата-центре.

## Терминология

- **Основной кластер**: Относится к кластеру, который в настоящее время активен и обрабатывает бизнес-запросы. Это источник данных или инициатор операций. В основном кластере данные создаются, изменяются или обновляются, и бизнес-трафик сначала отправляется в этот кластер для обработки.

- **Целевой кластер**: Относится к кластеру, который получает репликацию данных, миграцию или переключение. Обычно он находится в резервном или ожидании состоянии, ожидая получения данных из основного кластера или переключения бизнес-трафика. Когда основной кластер выходит из строя или необходимо переключение, целевой кластер будет получать копии данных из основного кластера или брать на себя бизнес-трафик, чтобы обеспечить непрерывность бизнеса. В сценарии активного взаимодействия оба кластера могут служить целевыми кластерами друг для друга.

## Предварительные условия

- Как основной кластер, так и целевой кластер должны иметь включенный доступ к внешней сети. Для получения конкретных методов конфигурации обратитесь к [Создание объектного хранилища](/storage/storagesystem_minio/installation.mdx).

- Основной кластер должен использовать метод доступа **LoadBalancer**, в то время как целевому кластеру рекомендуется поддерживать функциональность **балансировки нагрузки**.

- Основной кластер и целевой кластер должны использовать один и тот же протокол доступа, т. е. либо оба используют HTTP, либо оба используют HTTPS.

- При использовании протокола HTTPS как основной кластер, так и целевой кластер должны настроить DNS-разрешение для себя и друг друга.

- При использовании протокола HTTPS рекомендуется, чтобы как основной кластер, так и целевой кластер использовали сертификаты, подписанные Удостоверяющим центром, для обеспечения безопасной и надежной связи; если используются самоподписанные сертификаты, обе стороны должны импортировать и доверять самоподписанным сертификатам друг друга для успешного установления безопасного HTTPS-соединения.

## Шаги по выполнению

1. Перейдите в **Управление платформой**.

2. В левой боковой панели навигации нажмите **Управление хранилищем** > **Объектное хранилище**.

3. На вкладке **Восстановление данных после катастроф** нажмите **Добавить целевой кластер**.

4. Настройте соответствующие параметры для целевого кластера в соответствии с приведенными ниже инструкциями.

   | Параметр             | Описание                                                                                                                                                                |
   | --------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
   | **Адрес доступа**     | Внешний адрес доступа целевого кластера, начинающийся с http\:// или https\://.                                                                                    |
   | **Ключ доступа**      | Идентификатор ключа доступа для целевого кластера. Уникальный идентификатор, связанный с закрытым ключом доступа; используется совместно с закрытым ключом доступа для шифрования запросов. |
   | **Секретный ключ**    | Закрытый ключ доступа, используемый совместно с идентификатором ключа доступа для шифрования запросов, идентификации отправителя и предотвращения изменения запросов.                              |

5. Нажмите **Добавить**.

   - После успешного добавления вы сможете увидеть состояние целевого кластера и состояние синхронизации между кластерами.

     | Параметр                | Описание                                                                                                                                                                                                                                                                                                                                                                                                                                     |
     | ----------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
     | **Статус кластера**     | Статус целевого кластера, включая **Здоровый**, **Аномальный** или **Неизвестный**.                                                                                                                                                                                                                                                                                                                                                          |
     | **Корзины**             | Количество корзин, ожидающих синхронизации, и тех, которые уже синхронизированы.<br /><ul><li>В сценариях горячего резервного копирования ожидающая синхронизация относится к количеству корзин, которые основной кластер должен синхронизировать с целевым кластером.</li><li>В сценариях активного взаимодействия на уровне города ожидающая синхронизация относится к общему количеству корзин, которые необходимо синхронизировать между основным и целевым кластерами.</li></ul> |
     | **Объекты**             | Количество объектов, которые не удалось синхронизировать в корзине.<br />**Примечание**: Это число предназначено только для справки, так как MinIO синхронизирует связанные конфигурации файлов во время синхронизации.                                                                                                                                                                                                                                                     |
     | **Скорость сетевого трафика** | Скорость входящего и исходящего сетевого трафика основного кластера.<br /><ul><li>В сценариях горячего резервного копирования скорость входящего трафика всегда равна 0.</li><li>В сценариях активного взаимодействия на уровне города скорости как входящего, так и исходящего трафика имеют данные.</li></ul>                                                                                                                                                                                                       |

   - Если добавление целевого кластера не удалось, вы можете нажать **Добавить снова**, чтобы очистить информацию о кластере и вернуться на страницу добавления целевого кластера, где вы сможете снова добавить целевой кластер.

## Связанные операции

Когда восстановление данных после катастрофы больше не требуется, вы можете нажать **Удалить целевой кластер**. Удаление целевого кластера не удаляет данные, которые были синхронизированы; если какие-либо данные в настоящее время синхронизируются, это будет прервано.
