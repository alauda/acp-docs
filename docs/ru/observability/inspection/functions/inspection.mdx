---
weight: 10
sourceSHA: e3da943a79c74a3645daf9ffeba031d302bce4d52e9434900805b057a5597dea
---

# Проверка

## Проведение проверки

1. Нажмите на **Операционный центр** > **Проверка** > **Базовая проверка** в левом навигационном меню.

   **Совет**: На странице проверки отображается информация о данных проверки из последней проверки. В процессе проверки вы можете в режиме реального времени просматривать данные ресурсов завершенных проверок.

2. На странице базовой проверки поддерживаются следующие действия:

   - **Провести проверку**: Нажмите кнопку **Проверка** в правом верхнем углу страницы, чтобы выполнить проверку на платформе.

   - **Скачать отчет о проверке**: Нажмите кнопку **Скачать отчет** в правом верхнем углу страницы, выберите формат отчета (PDF и Excel) в диалоговом окне, и нажмите для скачивания, что позволит загрузить соответствующий отчет в ваш локальный компьютер.

     - Отчет о проверке в формате PDF не включает данные страницы рисков ресурсов;

     - Отчет о проверке в формате Excel содержит все данные из проверки;

     - Поддерживает одновременную загрузку отчетов в обоих форматах.

## Конфигурация проверки

| Конфигурация проверки                | Описание                                                                                                                                                                                                                                                                 |
| ----------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Запланированная проверка**        | Правила тайминг выполнения автоматической задачи, поддерживающие ввод выражений Crontab.<br />**Совет**: Нажмите на поле ввода, чтобы развернуть предустановленные шаблоны **Правил запуска** платформы, выберите подходящий шаблон и быстро настройте правила запуска с помощью простых изменений. |
| **Сохранение записей о проверке**    | Количество сохраняемых записей о проверках.                                                                                                                                                                                                                                |
| **Уведомление по электронной почте** | Выберите контактные лица для уведомлений по электронной почте.<br />**Примечание**: Контакты для уведомлений должны иметь настроенную электронную почту.                                                                                                                                                                        |
| **Имя отчета о проверке**          | Имя, которое будет использоваться встроенным шаблоном уведомления о проверке платформы для уведомления контактов.                                                                                                                                                                  |
| **Элементы конфигурации проверки**  | Изменение пороговых значений предупреждений или отключение элементов проверки в зависимости от предустановленных по умолчанию элементов проверки платформы для сертификатов, узлов кластеров и подов.                                                                                                                       |

## Объяснение отчета о проверке

### Последняя проверка

В информационной области **Последняя проверка** вы можете просмотреть соответствующую информацию из последней проверки:

- **Время проверки**: Время начала и окончания последней проверки.

- **Общее количество проверяемых ресурсов**: Общее количество ресурсов (кластеры, узлы, поды, сертификаты), проверенных в последней проверке.

- **Риски**: Количество ресурсов с риском, включая те, которые классифицированы как **Ошибка** и **Предупреждение**.

### Проверка рисков ресурсов

На странице **Проверка рисков ресурсов** вы можете просмотреть обзор информации о рисках для `global` кластеров, самопостроенных кластеров, доступных кластеров, а также всех узлов, подов и сертификатов под этими кластерами.

Нажмите кнопку **Детали рисков** на карточке соответствующего типа ресурса (**Кластер**, **Узел**, **под**, **Сертификат**), чтобы перейти на страницу деталей рисков для этого типа ресурса. На странице деталей вы можете просмотреть последнюю проверку информации для ресурса, а также список ресурсов с ошибками и предупреждениями.

- Нажмите на имя ресурса, чтобы перейти на страницу деталей ресурса.

- Нажмите кнопку разворота справа от поля **Имя** в списке, чтобы развернуть условия и причины для ошибок и предупреждений.

Для объяснений критериев оценки статуса рисков (Ошибка, Предупреждение) для каждого ресурса смотрите таблицу ниже.

**Примечание**: Существуют несколько условий, используемых для оценки ошибок и предупреждений для каждого типа ресурса; когда данные проверки ресурса соответствуют любому из условий оценки, это считается единицей данных о риске.

| Тип ресурса   | Область проверки                                                      | Условия судейства ошибок                                                                                                                                                                      | Условия судейства предупреждений                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| -------------- | -------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| **Кластер**    | - `global` кластер <br />- Самопостроенный кластер <br />- Доступный кластер | - Статус кластера **Аномальный**; <br />- Подключение к apiserver аномально                                                                                                                  | - После увеличения масштаба кластера (количество узлов/подов/мир) конфигурация ресурсов компонента мониторинга не обновлена.<br />- После увеличения объема данных журнала и частоты сбора журналов, конфигурация ресурсов компонента журналов не обновлена.<br />- Использование ЦП кластера превышает 60%; <br />- Использование памяти кластера превышает 60%; <br />- Любой под в компоненте ETCD кластера находится в ненормальном состоянии;<br />- Любой узел в кластере находится в ненормальном состоянии; <br />- Разница во времени между любыми двумя узлами в кластере превышает 40 секунд;<br />- Темп запроса CPU кластера (фактическое значение запроса / всего) превышает 60%;<br />- Темп запроса памяти кластера (фактическое значение запроса / всего) превышает 80%;<br />- Компоненты мониторинга не установлены в кластере;<br />- Компоненты мониторинга кластера аномальны;<br />- Любой под в компоненте **kube-controller-manager** кластера находится в ненормальном состоянии;<br />- Любой под в компоненте **kube-scheduler** кластера находится в ненормальном состоянии;<br />- Любой под в компоненте **kube-apiserver** кластера находится в ненормальном состоянии. |
| **Узел**       | - Все контролирующие узлы <br />- Все вычислительные узлы                          | - Статус узла **Аномальный**;<br />- Под компонента **node-exporter** на узле находится в ненормальном состоянии;<br />- Под компонента **kubelet** на узле находится в ненормальном состоянии. | - Свободное количество inode узла составляет менее 1000<br />- Использование ЦП узлом превышает 60%;<br />- Использование памяти узлом превышает 60%;<br />- Использование дискового пространства каталога узла превышает 60%;<br />- Системная нагрузка узла превышает 200% и время выполнения превышает 15 минут;<br />- За последние сутки произошло хотя бы одно событие NodeDeadlock (мертвая блокировка узла);<br />- За последние сутки произошло хотя бы одно событие NodeOOM (не хватает памяти);<br />- За последние сутки произошло хотя бы одно событие NodeTaskHung (задача зависла);<br />- За последние сутки произошло хотя бы одно событие NodeCorruptDockerImage (поврежденный образ Docker).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| **под**        | Все поды                                                                | - Статус пода **Ошибка**;<br />- Под находится в состоянии запуска более 5 минут.                                                                                                             | - Использование ЦП подом превышает 80%;<br />- Использование памяти подом превышает 80%;<br />- Количество перезапусков пода за последние 5 минут больше или равно 1.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| **Сертификат** | - Сертификаты Certmanager <br />- Сертификаты Kubernetes                | Статус сертификата **Истек**.                                                                                                                                                                   | Срок действия сертификата составляет менее 29 дней.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |

### Проверка использования ресурсов

Нажмите на вкладку **Проверка использования ресурсов**, чтобы перейти на страницу **Проверка использования ресурсов**.

На странице **Проверка использования ресурсов** вы можете просмотреть общее количество, использование и уровень использования ЦП, памяти и диска для `global` кластеров, доступных кластеров и самопостроенных кластеров, а также количество ресурсов, таких как кластеры, узлы, поды и проекты на платформе.

- **Статистика использования ресурсов**: Вы можете просмотреть общее количество и общий уровень использования ЦП, памяти и диска глобальных, доступных и самопостроенных кластеров.

- **Количество ресурсов платформы**: Вы можете просмотреть количество ресурсов, работающих на платформе.
