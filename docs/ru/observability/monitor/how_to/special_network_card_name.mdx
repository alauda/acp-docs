---
weight: 30
sourceSHA: 4fb24edc3b7f176746cc9fa4075d421f00406f97932fd47781d13ef0e073d7c9
---

# Сбор сетевых данных с интерфейсов с пользовательскими именами

## Обзор функции

Платформа поддерживает сбор сетевых данных с интерфейсов с пользовательскими именами путем изменения конфигурации компонента мониторинга, что позволяет вам просматривать информацию о сетевом трафике для этих интерфейсов на странице мониторинга.

## Сценарий использования

Это применимо, когда ваши узлы используют интерфейсы с пользовательскими именами (не следуя соглашениям об именах `eth.|en.|wl.*|ww.*`) и требуется мониторинг данных сетевого трафика этих интерфейсов на платформе.

## Предварительные требования

- Кластер рабочих нагрузок был создан
- У вас есть права администратора платформы
- Известны соглашения об именах пользовательских сетевых интерфейсов

## Процедуры выполнения

1. Нажмите на значок инструмента CLI в верхней навигационной панели платформы.

2. Нажмите **global**.

3. В кластере `global` найдите название ресурса moduleinfo, соответствующее вашему кластеру рабочих нагрузок:

   ```bash
   kubectl get moduleinfo | grep -E 'prometheus|victoriametrics'
   ```

   Пример вывода:

   ```
   global-6448ef7f7e5e3924c1629fad826372e7     global     prometheus          prometheus                          Running   v3.15.0-zz231204040711-9d1fc12474c2   v3.15.0-zz231204040711-9d1fc12474c2   v3.15.0-zz231204040711-9d1fc12474c2
   ovn-0954f21f0359720e8c115804376b3e7e        ovn        prometheus          prometheus                          Running   v3.15.0-zz231204040711-9d1fc12474c2   v3.15.0-zz231204040711-9d1fc12474c2   v3.15.0-zz231204040711-9d1fc12474c2
   ```

4. Отредактируйте ресурс moduleinfo кластера рабочих нагрузок:

   ```bash
   kubectl edit moduleinfo <название ресурса moduleinfo вашего кластера рабочих нагрузок>
   ```

5. Добавьте или измените поле valuesOverride:

   ```yaml
   spec:
     valuesOverride:# Если это поле не существует, вы должны добавить поле valuesOverride под spec вместе со следующими параметрами
       ait/chart-cpaas-monitor:
         global: 
           indicator:
             networkDevice: eth.*|em.*|en.*|wl.*|ww.*|[A-Z].*i|custom_interface # Замените custom_interface на пользовательское регулярное выражение, чтобы обеспечить правильное соответствие имени сетевого интерфейса
   ```

6. После ожидания 10 минут проверьте графики, связанные с сетью, на странице мониторинга узла, чтобы убедиться, что изменения вступили в силу.

## Результаты операции

Как только конфигурация вступила в силу, вы можете просматривать следующие данные интерфейсов с пользовательскими именами на странице мониторинга платформы:

- Данные сетевого трафика
- Пропускная способность сети
- Статистика сетевых пакетов

## Узнать больше

- Для получения более подробной информации о мониторинге сети, пожалуйста, обратитесь к [Документации по архитектуре мониторинга](../architecture/index.mdx)

## Последующие действия

- Мониторинг метрик производительности пользовательских сетевых интерфейсов
- Установка правил оповещения на основе данных мониторинга
