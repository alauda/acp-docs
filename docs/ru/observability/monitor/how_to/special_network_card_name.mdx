---
weight: 30
sourceSHA: 4fb24edc3b7f176746cc9fa4075d421f00406f97932fd47781d13ef0e073d7c9
---

# Сбор сетевых данных с интерфейсов с настраиваемыми именами

## Обзор функции

Платформа поддерживает сбор сетевых данных с интерфейсов с настраиваемыми именами путем изменения конфигурации компонента мониторинга, что позволяет вам просматривать информацию о сетевом трафике для этих интерфейсов на странице мониторинга.

## Случай использования

Это применимо, когда ваши узлы используют интерфейсы с настраиваемыми именами (не следуя соглашениям об именовании `eth.|en.|wl.*|ww.*`) и требуют мониторинга сетевых данных этих интерфейсов на платформе.

## Предварительные условия

- Кластер рабочих нагрузок был создан
- У вас есть права администратора платформы
- Соглашения об именах для настраиваемых сетевых интерфейсов известны

## Процедуры выполнения операций

1. Нажмите на иконку инструмента CLI в верхней навигационной панели платформы.

2. Нажмите **global**.

3. В кластере `global` найдите имя ресурса moduleinfo, соответствующее вашему кластеру рабочих нагрузок:

   ```bash
   kubectl get moduleinfo | grep -E 'prometheus|victoriametrics'
   ```

   Пример вывода:

   ```
   global-6448ef7f7e5e3924c1629fad826372e7     global     prometheus          prometheus                          Running   v3.15.0-zz231204040711-9d1fc12474c2   v3.15.0-zz231204040711-9d1fc12474c2   v3.15.0-zz231204040711-9d1fc12474c2
   ovn-0954f21f0359720e8c115804376b3e7e        ovn        prometheus          prometheus                          Running   v3.15.0-zz231204040711-9d1fc12474c2   v3.15.0-zz231204040711-9d1fc12474c2   v3.15.0-zz231204040711-9d1fc12474c2
   ```

4. Отредактируйте ресурс moduleinfo вашего кластера рабочих нагрузок:

   ```bash
   kubectl edit moduleinfo <moduleinfo resource name of the workload cluster>
   ```

5. Добавьте или измените поле valuesOverride:

   ```yaml
   spec:
     valuesOverride:# Если это поле не существует, вам нужно добавить поле valuesOverride под spec вместе с параметрами ниже
       ait/chart-cpaas-monitor:
         global: 
           indicator:
             networkDevice: eth.*|em.*|en.*|wl.*|ww.*|[A-Z].*i|custom_interface # Замените custom_interface на свой регулярное выражение для правильного сопоставления имени сетевого интерфейса
   ```

6. После ожидания 10 минут проверьте диаграммы, связанные с сетью, на странице мониторинга узла, чтобы убедиться, что изменения вступили в силу.

## Результаты операции

Как только конфигурация вступит в силу, вы сможете просматривать следующие данные на странице мониторинга платформы для интерфейсов с настраиваемыми именами:

- Данные сетевого трафика
- Пропускная способность сети
- Статистика сетевых пакетов

## Узнать больше

- Для получения дополнительной информации о мониторинге сети, пожалуйста, смотрите [Документацию по архитектуре мониторинга](../architecture/index.mdx)

## Последующие действия

- Мониторинг производственных метрик настраиваемых сетевых интерфейсов
- Установить правила оповещения на основе данных мониторинга
