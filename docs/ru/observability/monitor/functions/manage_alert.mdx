---
weight: 20
sourceSHA: 261657769c7e0e52f1b466f9af35cab1a3baa0016ef15de5d607b078705faed3
---

# Управление Оповещениями

## Обзор Функции

Функция управления оповещениями платформы предназначена для помощи пользователям в комплексном мониторинге и своевременном выявлении аномалий в системе. Используя предустановленные системные оповещения и гибкие возможности пользовательских оповещений, в сочетании со стандартизированными шаблонами оповещений и многоуровневым механизмом управления, она предоставляет полное решение по оповещениям для специалистов по эксплуатации и обслуживанию.

Будь то администраторы платформы или бизнес-персонал, они могут удобно настраивать и управлять политиками оповещения в пределах своих разрешений для эффективного мониторинга ресурсов платформы.

## Ключевые Функции

- **Встроенные Политики Системных Оповещений**: Богатые правила оповещения настроены на основе общих идей диагностики неисправностей для `глобальных` кластеров и кластеров рабочих нагрузок.
- **Пользовательские Правила Оповещения**: Поддерживает создание правил оповещения на основе различных источников данных, включая предустановленные показатели мониторинга, пользовательские показатели мониторинга, элементы мониторинга черного ящика, данные логов платформы и данные событий платформы.
- **Управление Шаблонами Оповещений**: Поддерживает создание и управление стандартизированными шаблонами оповещений для быстрого применения к похожим ресурсам.
- **Интеграция Уведомлений Оповещения**: Поддерживает отправку информации об оповещениях специалистам по эксплуатации и обслуживанию через различные каналы.
- **Изоляция Просмотра Оповещений**: Различает оповещения управления платформы и бизнес-оповещения, обеспечивая сосредоточенность специалистов в разных ролях на соответствующей информации об оповещениях.
- **Просмотр Оповещений в Реальном Времени**: Предоставляет оповещения в реальном времени, предлагая концентрированные показы количества ресурсов, которые в настоящее время имеют оповещения, и подробной информации об оповещениях.
- **Просмотр Истории Оповещений**: Поддерживает просмотр исторических записей оповещений за определенный период, облегчая анализ последних условий мониторинга оповещений специалистами по эксплуатации и администраторами.

## Функциональные Преимущества

- **Комплексное Покрытие Мониторинга**: Поддерживает мониторинг различных типов ресурсов, таких как кластеры, узлы и вычислительные компоненты, и предлагает богато встроенные системные политики оповещения, которые можно использовать без дополнительной настройки.
- **Эффективное Управление Оповещениями**: Стандартизированные настройки через шаблоны оповещения повышают операционную эффективность, а разделение представлений оповещений облегчает специалистам в разных ролях быстро находить соответствующие оповещения.
- **Своевременное Выявление Проблем**: Оповещения автоматически инициируются для обеспечения их своевременного обнаружения, поддерживая многоканальную отправку оповещений для проактивного предотвращения проблем.
- **Надежное Управление Разрешениями**: Строгий контроль доступа к политике оповещений обеспечивает безопасность и управляемость информации об оповещениях.

## Создание Политик Оповещения через UI \{#alert\_ui}

### Предварительные Условия

- Конфигурирована политика уведомлений (если необходимо настроить автоматические уведомления об оповещениях).
- Компоненты мониторинга установлены в целевом кластере (требуется при создании политик оповещения с использованием показателей мониторинга).
- Компоненты хранения логов и компоненты сбора логов установлены в целевом кластере (требуется при создании политик оповещения с использованием логов и событий).

### Процедуры

1. Перейдите в **Центр Эксплуатации и Обслуживания** > **оповещения** > **политики оповещения**.
2. Нажмите **Создать Политику Оповещения**.
3. Настройте основную информацию.

#### Выбор Типа Оповещения

**Ресурсное Оповещение**

- Типы оповещений, классифицированные по типу ресурса (например, статус развертывания в пространстве имен).
- Описание выбора ресурса:
  - По умолчанию выбирается "Любой", если параметр не выбран, поддерживая автоматическую ассоциацию с новыми ресурсами.
  - Когда выбрано "Выбрать Все", это применяется только к текущему ресурсу.
  - Когда выбрано несколько пространств имен, имена ресурсов поддерживают регулярные выражения (например, `cert.*`).

**Событийное Оповещение**

- Типы оповещений, классифицированные по конкретным событиям (например, ненормальный статус Pod).
- По умолчанию выбирает все ресурсы под указанным ресурсом и поддерживает автоматическую ассоциацию с новыми ресурсами.

#### Настройка Правил Оповещений

Нажмите **Добавить Правило Оповещения** и настройте следующие параметры в зависимости от типа оповещения:

**Параметры Ресурсного Оповещения**

| Параметр          | Описание                                                                                                                                                                                                                                                                                               |
| ----------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Выражение         | Алгоритм мониторинга метрики в формате Prometheus, например, `rate(node_network_receive_bytes{instance="$server",device!~"lo"}[5m])`                                                                                                                                                                           |
| Единица Метрики   | Пользовательская единица метрики мониторинга, может быть введена вручную или выбрана из предустановленных единиц платформы                                                                                                                                                                             |
| Параметр Легенды  | Контролирует имя, соответствующее кривой на графике, отформатированное как `{{.LabelName}}`, например, `{{.hostname}}`                                                                                                                                                                                         |
| Временной Интервал | Временной интервал для запросов логов/событий                                                                                                                                                                                                                                                                         |
| Содержимое Логов  | Поля запроса для содержимого логов (например, Ошибка), где несколько полей запроса связаны через ИЛИ                                                                                                                                                                                                                  |
| Причина События   | Поля запроса для причин событий (Причина, например, BackOff, Pulling, Failed и т. д.), где несколько полей запроса связаны через ИЛИ                                                                                                                                                                               |
| Условие Срабатывания | Условие, состоящее из операторов сравнения, порогов оповещения и длительности (по желанию). Определяет, срабатывает ли оповещение на основе сравнения значений в реальном времени/количества логов/количества событий с порогом оповещения, а также длительность значений в реальном времени в диапазоне порога оповещения. |
| Уровень Оповещения | Делится на четыре уровня: Критический, Серьезный, Предупреждение и Информация. Вы можете установить разумный уровень оповещения в зависимости от влияния правил оповещения на бизнес для соответствующих ресурсов.                                                                                                              |

**Параметры Событийного Оповещения**

| Параметр             | Описание                                                                               |
| --------------------- | ----------------------------------------------------------------------------------------- |
| Временной Интервал    | Временной интервал для запросов событий                                                         |
| Элемент Мониторинга Событий | Поддерживает мониторинг уровней событий или причин событий, где несколько полей связаны через ИЛИ |
| Условие Срабатывания   | Основано на количестве событий для сравнительного суждения                                      |
| Уровень Оповещения    | То же самое определение, что и для уровней ресурсного оповещения                                      |

#### Другие Настройки

1. Выберите одну или несколько созданных политик уведомлений.
2. Настройте интервалы отправки оповещений.
   - Глобально: Использовать настройку по умолчанию платформы.
   - Пользовательская: Можно установить различные интервалы отправки в зависимости от уровней оповещений.
   - Когда выбрано "Не Повторять", уведомления будут отправлены только при возникновении и восстановлении оповещения.

### Дополнительные Заметки

1. В опциях "Дополнительно" правила оповещения можно настраивать метки и аннотации.
2. Пожалуйста, обратитесь к [Документации по Правилам Оповещения Prometheus](https://prometheus.io/docs/prometheus/latest/configuration/alerting_rules/) для настройки меток и аннотаций.
3. Примечание: Не используйте переменную `$value` в метках, так как это может привести к исключениям в оповещениях.

## Создание Ресурсных Оповещений через CLI

### Предварительные Условия

- Конфигурирована политика уведомлений (если необходимо настроить автоматические уведомления об оповещениях).
- Компоненты мониторинга установлены в целевом кластере (требуется при создании политик оповещения с использованием показателей мониторинга).
- Компоненты хранения логов и компоненты сбора логов установлены в целевом кластере (требуется при создании политик оповещения с использованием логов и событий).

### Процедуры

1. Создайте новый файл конфигурации YAML с именем `example-alerting-rule.yaml`.
2. Добавьте ресурсы PrometheusRule в файл YAML и представьте его. Пример ниже создает новую политику оповещения под названием policy:

```yaml
apiVersion: monitoring.coreos.com/v1
kind: PrometheusRule
metadata:
  annotations:
    alert.cpaas.io/cluster: global      # Название кластера, в котором находится оповещение
    alert.cpaas.io/kind: Cluster        # Тип ресурса,
    alert.cpaas.io/name: global         # Объект ресурса, поддерживает один, несколько (разделенные |) или любой (.*)
    alert.cpaas.io/namespace: cpaas-system  # Пространство имен, в котором находится объект оповещения, поддерживает один, несколько (разделенные |) или любой (.*)
    alert.cpaas.io/notifications: '["test"]'
    alert.cpaas.io/repeat-config: '{"Critical":"never","High":"5m","Medium":"5m","Low":"5m"}'
    alert.cpaas.io/rules.description: "{}"
    alert.cpaas.io/rules.disabled: "[]"
    alert.cpaas.io/subkind: ""
    cpaas.io/description: ""
    cpaas.io/display-name: policy      # Отображаемое имя политики оповещения
  labels:
    alert.cpaas.io/owner: System
    alert.cpaas.io/project: cpaas-system
    cpaas.io/source: Platform
    prometheus: kube-prometheus
    rule.cpaas.io/cluster: global
    rule.cpaas.io/name: policy
    rule.cpaas.io/namespace: cpaas-system
  name: policy
  namespace: cpaas-system
spec:
  groups:
    - name: general # название правила оповещения
      rules:
        - alert: cluster.pod.status.phase.not.running-tx1ob-e998f0b94854ee1eade5ae79279e005a
          annotations:
            alert_current_value: "{{ $value }}"  # Уведомление о текущем значении, оставить по умолчанию
          expr: (count(min by(pod)(kube_pod_container_status_ready{}) !=1) or on() vector(0))>2
          for: 30s # Длительность
          labels:
            alert_cluster: global # Название кластера, в котором находится оповещение
            alert_for: 30s # Длительность
            alert_indicator: cluster.pod.status.phase.not.running  # Название индикатора правила оповещения (пользовательское имя индикатора оповещения как пользовательский)
            alert_indicator_aggregate_range: "30"  # Временной диапазон для агрегации правила оповещения, в секундах
            alert_indicator_blackbox_name: "" # Имя элемента мониторинга черного ящика
            alert_indicator_comparison: ">"  # Метод сравнения для правила оповещения
            alert_indicator_query: ""  # Запрос для логов правила оповещения (только для логов)
            alert_indicator_threshold: "2"  # Порог для правила оповещения
            alert_indicator_unit: ""  # Единица индикатора для правила оповещения
            alert_involved_object_kind: Cluster   # Тип объекта, к которому принадлежит правило оповещения: Cluster|Node|Deployment|Daemonset|Statefulset|Middleware|Microservice|Storage|VirtualMachine
            alert_involved_object_name: global   # Название объекта, к которому принадлежит правило оповещения
            alert_involved_object_namespace: ""  # Пространство имен объекта, к которому принадлежит правило оповещения
            alert_name: cluster.pod.status.phase.not.running-tx1ob  # Название правила оповещения
            alert_namespace: cpaas-system  # Пространство имен, в котором находится правило оповещения
            alert_project: cpaas-system  # Название проекта объекта, к которому принадлежит правило оповещения
            alert_resource: policy # Название политики оповещения, в которой находится правило оповещения
            alert_source: Platform # Тип данных политики оповещения, в которой находится правило оповещения: Platform-Platform Data Business-Business Data
            severity: High # Уровень серьезности правила оповещения: Critical-Critical, High-Serious, Medium-Warning, Low-Info
```

## Создание Событийных Оповещений через CLI

### Предварительные Условия

- Конфигурирована политика уведомлений (если необходимо настроить автоматические уведомления об оповещениях).
- Компоненты мониторинга установлены в целевом кластере (требуется при создании политик оповещения с использованием показателей мониторинга).
- Компоненты хранения логов и компоненты сбора логов установлены в целевом кластере (требуется при создании политик оповещения с использованием логов и событий).

### Процедуры

1. Создайте новый файл конфигурации YAML с именем `example-alerting-rule.yaml`.
2. Добавьте ресурсы PrometheusRule в файл YAML и представьте его. Пример ниже создает новую политику оповещения под названием policy2:

```yaml
apiVersion: monitoring.coreos.com/v1
kind: PrometheusRule
metadata:
  annotations:
    alert.cpaas.io/cluster: global
    alert.cpaas.io/events.scope: '[{"names":["argocd-gitops-redis-ha-haproxy"],"kind":"Deployment","operator":"=","namespaces":["*"]}]' 
      # names: Название ресурса для событийного оповещения; оператор не имеет значения, если имя пустое.
      # kind: Тип ресурса, который вызывает событияное оповещение.
      # namespace: Пространство имен, к которому принадлежит ресурс, вызывающий событийное оповещение. Пустой массив указывает на ресурсы без пространства имен; когда ns = ['*'], это означает все пространства имен.
      # operator: Селектор =, !=, =~, !~
    alert.cpaas.io/kind: Event   # Тип оповещения, Событие (событийное оповещение)
    alert.cpaas.io/name: "" # Используется для ресурсных оповещений; остается пустым для событийных оповещений
    alert.cpaas.io/namespace: cpaas-system 
    alert.cpaas.io/notifications: '["acp-qwtest"]'
    alert.cpaas.io/repeat-config: '{"Critical":"never","High":"5m","Medium":"5m","Low":"5m"}'
    alert.cpaas.io/rules.description: "{}"
    alert.cpaas.io/rules.disabled: "[]"
    cpaas.io/description: ""
    cpaas.io/display-name: policy2
  labels:
    alert.cpaas.io/owner: System
    alert.cpaas.io/project: cpaas-system
    cpaas.io/source: Platform
    prometheus: kube-prometheus
    rule.cpaas.io/cluster: global
    rule.cpaas.io/name: policy2
    rule.cpaas.io/namespace: cpaas-system
  name: policy2
  namespace: cpaas-system
spec:
  groups:
    - name: general
      rules:
        - alert: cluster.event.count-6sial-34c9a378e3b6dda8401c2d728994ce2f
          # 6sial-34c9a378e3b6dda8401c2d728994ce2f может быть настроено для обеспечения уникальности
          annotations:
            alert_current_value: "{{ $value }}"  # Уведомление о текущем значении, оставить по умолчанию
          expr: round(((avg
            by(kind,namespace,name,reason)(increase(cpaas_event_count{namespace=~".*",id="policy2-cluster.event.count-6sial"}[300s])))
            + (avg
            by(kind,namespace,name,reason)(abs(increase(cpaas_event_count{namespace=~".*",id="policy2-cluster.event.count-6sial"}[300s])))))
            / 2)>2
          # Идентификатор в policy2 должен быть названием политики оповещения; 6sial должен соответствовать имени предыдущего правила оповещения
          for: 15s # Длительность
          labels:
            alert_cluster: global # Название кластера, в котором находится оповещение
            alert_for: 15s # Длительность
            alert_indicator: cluster.event.count  # Название индикатора правила оповещения (пользовательское имя индикатора оповещения как пользовательский)
            alert_indicator_aggregate_range: "300" # Временной диапазон для агрегации правила оповещения, в секундах
            alert_indicator_blackbox_name: "" 
            alert_indicator_comparison: ">" # Метод сравнения для правила оповещения
            alert_indicator_event_reason: ScalingReplicaSet # Причина события.
            alert_indicator_threshold: "2" # Порог для правила оповещения
            alert_indicator_unit: pieces # Единица индикатора для правила оповещения; остается неизменной для событийных оповещений
            alert_involved_object_kind: Event
            alert_involved_object_options: Single
            alert_name: cluster.event.count-6sial # Название правила оповещения
            alert_namespace: cpaas-system # Пространство имен, в котором находится правило оповещения
            alert_project: cpaas-system # Название проекта объекта, к которому принадлежит правило оповещения
            alert_repeat_interval: 5m
            alert_resource: policy2 # Название политики оповещения, в которой находится правило оповещения
            alert_source: Platform # Тип данных политики оповещения, в которой находится правило оповещения: Platform-Platform Data Business-Business Data
            severity: High # Уровень серьезности правила оповещения: Critical-Critical, High-Serious, Medium-Warning, Low-Info
```

## Создание Политик Оповещения через Шаблоны Оповещения

Шаблоны оповещения представляют собой комбинацию правил оповещения и политик уведомлений, ориентированных на похожие ресурсы. С помощью шаблонов оповещения легко и быстро создавать политики оповещения для кластеров, узлов или вычислительных компонентов на платформе.

### Предварительные Условия

- Конфигурирована политика уведомлений (если необходимо настроить автоматические уведомления об оповещениях).
- Компоненты мониторинга установлены в целевом кластере (требуется при создании политик оповещения с использованием показателей мониторинга).

### Процедуры

#### Создание Шаблона Оповещения

1. В левом навигационном меню нажмите **Центр Эксплуатации и Обслуживания** > **оповещения** > **шаблоны оповещения**.
2. Нажмите **Создать Шаблон Оповещения**.
3. Настройте основную информацию шаблона оповещения.
4. В разделе **Правила Оповещения** нажмите **Добавить Правило Оповещения**, и следуйте описаниям параметров ниже для добавления правил оповещения:

| Параметр          | Описание                                                                                                                                                                                  |
| ----------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Выражение         | Алгоритм мониторинга метрики в формате Prometheus, например, `rate(node_network_receive_bytes{instance="$server",device!~"lo"}[5m])`                                                              |
| Единица Метрики   | Пользовательская единица метрики мониторинга, может быть введена вручную или выбрана из предустановленных единиц платформы                                                                                                |
| Параметр Легенды  | Контролирует имя, соответствующее кривой на графике, отформатированное как `{{.LabelName}}`, например, `{{.hostname}}`                                                                              |
| Временной Интервал | Временной интервал для запросов логов/событий                                                                                                                                                            |
| Содержимое Логов  | Поля запроса для содержимого логов (например, Ошибка), где несколько полей запроса связаны через ИЛИ                                                                                                     |
| Причина События   | Поля запроса для причин событий (Причина, например, BackOff, Pulling, Failed и т. д.), где несколько полей запроса связаны через ИЛИ                                                                  |
| Условие Срабатывания | Условие, состоящее из операторов сравнения, порогов оповещения и длительности (по желанию).                                                                                                     |
| Уровень Оповещения | Делится на четыре уровня: Критический, Серьезный, Предупреждение и Информация. Вы можете установить разумный уровень оповещения в зависимости от влияния правил оповещения на бизнес для соответствующих ресурсов. |

5. Нажмите **Создать**.

#### Создание Политик Оповещения С Использованием Шаблонов Оповещения

1. В левом навигационном меню нажмите **Центр Эксплуатации и Обслуживания** > **оповещения** > **политики оповещения**.
   **Совет**: Вы можете переключить целевой кластер через верхнюю навигационную панель.
2. Нажмите кнопку расширения рядом с кнопкой **Создать Политику Оповещения** > **Шаблон Создания Политики Оповещения**.
3. Настройте некоторые параметры, обращаясь к описаниям ниже:

| Параметр         | Описание                                                                                                                                                                                                                                          |
| ----------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Имя Шаблона**  | Имя используемого шаблона оповещения. Шаблоны классифицируются по кластеру, узлу и вычислительному компоненту. При выборе шаблона вы можете просмотреть правила оповещения, политики уведомлений и другую информацию, установленную в шаблоне оповещения. |
| **Тип Ресурса**  | Выберите, является ли шаблон шаблоном политики оповещения для **Кластера**, **Узла** или **Вычислительного Компонента**; будет показано соответствующее имя ресурса.                                                                                    |

4. Нажмите **Создать**.

## Установка Тишины для Оповещений

Поддерживается установка тишины для кластеров, узлов и вычислительных компонентов. Установив тишину для определенных политик оповещения, вы можете контролировать, чтобы все правила под политикой оповещения не отправляли уведомления, когда они срабатывают в течение установленного периода тишины. Можно установить как постоянную тишину, так и пользовательское время тишины.

Например: Когда платформа обновляется или обслуживается, многие ресурсы могут показывать ненормальные статусы, что приводит к большому количеству сработавших оповещений, что заставляет специалистов по эксплуатации и обслуживанию часто получать уведомления об оповещениях до завершения обновления или обслуживания. Установка тишины для политики оповещения может предотвратить эту ситуацию.

**Примечание**: Когда состояние тишины сохраняется до момента окончания тишины, установка тишины будет автоматически очищена.

### Настройка через UI

1. В левом навигационном меню нажмите **Центр Эксплуатации и Обслуживания** > **оповещения** > **политики оповещения**.

2. Нажмите кнопку операции справа от политики оповещения, для которой нужно выставить тишину > **Установить Тишину**.

3. Переключите переключатель **Тишина Оповещения** на включенный.

   **Совет**: Этот переключатель контролирует, будет ли настройка тишины активна. Чтобы отменить тишину, просто выключите переключатель.

4. Настройте соответствующие параметры в соответствии с описаниями ниже:

   **Совет**: Если не выбран диапазон тишины или имя ресурса, по умолчанию устанавливается **Любой**, что означает, что последующие действия **Удалить/Добавить** ресурсов будут соответствовать политикам оповещения **Удалить Тишину/Добавить Тишину**; если выбрано "Выбрать Все", это будет применяться только к текущему выбранному диапазону ресурсов, и последующие действия **Удалить/Добавить** ресурсов не будут обработаны.

   | Параметр         | Описание                                                                                                                                                                                                                                                                                                                                                                                                                                      |
   | ----------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
   | **Диапазон Тишины** | Объем ресурсов, на которые будет действительна установка тишины.                                                                                                                                                                                                                                                                                                                                                                                   |
   | **Имя Ресурса**  | Имя целевого объекта ресурса для установки тишины.                                                                                                                                                                                                                                                                                                                                                                                 |
   | **Время Тишины** | Временной диапазон для тишины оповещения. Оповещение войдет в состояние тишины в начале времени тишины, и если политика оповещения останется в состоянии оповещения или вызовет оповещения после окончания времени тишины, уведомления об оповещении возобновятся. **Постоянная**: Настройка тишины будет действовать до удаления политики оповещения. **Пользовательская**: Пользовательские настройки начала и конца времени тишины, с временным интервалом не менее 5 минут. |

5. Нажмите **Установить**.

   **Совет**: В момент установки тишины до начала тишины состояние тишины политики оповещения считается **Ожиданием Тишины**. В этот период, когда правила в политике срабатывают, уведомления будут отправлены нормально; после начала тишины до ее окончания состояние тишины политики оповещения будет **В Тишине**, и когда правила в политике срабатывают, уведомления не будут отправлены.

### Настройка через CLI

1. Укажите имя ресурса политики оповещения, для которой вы хотите установить тишину, и выполните следующую команду:

```bash
kubectl edit PrometheusRule <TheNameOfThealertPolicyYouWantToSet>
```

2. Измените ресурс следующим образом, чтобы добавить аннотации тишины и представить.

```yaml
---
apiVersion: monitoring.coreos.com/v1
kind: PrometheusRule
metadata:
  annotations:
    alert.cpaas.io/cluster: global
    alert.cpaas.io/kind: Node
    alert.cpaas.io/name: 0.0.0.0
    alert.cpaas.io/namespace: cpaas-system
    alert.cpaas.io/notifications: "[]"
    alert.cpaas.io/rules.description: "{}"
    alert.cpaas.io/rules.disabled: "[]"
    alert.cpaas.io/rules.version: "23"
    alert.cpaas.io/silence.config: '{"startsAt":"2025-02-08T08:01:37Z","endsAt":"2025-02-22T08:01:37Z","creator":"leizhu@alauda.io","resources":{"nodes":[{"name":"192.168.36.11","ip":"192.168.36.11"},{"name":"192.168.36.12","ip":"192.168.36.12"},{"name":"192.168.36.13","ip":"192.168.36.13"}]}}'
      # Настройка тишины для политик оповещения на уровне узла, включая время начала, окончания, создателя и т. д.; если диапазон тишины включает в себя конкретные узлы, пожалуйста, добавьте информацию о ресурсах.node, как показано выше. Если вам нужна тишина для всех ресурсов, вам не нужны поля ресурсов.
    # alert.cpaas.io/silence.config: '{"startsAt":"2025-02-08T08:04:50Z","endsAt":"2199-12-31T00:00:00Z","creator":"leizhu@alauda.io","name":["alb-operator-ctl","apollo"],"namespace":["cpaas-system"]}'
      # Настройка тишины для политик оповещения на уровне нагрузки, включая время начала, окончания, создателя и т. д.; если диапазон тишины включает в себя конкретные нагрузки, пожалуйста, добавьте информацию о имени и пространстве имен, как показано выше. Если вам нужна тишина для всех ресурсов, вам не нужны поля имени и пространства имен.
      # Установка поля endsAt в 2199-12-31T00:00:00Z указывает на постоянную тишину.
    alert.cpaas.io/subkind: ""
    cpaas.io/creator: leizhu@alauda.io
    cpaas.io/description: ""
    cpaas.io/display-name: policy3
    cpaas.io/updated-at: 2025-02-08T08:01:42Z
  labels:
  ## Исключить неуместную информацию
```

## Рекомендации по Настройке Правил Оповещений

Большее количество правил оповещения не всегда означает лучшие результаты. Избыточные или сложные правила оповещения могут привести к шторму оповещений и увеличить ваши затраты на обслуживание. Рекомендуется ознакомиться с приведенными ниже рекомендациями перед настройкой правил оповещения, чтобы гарантировать, что пользовательские правила могут достичь своих целей, оставаясь при этом эффективными.

- **Используйте Как Можно Меньше Новых Правил**: Создавайте только те правила, которые соответствуют вашим конкретным требованиям. Используя наименьшее количество правил, вы можете создать более управляемую и централизацию систему оповещений в среде мониторинга.
- **Сосредоточьтесь на Симптомах, А Не на Причинах**: Создавайте правила, которые уведомляют пользователей о симптомах, а не о коренных причинах этих симптомов. Это гарантирует, что когда происходят соответствующие симптомы, пользователи могут получать оповещения и могут расследовать коренные причины, вызвавшие оповещения. Использование этой стратегии может значительно сократить общее количество правил, которые нужно создать.
- **Планируйте и Оценивайте Своим Потребности Прежде Чем Вносить Изменения**: Сначала уточните, какие симптомы важны и какие действия вы хотите, чтобы пользователи предпринимали, когда эти симптомы возникают. Затем оцените существующие правила, чтобы решить, можете ли вы изменить их, чтобы достичь своих целей, не создавая новые правила для каждого симптома. Изменяя существующие правила и осторожно создавая новые, вы можете помочь упростить систему оповещений.
- **Предоставляйте Ясные Сообщения Оповещений**: Когда вы создаете сообщения об оповещениях, включайте описания симптомов, возможные причины и рекомендованные действия. Включенная информация должна быть ясной, краткой и предоставлять процедуры по устранению неполадок или ссылки на дополнительную соответствующую информацию. Это помогает пользователям быстро оценивать ситуации и адекватно реагировать.
- **Устанавливайте Уровни Серьезности Разумно**: Назначайте уровни серьезности вашим правилам, чтобы указать, как пользователи должны реагировать, когда симптомы вызывают оповещения. Например, классифицируйте оповещения с уровнем серьезности Критический, сигнализируя о том, что от соответствующего персонала требуется немедленное действие. Установив уровни серьезности, вы можете помочь пользователям решить, как реагировать по мере получения оповещений и обеспечить оперативные действия по срочным вопросам.
