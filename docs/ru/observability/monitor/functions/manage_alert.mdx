---
weight: 20
sourceSHA: 261657769c7e0e52f1b466f9af35cab1a3baa0016ef15de5d607b078705faed3
---

# Управление оповещениями

## Обзор функций

Функция управления оповещениями платформы направлена на помощь пользователям в комплексном мониторинге и своевременном обнаружении аномалий в системе. Используя заранее установленные системные оповещения и гибкие возможности настройки оповещений, в сочетании со стандартными шаблонами оповещений и многоуровневым механизмом управления, она предоставляет полное решение по оповещению для персонала по эксплуатации и обслуживанию.

Будь то администраторы платформы или бизнес-персонал, они могут удобно настраивать и управлять политиками оповещения в своих соответствующих пределах полномочий для эффективного мониторинга ресурсов платформы.

## Ключевые функции

- **Встроенные системные политики оповещения**: Набор богатых правил оповещений заранее задан на основе распространенных идей диагностики неисправностей для `global` кластеров и рабочих кластеров.
- **Пользовательские правила оповещения**: Поддержка создания правил оповещения на основе различных источников данных, включая заранее заданные мониторинговые показатели, пользовательские мониторинговые показатели, элементы черного ящика, данные логов платформы и данные событий платформы.
- **Управление шаблонами оповещения**: Поддержка создания и управления стандартными шаблонами оповещения для быстрого применения к аналогичным ресурсам.
- **Интеграция уведомлений об оповещениях**: Поддержка передачи информации об оповещении персоналу по эксплуатации и обслуживанию через различные каналы.
- **Изоляция просмотра оповещений**: Разграничение между оповещениями управления платформой и оповещениями бизнеса, гарантируя, что персонал различных ролей сосредоточится на соответствующей информации об оповещениях.
- **Просмотр реал-тайм оповещений**: Предоставление реал-тайм оповещений, предлагая совместный просмотр количества ресурсов, которые в настоящее время подвержены оповещениям, и подробной информации об оповещениях.
- **Просмотр истории оповещений**: Поддержка просмотра исторических записей оповещений за определенный период, облегчая анализ недавних условий мониторинга оповещений для персонала по эксплуатации и администраторам.

## Функциональные преимущества

- **Комплексное покрытие мониторинга**: Поддержка мониторинга различных типов ресурсов, таких как кластеры, узлы и вычислительные компоненты, с богатым встроенным набором системных политик оповещения, которые можно использовать без дополнительной настройки.
- **Эффективное управление оповещениями**: Стандартизированные настройки через шаблоны оповещения повышают операционную эффективность, а разделение представлений оповещений облегчает персоналу различных ролей быстро ориентироваться в соответствующих оповещениях.
- **Своевременное обнаружение проблем**: Уведомления об оповещениях автоматически запускаются для обеспечения своевременного обнаружения проблем, поддерживая передачу оповещений через множество каналов для профилактики возникновения проблем.
- **Надежное управление доступом**: Строгий контроль доступа к политикам оповещения обеспечивает безопасность и управляемость информации об оповещениях.

## Создание политик оповещения через интерфейс \{#alert\_ui}

### Предварительные условия

- Политика уведомления настроена (если необходимо настроить автоматические уведомления об оповещениях).
- Мониторинговые компоненты установлены в целевом кластере (необходимо при создании политик оповещения с использованием мониторинговых показателей).
- Компоненты хранения логов и компоненты сбора логов установлены в целевом кластере (необходимо при создании политик оповещения с использованием логов и событий).

### Процедуры

1. Перейдите в **Центр эксплуатации и обслуживания** > **оповещения** > **оповещения Политики**.
2. Нажмите **Создать политику оповещения**.
3. Настройте базовую информацию.

#### Выбор типа оповещения

**Ресурсное оповещение**

- Типы оповещений, классифицированные по типу ресурса (например, статус развертывания в пространстве имен).
- Описание выбора ресурса:
  - По умолчанию "Любой", если параметр не выбран, поддерживается автоматическая ассоциация с вновь добавленными ресурсами.
  - Когда выбрано "Выбрать все", применяется только к текущему ресурсу.
  - При выборе нескольких пространств имен имена ресурсов поддерживают регулярные выражения (например, `cert.*`).

**Событийное оповещение**

- Типы оповещений, классифицированные по конкретным событиям (например, ненормальный статус Pod).
- По умолчанию выбирает все ресурсы, находящиеся под указанным ресурсом, и поддерживает автоматическую ассоциацию с вновь добавленными ресурсами.

#### Настройка правил оповещения

Нажмите **Добавить правило оповещения** и настройте следующие параметры на основе типа оповещения:

**Параметры ресурсного оповещения**

| Параметр             | Описание                                                                                                                                                                                                                                                                                      |
| --------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Выражение             | Алгоритм мониторинга метрик в формате Prometheus, например, `rate(node_network_receive_bytes{instance="$server",device!~"lo"}[5m])`                                                                                                                                                       |
| Единица измерения     | Пользовательская единица измерения мониторинга метрик, может быть введена вручную или выбрана из предустановленных единиц платформы                                                                                                                                                           |
| Параметр легенды      | Управляет именем, соответствующим кривой на графике, формата `{{.LabelName}}`, например, `{{.hostname}}`                                                                                                                                                                                |
| Временной диапазон    | Временной интервал для запросов логов/событий                                                                                                                                                                                                                                            |
| Содержимое лога       | Поля запроса для содержимого логов (например, Error), где несколько полей запроса соединяются через OR                                                                                                                                                                                    |
| Причина события       | Поля запроса для причин событий (Причина, например, BackOff, Pulling, Failed и т. д.), где несколько полей запроса соединяются через OR                                                                                                                                                       |
| Условие срабатывания  | Условие, состоящее из операторов сравнения, порогов оповещения и продолжительности (по желанию). Определяет, будет ли вызвано оповещение на основе сравнения реальных значений/количества логов/количества событий с порогом оповещения, а также продолжительности реальных значений в пределах диапазона порогов оповещения. |
| Уровень оповещения    | Разделен на четыре уровня: Критический, Серьезный, Предупреждение и Информация. Вы можете установить разумный уровень оповещения в соответствии с влиянием правил оповещения на бизнес для соответствующих ресурсов.                                                                           |

**Параметры событийного оповещения**

| Параметр                     | Описание                                                                                 |
| ----------------------------- | --------------------------------------------------------------------------------------- |
| Временной диапазон            | Временной интервал для запросов событий                                                 |
| Элемент мониторинга событий    | Поддержка мониторинга уровней событий или причин событий, где несколько полей соединены через OR |
| Условие срабатывания          | На основе количества событий для сравнительного суждения                                 |
| Уровень оповещения            | То же значение, что и уровень ресурсного оповещения                                     |

#### Другие настройки

1. Выберите одну или несколько созданных политик уведомления.
2. Настройте интервалы отправки оповещений.
   - Глобальный: Используйте предустановленную конфигурацию платформы.
   - Пользовательский: Разные интервалы отправки могут быть установлены в зависимости от уровней оповещения.
   - При выборе "Не повторять" уведомления будут отправляться только при срабатывании и восстановлении оповещения.

### Дополнительные примечания

1. В "Дополнительных" опциях правила оповещения можно установить метки и аннотации.
2. Пожалуйста, обратитесь к [Документации по правилам оповещения Prometheus](https://prometheus.io/docs/prometheus/latest/configuration/alerting_rules/) для настройки меток и аннотаций.
3. Примечание: Не используйте переменную `$value` в метках, так как это может привести к исключениям оповещения.

## Создание ресурсных оповещений через CLI

### Предварительные условия

- Политика уведомления настроена (если необходимо настроить автоматические уведомления об оповещениях).
- Мониторинговые компоненты установлены в целевом кластере (необходимо при создании политик оповещения с использованием мониторинговых показателей).
- Компоненты хранения логов и компоненты сбора логов установлены в целевом кластере (необходимо при создании политик оповещения с использованием логов и событий).

### Процедуры

1. Создайте новый YAML файл конфигурации с именем `example-alerting-rule.yaml`.
2. Добавьте ресурсы PrometheusRule в YAML файл и отправьте его. Следующий пример создает новую политику оповещения под названием policy:

```yaml
apiVersion: monitoring.coreos.com/v1
kind: PrometheusRule
metadata:
  annotations:
    alert.cpaas.io/cluster: global      # Имя кластера, где находится оповещение
    alert.cpaas.io/kind: Cluster        # Тип ресурса,
    alert.cpaas.io/name: global         # Объект ресурса, поддерживающий один, несколько (разделенный |) или любой (.*)
    alert.cpaas.io/namespace: cpaas-system  # Пространство имен, где находится объект оповещения, поддерживающий один, несколько (разделенный |) или любой (.*)
    alert.cpaas.io/notifications: '["test"]'
    alert.cpaas.io/repeat-config: '{"Critical":"never","High":"5m","Medium":"5m","Low":"5m"}'
    alert.cpaas.io/rules.description: "{}"
    alert.cpaas.io/rules.disabled: "[]"
    alert.cpaas.io/subkind: ""
    cpaas.io/description: ""
    cpaas.io/display-name: policy      # Отображаемое имя политики оповещения
  labels:
    alert.cpaas.io/owner: System
    alert.cpaas.io/project: cpaas-system
    cpaas.io/source: Platform
    prometheus: kube-prometheus
    rule.cpaas.io/cluster: global
    rule.cpaas.io/name: policy
    rule.cpaas.io/namespace: cpaas-system
  name: policy
  namespace: cpaas-system
spec:
  groups:
    - name: general # имя правила оповещения
      rules:
        - alert: cluster.pod.status.phase.not.running-tx1ob-e998f0b94854ee1eade5ae79279e005a
          annotations:
            alert_current_value: "{{ $value }}"  # Уведомление о текущем значении, оставить по умолчанию
          expr: (count(min by(pod)(kube_pod_container_status_ready{}) !=1) or on() vector(0))>2
          for: 30s # продолжительность
          labels:
            alert_cluster: global # Имя кластера, где находится оповещение
            alert_for: 30s # продолжительность
            alert_indicator: cluster.pod.status.phase.not.running  # Имя индикатора правила оповещения (имя пользовательского индикатора оповещения)
            alert_indicator_aggregate_range: "30"  # Время агрегации для правила оповещения, в секундах
            alert_indicator_blackbox_name: "" # Имя элемента черного ящика
            alert_indicator_comparison: ">"  # Метод сравнения для правила оповещения
            alert_indicator_query: ""  # Запрос для логов правила оповещения (только для логов оповещения)
            alert_indicator_threshold: "2"  # Порог для правила оповещения
            alert_indicator_unit: ""  # Единица индикатора для правила оповещения
            alert_involved_object_kind: Cluster   # Тип объекта, к которому относится правило оповещения: Cluster|Node|Deployment|Daemonset|Statefulset|Middleware|Microservice|Storage|VirtualMachine
            alert_involved_object_name: global   # Имя объекта, к которому относится правило оповещения
            alert_involved_object_namespace: ""  # Пространство имен объекта, к которому относится правило оповещения
            alert_name: cluster.pod.status.phase.not.running-tx1ob  # Имя правила оповещения
            alert_namespace: cpaas-system  # Пространство имен, где находится правило оповещения
            alert_project: cpaas-system  # Имя проекта объекта, к которому относится правило оповещения
            alert_resource: policy # Имя политики оповещения, где находится правило оповещения
            alert_source: Platform # Тип данных политики оповещения, где находится правило оповещения: Platform-Platform Data Business-Business Data
            severity: High # Уровень серьезности правила оповещения: Critical-Critical, High-Serious, Medium-Warning, Low-Info
```

## Создание событийных оповещений через CLI

### Предварительные условия

- Политика уведомления настроена (если необходимо настроить автоматические уведомления об оповещениях).
- Мониторинговые компоненты установлены в целевом кластере (необходимо при создании политик оповещения с использованием мониторинговых показателей).
- Компоненты хранения логов и компоненты сбора логов установлены в целевом кластере (необходимо при создании политик оповещения с использованием логов и событий).

### Процедуры

1. Создайте новый YAML файл конфигурации с именем `example-alerting-rule.yaml`.
2. Добавьте ресурсы PrometheusRule в YAML файл и отправьте его. Следующий пример создает новую политику оповещения под названием policy2:

```yaml
apiVersion: monitoring.coreos.com/v1
kind: PrometheusRule
metadata:
  annotations:
    alert.cpaas.io/cluster: global
    alert.cpaas.io/events.scope: '[{"names":["argocd-gitops-redis-ha-haproxy"],"kind":"Deployment","operator":"=","namespaces":["*"]}]' 
      # names: Имя ресурса для событийного оповещения; оператор не эффективен, если имя пустое.
      # kind: Тип ресурса, который вызывает событийное оповещение.
      # namespace: Пространство имен, к которому принадлежит ресурс, вызывающий событийное оповещение. Пустой массив указывает на ресурсы без пространства имен; когда ns = ['*'], это указывает на все пространства имен.
      # оператор: Селектор =, !=, =~, !~
    alert.cpaas.io/kind: Event   # Тип оповещения, Событие (событийное оповещение)
    alert.cpaas.io/name: "" # Используется для ресурсных оповещений; остается пустым для событийных оповещений
    alert.cpaas.io/namespace: cpaas-system 
    alert.cpaas.io/notifications: '["acp-qwtest"]'
    alert.cpaas.io/repeat-config: '{"Critical":"never","High":"5m","Medium":"5m","Low":"5m"}'
    alert.cpaas.io/rules.description: "{}"
    alert.cpaas.io/rules.disabled: "[]"
    cpaas.io/description: ""
    cpaas.io/display-name: policy2
  labels:
    alert.cpaas.io/owner: System
    alert.cpaas.io/project: cpaas-system
    cpaas.io/source: Platform
    prometheus: kube-prometheus
    rule.cpaas.io/cluster: global
    rule.cpaas.io/name: policy2
    rule.cpaas.io/namespace: cpaas-system
  name: policy2
  namespace: cpaas-system
spec:
  groups:
    - name: general
      rules:
        - alert: cluster.event.count-6sial-34c9a378e3b6dda8401c2d728994ce2f
          # 6sial-34c9a378e3b6dda8401c2d728994ce2f может быть настроен для обеспечения уникальности
          annotations:
            alert_current_value: "{{ $value }}"  # Уведомление о текущем значении, оставить по умолчанию
          expr: round(((avg
            by(kind,namespace,name,reason)(increase(cpaas_event_count{namespace=~".*",id="policy2-cluster.event.count-6sial"}[300s])))
            + (avg
            by(kind,namespace,name,reason)(abs(increase(cpaas_event_count{namespace=~".*",id="policy2-cluster.event.count-6sial"}[300s])))))
            / 2)>2
          # Идентификатор в policy2 должен быть именем политики оповещения; 6sial должен совпадать с именем предыдущего правила оповещения
          for: 15s # продолжительность
          labels:
            alert_cluster: global # Имя кластера, где находится оповещение
            alert_for: 15s # продолжительность
            alert_indicator: cluster.event.count  # Имя индикатора правила оповещения (имя пользовательского индикатора оповещения)
            alert_indicator_aggregate_range: "300" # Время агрегации для правила оповещения, в секундах
            alert_indicator_blackbox_name: "" 
            alert_indicator_comparison: ">" # Метод сравнения для правила оповещения
            alert_indicator_event_reason: ScalingReplicaSet # Причина события.
            alert_indicator_threshold: "2" # Порог для правила оповещения
            alert_indicator_unit: pieces # Единица измерения для правила оповещения; остается неизменной для событийных оповещений
            alert_involved_object_kind: Event
            alert_involved_object_options: Single
            alert_name: cluster.event.count-6sial # Имя правила оповещения
            alert_namespace: cpaas-system # Пространство имен, где находится правило оповещения
            alert_project: cpaas-system # Имя проекта объекта, к которому относится правило оповещения
            alert_repeat_interval: 5m
            alert_resource: policy2 # Имя политики оповещения, где находится правило оповещения
            alert_source: Platform # Тип данных политики оповещения, где находится правило оповещения: Platform-Platform Data Business-Business Data
            severity: High # Уровень серьезности правила оповещения: Critical-Critical, High-Serious, Medium-Warning, Low-Info
```

## Создание политик оповещения через шаблоны оповещения

Шаблоны оповещения представляют собой сочетание правил оповещений и политик уведомлений, нацеленных на аналогичные ресурсы. С помощью шаблонов оповещения легко и быстро создавать политики оповещения для кластеров, узлов или вычислительных компонентов на платформе.

### Предварительные условия

- Политика уведомления настроена (если необходимо настроить автоматические уведомления об оповещениях).
- Мониторинговые компоненты установлены в целевом кластере (необходимо при создании политик оповещения с использованием мониторинговых показателей).

### Процедуры

#### Создание шаблона оповещения

1. В левом навигационном баре нажмите **Центр эксплуатации и обслуживания** > **оповещения** > **шаблоны оповещения**.
2. Нажмите **Создать шаблон оповещения**.
3. Настройте базовую информацию шаблона оповещения.
4. В разделе **Правила оповещения** нажмите **Добавить правило оповещения** и следуйте описаниям параметров ниже для добавления правил оповещения:

| Параметр             | Описание                                                                                                                                                                                    |
| --------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Выражение             | Алгоритм мониторинга метрик в формате Prometheus, например, `rate(node_network_receive_bytes{instance="$server",device!~"lo"}[5m])`                                                |
| Единица измерения     | Пользовательская единица измерения мониторинга метрик, может быть введена вручную или выбрана из предустановленных единиц платформы                                                      |
| Параметр легенды      | Управляет именем, соответствующим кривой на графике, формата `{{.LabelName}}`, например, `{{.hostname}}`                                                                                |
| Временной диапазон    | Временной интервал для запросов логов/событий                                                                                                                                              |
| Содержимое лога       | Поля запроса для содержимого логов (например, Error), где несколько полей запроса соединяются через OR                                                                                     |
| Причина события       | Поля запроса для причин событий (Причина, например, BackOff, Pulling, Failed и т. д.), где несколько полей запроса соединяются через OR                                               |
| Условие срабатывания  | Условие, состоящее из операторов сравнения, порогов оповещения и продолжительности (по желанию).                                                                                           |
| Уровень оповещения    | Разделен на четыре уровня: Критический, Серьезный, Предупреждение и Информация. Вы можете установить разумный уровень оповещения в соответствии с влиянием правил оповещения на бизнес для соответствующих ресурсов. |

5. Нажмите **Создать**.

#### Создание политик оповещения с использованием шаблонов оповещения

1. В левом навигационном баре нажмите **Центр эксплуатации и обслуживания** > **оповещения** > **оповещения Политики**.
   **Совет**: Вы можете переключать целевой кластер через верхний навигационный бар.
2. Нажмите кнопку раскрутки рядом с кнопкой **Создать политику оповещения** > **Создать политику оповещения по шаблону**.
3. Настройте некоторые параметры, ссылаясь на описания ниже:

| Параметр             | Описание                                                                                                                                                                                                                                                             |
| --------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Имя шаблона**      | Имя шаблона оповещения, которое следует использовать. Шаблоны классифицируются по кластеру, узлу и вычислительному компоненту. При выборе шаблона вы можете просмотреть правила оповещения, политики уведомлений и другую информацию, установленную в шаблоне оповещения. |
| **Тип ресурса**      | Выберите, является ли шаблон шаблоном политики оповещения для **Кластера**, **Узла** или **Вычислительного Компонента**; соответствующее имя ресурса будет отображено.                                                                                                                                |

4. Нажмите **Создать**.

## Установка тишины для оповещений

Поддерживается установка тишины для оповещений для кластеров, узлов и вычислительных компонентов. Установив тишину для конкретных политик оповещения, вы можете контролировать, чтобы все правила под политикой оповещения не отправляли уведомления при их срабатывании в течение установленного времени тишины. Можно установить постоянную тишину и пользовательскую тишину.

Например: Когда платформа обновляется или обслуживается, многие ресурсы могут показывать ненормальные статусы, что приводит к большому количеству срабатывающих оповещений, которые заставляют персонал по эксплуатации и обслуживанию часто получать уведомления об оповещениях до завершения обновления или обслуживания. Установив тишину для политики оповещения, можно предотвратить эту ситуацию.

**Примечание**: Когда статус тишины продолжается до времени окончания тишины, настройка тишины будет автоматически очищена.

### Установка через интерфейс

1. В левом навигационном баре нажмите **Центр эксплуатации и обслуживания** > **оповещения** > **оповещения Политики**.

2. Нажмите кнопку операции с правой стороны от политики оповещения, для которой хотите установить тишину > **Установить тишину**.

3. Переключите переключатель **тишины оповещения**, чтобы открыть его.

   **Совет**: Этот переключатель управляет тем, действует ли настройка тишины. Чтобы отменить тишину, просто выключите переключатель.

4. Настройте соответствующие параметры в соответствии с описаниями ниже:

   **Совет**: Если диапазон тишины или имя ресурса не выбраны, по умолчанию используется **Любой**, что означает, что последующие действия **Удалить/Добавить** ресурсы будут соответствовать политикам оповещения **Удалить тишину/Добавить тишину**; если выбрано "Выбрать Все", это будет применено только к текущему выбранному диапазону ресурсов, а последующие действия **Удалить/Добавить** ресурсов не будут обрабатываться.

   | Параметр                     | Описание                                                                                                                                                                                                                                                                                                                         |
   | ----------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
   | **Диапазон тишины**          | Область ресурсов, на которую действует настройка тишины.                                                                                                                                                                                                                                                                      |
   | **Имя ресурса**              | Имя объектного ресурса, на который направлена настройка тишины.                                                                                                                                                                                                                                                               |
   | **Время тишины**             | Временной интервал для тишины оповещений. Оповещение войдет в состояние тишины с начала времени тишины, и если политика оповещения остается в состоянии оповещения или вызывает оповещения после окончания времени тишины, уведомления об оповещениях будут возобновлены. **Постоянная**: Настройка тишины продлится до тех пор, пока политика оповещения не будет удалена. **Пользовательская**: Настройки для времени начала и окончания тишины, с временным интервалом не менее 5 минут. |

5. Нажмите **Установить**.

   **Совет**: С момента установки тишины до начала тишины статус тишины политики оповещения считается **Ожидание тишины**. В этот период, когда правила в политике вызывают оповещения, уведомления будут отправлены нормально; после начала тишины до ее окончания статус тишины политики оповещения будет **В состоянии тишины**, и когда правила в политике вызывают оповещения, уведомления не будут отправлены.

### Установка через CLI

1. Укажите имя ресурса политики оповещения, для которой вы хотите установить тишину, и выполните следующую команду:

```bash
kubectl edit PrometheusRule <ИмяПолитикиОповещенияКоторуюВыХотитеУстановить>
```

2. Измените ресурс, как показано в примере, чтобы добавить аннотации тишины и отправить.

```yaml
---
apiVersion: monitoring.coreos.com/v1
kind: PrometheusRule
metadata:
  annotations:
    alert.cpaas.io/cluster: global
    alert.cpaas.io/kind: Node
    alert.cpaas.io/name: 0.0.0.0
    alert.cpaas.io/namespace: cpaas-system
    alert.cpaas.io/notifications: "[]"
    alert.cpaas.io/rules.description: "{}"
    alert.cpaas.io/rules.disabled: "[]"
    alert.cpaas.io/rules.version: "23"
    alert.cpaas.io/silence.config: '{"startsAt":"2025-02-08T08:01:37Z","endsAt":"2025-02-22T08:01:37Z","creator":"leizhu@alauda.io","resources":{"nodes":[{"name":"192.168.36.11","ip":"192.168.36.11"},{"name":"192.168.36.12","ip":"192.168.36.12"},{"name":"192.168.36.13","ip":"192.168.36.13"}]}}'
      # Конфигурация тишины для политик оповещения на уровне узлов, включая время начала, время окончания, создателя и т.д.; если диапазон тишины включает конкретные узлы, пожалуйста, добавьте информацию о ресурсах.node, как показано выше. Если вам нужна тишина для всех ресурсов, вам не нужно поле ресурсов.
    # alert.cpaas.io/silence.config: '{"startsAt":"2025-02-08T08:04:50Z","endsAt":"2199-12-31T00:00:00Z","creator":"leizhu@alauda.io","name":["alb-operator-ctl","apollo"],"namespace":["cpaas-system"]}'
      # Конфигурация тишины для политик оповещения на уровне рабочих нагрузок, включая время начала, время окончания, создателя и т.д.; если диапазон тишины включает конкретные рабочие нагрузки, пожалуйста, добавьте информацию о имени и пространстве имен, как показано выше. Если вам нужна тишина для всех ресурсов, вам не нужно поля имени и пространства имен.
      # Установка поля endsAt на 2199-12-31T00:00:00Z указывает на постоянную тишину.
    alert.cpaas.io/subkind: ""
    cpaas.io/creator: leizhu@alauda.io
    cpaas.io/description: ""
    cpaas.io/display-name: policy3
    cpaas.io/updated-at: 2025-02-08T08:01:42Z
  labels:
  ## Исключить несущественную информацию
```

## Рекомендации по настройке правил оповещения

Большее количество правил оповещения не всегда равносильно лучшим результатам. Избыточные или сложные правила оповещения могут привести к бурям оповещений и увеличить вашу нагрузку по обслуживанию. Рекомендуется ознакомиться со следующими рекомендациями перед настройкой правил оповещения, чтобы убедиться, что пользовательские правила могут достичь своих предполагаемых целей, оставаясь при этом эффективными.

- **Используйте как можно меньше новых правил**: Создайте только те правила, которые соответствуют вашим конкретным требованиям. Используя наименьшее количество правил, вы можете создать более управляемую и централизованную систему оповещений в среде мониторинга.
- **Сосредоточьтесь на симптомах, а не на причинах**: Создавайте правила, которые уведомляют пользователей о симптомах, а не о коренных причинах этих симптомов. Это гарантирует, что когда возникают соответствующие симптомы, пользователи могут получать оповещения и могут исследовать причины, которые вызвали оповещения. Используя эту стратегию, вы сможете значительно сократить общее количество правил, которые необходимо создать.
- **Планируйте и оценивайте свои потребности перед внесением изменений**: Сначала уточните, какие симптомы важны и какие действия вы хотите, чтобы пользователи предприняли, когда эти симптомы возникают. Затем оцените существующие правила, чтобы определить, можете ли вы изменить их, чтобы достичь своих целей, не создавая новых правил для каждого симптома. Изменяя существующие правила и тщательно создавая новые, вы можете помочь упростить систему оповещений.
- **Предоставьте четкие сообщения об оповещениях**: Когда вы создаете сообщения об оповещениях, включайте описания симптомов, возможные причины и рекомендуемые действия. Включенная информация должна быть четкой, лаконичной и содержать процедуры устранения неполадок или ссылки на дополнительную соответствующую информацию. Это поможет пользователям быстро оценить ситуации и соответствующим образом отреагировать.
- **Устанавливайте уровни серьезности разумно**: Присваивайте уровни серьезности своим правилам, чтобы указать, как пользователи должны реагировать, когда симптомы вызывают оповещения. Например, классифицируйте оповещения с уровнем серьезности «Критический», сигнализирующий о том, что требуется немедленное действие от соответствующих сотрудников. Установив уровни серьезности, вы можете помочь пользователям решить, как реагировать при получении оповещений, и обеспечить своевременные действия по неотложным вопросам.
