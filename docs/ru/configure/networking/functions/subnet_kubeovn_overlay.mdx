---
weight: 20
sourceSHA: df0fd9220de91e62d618655742f67e7cf3fc3b199d13e15295de734e4367386f
---

# Создание подсети (Kube-OVN Overlay Network)

Создайте подсеть в Kube-OVN Overlay Network для достижения более детальной сетевой изоляции ресурсов в кластере.

**Примечание**: Платформа имеет встроенную подсеть **join** для связи между узлами и группами контейнеров; пожалуйста, избегайте конфликтов в сетевых сегментах между **join** и новосозданными подсетями.

## Правила выделения IP-адресов

**Описание**: Если проект или пространство имен ассоциировано с несколькими подсетями, IP-адрес будет случайным образом выбран из одной из подсетей.

- Выделение для проектов:

  - Если проект не привязан к подсети, Pods во всех пространствах имен этого проекта могут использовать только IP-адреса из стандартной подсети. Если в стандартной подсети недостаточно IP-адресов, Pods не запустятся.
  - Если проект привязан к подсети, Pods во всех пространствах имен этого проекта могут использовать только IP-адреса из этой подсети.

- Выделение для пространств имен:

  - Если пространство имен не привязано к подсети, Pods в этом пространстве имен могут использовать только IP-адреса из стандартной подсети. Если в стандартной подсети недостаточно IP-адресов, Pods не запустятся.
  - Если пространство имен привязано к подсети, Pods в этом пространстве имен могут использовать только IP-адреса из этой подсети.

## Создание подсети и выделение для проектов или пространств имен

1. Войдите в **Управление платформой**.

2. В левой навигационной панели нажмите **Управление сетью** > **Подсеть**.

3. Нажмите **Создать подсеть**.

4. Ознакомьтесь с следующими инструкциями для конфигурирования соответствующих параметров.

   | Параметр                | Описание                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
   | ------------------------ | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
   | **Сетевой сегмент**      | После назначения подсети проекту или пространству имен, IP-адреса в этом сегменте будут случайным образом выделены для использования группами контейнеров.                                                                                                                                                                                                                                                                                                                                                                                                                                           |
   | **Резервированный IP**          | Заданный резервированный IP не будет автоматически выделяться. Например, он может использоваться в качестве IP-адреса для **фиксированного IP** вычислительных компонентов.                                                                                                                                                                                                                                                                                                                                                                                                                                    |
   | **Тип шлюза**         | Выберите тип шлюза для подсети, чтобы контролировать исходящий трафик. <br />- **Распределенный**: Каждый хост в кластере может выступать в роли выходного узла для групп контейнеров на текущем хосте, что обеспечивает распределенный выход. <br />- **Централизованный**: Все группы контейнеров в кластере используют один или несколько конкретных хостов в качестве выходных узлов, что упрощает внешние аудиты и контроль межсетевого экрана. Настройка нескольких централизованных **шлюзевых узлов** может обеспечить высокую доступность.                                                                                                 |
   | **ECMP (бета)**         | При выборе **Централизованного** шлюза можно использовать функцию ECMP. По умолчанию шлюз работает в режиме мастер-раб, при этом только главный шлюз обрабатывает трафик. При включении ECMP (равноценная маршрутизация по нескольким путям), исходящий трафик будет маршрутизироваться через несколько равноправных путей ко всем доступным узлам шлюза, тем самым aumentando совокупную пропускную способность шлюза. <br /><br />**Примечание**: Пожалуйста, включите связанные функции ECMP заранее.                                                                                                                 |
   | **Шлюзовые узлы**        | При использовании **Централизованного** шлюза выберите один или несколько конкретных хостов в качестве шлюзовых узлов.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
   | **NAT для исходящего трафика** | Выберите, следует ли включить NAT для исходящего трафика (Сетевой адресный перевод). По умолчанию он включен. <br />Он в основном используется для установки адреса доступа, который будет представлен внешней сети, когда группы контейнеров в подсети выходят в интернет. <br />Когда NAT для исходящего трафика включен, IP-адрес хоста будет использоваться в качестве адреса доступа для групп контейнеров в текущей подсети; когда не включен, IP-адреса групп контейнеров в подсети будут напрямую представлены внешней сети. В этом случае рекомендуется использовать централизованный шлюз. |

5. Нажмите **Подтвердить**.

6. На странице данных подсети выберите **Действия** > **Выделить проект** / **Пространство имен**.

7. Завершите конфигурацию и нажмите **Выделить**.
