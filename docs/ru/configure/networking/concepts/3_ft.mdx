---
weight: 2
sourceSHA: ff05bf14c8468d5cc4f584cd7489d4e4d6b2d88d275275e3f52d935adb5a11ad
---

# ALB Frontend

Мы определяем ресурс, называемый фронтендом (сокращенно ft), который используется для объявления всех портов, на которых должен слушать каждый ALB.

```yaml
apiVersion: crd.alauda.io/v1
kind: Frontend
metadata:
  labels:
    alb2.cpaas.io/name: alb-demo # обязательный, указывает на экземпляр ALB, которому принадлежит этот фронтенд
  name: alb-demo-00080           # формат в виде $alb_name-$port
spec:
  backendProtocol: "http"
  certificate_name: ""  # формат в виде $secret_ns/$secret_name
  port: 80              
  protocol: http        # протокол этого фронтенда. http|https|grpc|grpcs для l7 прокси. tcp|udp для l4 прокси
  serviceGroup:         # может содержать несколько служб.
    services:
    - name: hello-world
      namespace: default
      port: 80
      weight: 100
```

## В качестве L4 прокси

Для l4 прокси serviceGroup является обязательным.

## В качестве L7 прокси

Для l7 прокси serviceGroup является необязательным. Когда запрос поступает, ALB сначала попытается сопоставить его с правилами, связанными с этим фронтендом. Только если запрос не соответствует ни одному правилу, ALB перенаправит его на группу служб по умолчанию, указанную в конфигурации фронтенда.
