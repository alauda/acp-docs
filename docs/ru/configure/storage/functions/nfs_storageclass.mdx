---
weight: 20
sourceSHA: 6e55f24d597061dbc66b3d9cd9541e147738abe8fc8ae7106357bb85a87e3c5e
---

# Создание класса общего хранилища NFS

Основанный на драйвере хранения сообщества NFS CSI (Container Storage Interface), он предоставляет возможность доступа к нескольким системам или учетным записям хранения NFS.

В отличие от традиционной модели доступа NFS клиент-сервер, общее хранилище NFS использует плагин хранения сообщества NFS CSI (Container Storage Interface), который более согласован с принципами проектирования Kubernetes и позволяет клиентам получать доступ к нескольким серверам.

## Предварительные условия

- Сервер NFS должен быть настроен, и необходимо получить методы его доступа. В настоящее время платформа поддерживает три версии протокола NFS: `v3`, `v4.0` и `v4.1`. Вы можете выполнить команду `nfsstat -s` на стороне сервера, чтобы проверить информацию о версии.

## Развертывание плагина общего хранилища NFS

1. Войдите в **Управление платформой**.

2. В левом навигационном меню нажмите **Управление хранилищем** > **Классы хранилища**.

3. Нажмите **Создать класс хранилища**.

4. Справа от **Общего хранилища NFS** нажмите Развернуть, чтобы перейти на страницу **Плагины**.

5. Справа от плагина **NFS** нажмите ⋮ > **Развернуть**.

6. Дождитесь изменения статуса развертывания на **Развертывание успешно**, прежде чем завершить развертывание.

## Создание класса общего хранилища NFS

1. Нажмите **Создать класс хранилища**.

   **Примечание**: Следующий контент представлен в форме, но вы также можете завершить операцию, используя YAML.

2. Выберите **Общее хранилище NFS** и нажмите **Далее**.

3. Ознакомьтесь со следующими инструкциями для настройки соответствующих параметров.

   | Параметр                | Описание                                                                                                                                                                                                                                                                                                                                                                                                           |
   | :----------------------- | :-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
   | **Имя**                 | Имя класса хранилища. Оно должно быть уникальным в текущем кластере.                                                                                                                                                                                                                                                                                                                                          |
   | **Адрес сервиса**       | Адрес доступа к серверу NFS. Например: `192.168.2.11`.                                                                                                                                                                                                                                                                                                                                                    |
   | **Путь**                | Путь монтирования файловой системы NFS на сервере. Например: `/nfs/data`.                                                                                                                                                                                                                                                                                                                                   |
   | **Версия протокола NFS**| В настоящее время поддерживаются три версии: `v3`, `v4.0` и `v4.1`.                                                                                                                                                                                                                                                                                                                                                          |
   | **Политика возврата**   | Политика возврата для постоянного тома.<br />- Удалить: Когда запрос на постоянный том удаляется, связанный постоянный том также будет удален.<br />- Сохранить: Даже если запрос на постоянный том удаляется, связанный постоянный том все равно будет сохранен.                                                                                                                                        |
   | **Режимы доступа**      | Все режимы доступа, поддерживаемые текущим хранилищем. При последующем заявлении постоянных томов можно выбрать только один из этих режимов для монтирования постоянных томов.<br />- ReadWriteOnce (RWO): Может быть смонтирован в режиме чтения-записи только одним узлом.<br />- ReadWriteMany (RWX): Может быть смонтирован в режиме чтения-записи несколькими узлами.<br />- ReadOnlyMany (ROX): Может быть смонтирован в режиме только для чтения несколькими узлами. |
   | **Выделенные проекты**   | Пожалуйста, выделите проекты, которые могут использовать этот тип хранилища.<br />Если в настоящее время нет проектов, нуждающихся в этом типе хранилища, вы можете выбрать не выделять никакие проекты в это время и обновить их позже.                                                                                                                                                                                                 |

4. После подтверждения правильности информации о конфигурации нажмите **Создать**.

## Связанные операции

[Установка правил именования для подпапок в классе общего хранилища NFS](../how_to/nfs_subdir.mdx)
