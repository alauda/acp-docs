---
weight: 20
sourceSHA: b1e2a464a5cb3b2c4a92c868e1b16a4e0472fe4f35bdefc6dafcfdd4ac702be1
---

# Создание класса общего хранилища NFS

На основе драйвера хранения NFS CSI (Container Storage Interface) сообщества, он предоставляет возможность доступа к нескольким системам хранения или учетным записям NFS.

В отличие от традиционной модели клиент-серверного доступа к NFS, общее хранилище NFS использует плагин хранения NFS CSI (Container Storage Interface) сообщества, который более соответствует принципам проектирования Kubernetes и позволяет клиентам получать доступ к нескольким серверам.

## Предварительные требования

- Должен быть настроен сервер NFS, и необходимо получить его методы доступа. В настоящее время платформа поддерживает три версии протокола NFS: `v3`, `v4.0` и `v4.1`. Вы можете выполнить команду `nfsstat -s` на стороне сервера, чтобы проверить информацию о версии.

## Развертывание плагина общего хранилища NFS

1. Перейдите в **Управление платформой**.

2. В левой навигационной панели нажмите **Управление хранилищем** > **Классы хранилища**.

3. Нажмите **Создать класс хранилища**.

4. С правой стороны от **Общего хранилища NFS** нажмите Развернуть, чтобы перейти на страницу **Плагины**.

5. С правой стороны от плагина **NFS** нажмите ⋮ > **Развернуть**.

6. Дождитесь, пока статус развертывания не укажет **Развертывание успешно**, прежде чем завершить развертывание.

## Создание класса общего хранилища NFS

1. Нажмите **Создать класс хранилища**.

   **Примечание**: Следующее содержимое представлено в форме, но вы также можете выбрать завершение операции с использованием YAML.

2. Выберите **Общее хранилище NFS** и нажмите **Далее**.

3. Ознакомьтесь с следующими инструкциями для настройки соответствующих параметров.

   | Параметр                | Описание                                                                                                                                                                                                                                                                                                                                                                                                           |
   | :----------------------- | :-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
   | **Имя**                 | Имя класса хранилища. Оно должно быть уникальным в текущем кластере.                                                                                                                                                                                                                                                                                                                                          |
   | **Адрес службы**        | Адрес доступа к серверу NFS. Например: `192.168.2.11`.                                                                                                                                                                                                                                                                                                                                                    |
   | **Путь**                | Путь монтирования файловой системы NFS на узле сервера. Например: `/nfs/data`.                                                                                                                                                                                                                                                                                                                                   |
   | **Версия протокола NFS** | В настоящее время поддерживаются три версии: `v3`, `v4.0` и `v4.1`.                                                                                                                                                                                                                                                                                                                                                          |
   | **Политика восстановления** | Политика восстановления для постоянного тома.<br />- Удалить: Когда запрос на постоянный том удаляется, связанный постоянный том также будет удален.<br />- Сохранить: Даже если запрос на постоянный том удаляется, связанный постоянный том все равно будет сохранен.                                                                                                                                        |
   | **Режимы доступа**      | Все режимы доступа, поддерживаемые текущим хранилищем. При последующем объявлении постоянных томов можно выбрать только один из этих режимов для монтирования постоянных томов.<br />- ReadWriteOnce (RWO): Может быть смонтирован как доступ на чтение и запись одним узлом.<br />- ReadWriteMany (RWX): Может быть смонтирован как доступ на чтение и запись несколькими узлами.<br />- ReadOnlyMany (ROX): Может быть смонтирован как доступ только для чтения несколькими узлами. |
   | **Выделенные проекты**   | Пожалуйста, выделите проекты, которые могут использовать этот тип хранилища.<br />Если в настоящее время нет проектов, нуждающихся в этом типе хранилища, вы можете выбрать не выделять проекты на данный момент и обновить их позже.                                                                                                                                                                                                 |

4. После того как вы подтвердите, что информация о конфигурации верна, нажмите **Создать**.

## Связанные операции

[Установка правил именования для подкаталогов в классе общего хранилища NFS](../how_to/nfs_subdir.mdx)
