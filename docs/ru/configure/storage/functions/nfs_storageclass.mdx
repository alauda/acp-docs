---
weight: 20
sourceSHA: 95caa37a4beb3a1bef7c93d97f5f290ac6ca4bcd135895d255b52868d3317106
---

# Создание класса общего хранилища NFS

На основе драйвера хранения NFS CSI (Container Storage Interface) сообщества, он предоставляет возможность доступа к нескольким системам хранения или учетным записям NFS.

В отличие от традиционной модели клиент-серверного доступа NFS, общее хранилище NFS использует плагин хранения NFS CSI (Container Storage Interface) сообщества, который более согласован с принципами проектирования Kubernetes и позволяет клиентам получать доступ к нескольким серверам.

## Предварительные требования

- Должен быть настроен сервер NFS, а методы его доступа должны быть определены. В настоящее время платформа поддерживает три версии протокола NFS: `v3`, `v4.0` и `v4.1`. Вы можете выполнить команду `nfsstat -s` на стороне сервера, чтобы проверить информацию о версии.

## Развертывание плагина общего хранилища NFS

1. Перейдите в **Управление платформой**.

2. В левой навигационной панели нажмите **Управление хранилищем** > **Классы хранилища**.

3. Нажмите **Создать класс хранилища**.

4. Справа от **Общее хранилище NFS** нажмите Развернуть, чтобы перейти на страницу **Плагины**.

5. Справа от плагина **NFS** нажмите ⋮ > **Развернуть**.

6. Дождитесь изменения статуса развертывания на **Развертывание успешно выполнено** перед завершением развертывания.

## Создание класса общего хранилища NFS

1. Нажмите **Создать класс хранилища**.

   **Примечание**: Следующее содержимое представлено в форме, но вы также можете выбрать выполнение операции с использованием YAML.

2. Выберите **Общее хранилище NFS** и нажмите **Далее**.

3. Ориентируйтесь на следующие инструкции для настройки соответствующих параметров.

   | Параметр                | Описание                                                                                                                                                                                                                                                                                                                                                                                                           |
   | ------------------------ | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
   | **Имя**                 | Имя класса хранилища. Оно должно быть уникальным в текущем кластере.                                                                                                                                                                                                                                                                                                                                          |
   | **Адрес службы**        | Адрес доступа к серверу NFS. Например: `192.168.2.11`.                                                                                                                                                                                                                                                                                                                                                    |
   | **Путь**                | Путь монтирования файловой системы NFS на серверном узле. Например: `/nfs/data`.                                                                                                                                                                                                                                                                                                                                   |
   | **Версия протокола NFS** | В настоящее время поддерживает три версии: `v3`, `v4.0` и `v4.1`.                                                                                                                                                                                                                                                                                                                                                          |
   | **Политика восстановления** | Политика восстановления для постоянного тома.<br />- Удалить: Когда запрос на постоянный том удаляется, связанный постоянный том также будет удален.<br />- Сохранить: Даже если запрос на постоянный том удаляется, связанный постоянный том все равно будет сохранен.                                                                                                                                        |
   | **Режимы доступа**      | Все режимы доступа, поддерживаемые текущим хранилищем. При последующем объявлении постоянных томов можно выбрать только один из этих режимов для монтирования постоянных томов.<br />- ReadWriteOnce (RWO): Может быть смонтирован как доступный для чтения и записи одним узлом.<br />- ReadWriteMany (RWX): Может быть смонтирован как доступный для чтения и записи несколькими узлами.<br />- ReadOnlyMany (ROX): Может быть смонтирован как доступный только для чтения несколькими узлами. |
   | **Выделенные проекты**  | Пожалуйста, выделите проекты, которые могут использовать этот тип хранилища.<br />Если в данный момент нет проектов, нуждающихся в этом типе хранилища, вы можете выбрать, чтобы не выделять никакие проекты на данный момент и обновить их позже.                                                                                                                                                                                                 |

4. После того, как вы подтвердили, что информация конфигурации верна, нажмите **Создать**.
