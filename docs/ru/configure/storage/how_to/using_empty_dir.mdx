---
weight: 52
sourceSHA: a399fa6d5487d94ed1fe62fa270541e3a7438f580b69f2aad15881ca383e7f8b
---

# Использование emptyDir

В Kubernetes, emptyDir — это простой временный тип тома, который предоставляет временное хранилище для пода на протяжении его жизни. Он создается, когда под назначается узлу, и удаляется, когда под удаляется с этого узла.

## Пример emptyDir

Этот под создает временный том, смонтированный по адресу /data, который разделяется с контейнером.

```yaml
apiVersion: v1
kind: Pod
metadata:
  name: emptydir-demo
spec:
  containers:
    - name: app
      image: busybox
      command: ["sh", "-c", "echo hello > /data/hello.txt && sleep 3600"]
      volumeMounts:
        - mountPath: /data
          name: cache-volume
  volumes:
    - name: cache-volume
      emptyDir: {}
```

## Настройка Medium (необязательно)

Вы можете выбрать, где будут храниться данные:

```yaml
emptyDir:
  medium: "Memory"
```

| Medium    | Описание                                                             |
| --------- | --------------------------------------------------------------------- |
| (по умолчанию) | Использует диск узла, SSD или сетевое хранилище, в зависимости от вашей среды |
| `Memory`  | Использует ОЗУ (`tmpfs`) для более быстрого доступа (но нестабильно)                     |

## Ключевые характеристики

| Особенность               | Описание                                               |
| ------------------------ | --------------------------------------------------------- |
| Начинается пустым        | Нет данных при создании                                      |
| Общий между контейнерами | Один и тот же том может использоваться несколькими контейнерами в поде |
| Удаляется с подом        | Том уничтожается, когда под удаляется               |
| Локальный узел           | Том хранится на локальном диске или в памяти узла       |
| Быстрый                  | Идеален для чувствительного к производительности временного пространства             |

## Общие случаи использования

- Кэширование промежуточных артефактов сборки

- Буферизация логов

- Временные рабочие директории

- Обмен данными между контейнерами в одном поде (например, сайдкары)
