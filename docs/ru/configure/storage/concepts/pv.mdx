---
sourceSHA: c2bf608a519df29bedc8a1fd15b9b27b27d3c1d16ca00fe9cc76274fa6b742c4
---

# Постоянный том

Постоянный том (PV) представляет собой сопоставление с объемами фонового хранилища в кластере Kubernetes, функционируя как ресурс API Kubernetes. Это ресурс кластера, созданный и сконфигурированный администратором, который отвечает за абстрагирование фактических ресурсов хранения и формирование инфраструктуры хранения кластера.

Постоянные тома имеют независимый от Подов жизненный цикл, что позволяет сохранять данные Подов.

Администраторы могут вручную создавать статические постоянные тома или генерировать динамические постоянные тома на основе классов хранения. Если разработчики нуждаются в получении ресурсов хранения для приложений, они могут запросить их через Претензии на постоянные тома (PVC), которые соответствуют и связываются с подходящими постоянными томами.

### Динамические постоянные тома против статических постоянных томов

Платформа поддерживает управление двумя типами постоянных томов администраторами: динамическими и статическими постоянными томами.

- **Динамические постоянные тома**: Реализованы на основе классов хранения. Классы хранения создаются администраторами и определяют ресурс Kubernetes, который описывает категорию ресурсов хранения. Когда разработчик создает Претензию на постоянный том, связанную с классом хранения, платформа динамически создает подходящий постоянный том в соответствии с параметрами, настроенными в Претензии на постоянный том и классе хранения, связывая его с Претензией на постоянный том для динамического распределения ресурсов хранения.

- **Статические постоянные тома**: Постоянные тома, создаваемые вручную администратором. В настоящее время поддерживается создание статических постоянных томов типов **HostPath** или **NFS общего хранилища**. Когда разработчики создают Претензию на постоянный том без использования класса хранения, платформа сопоставляет и связывает подходящий статический постоянный том в соответствии с параметрами, настроенными в Претензии на постоянный том.

  - **HostPath**: Использует файловый каталог на узле-хосте (локальное хранилище не поддерживается) в качестве фонового хранилища, например: `/etc/kubernetes`. Обычно применяется только для тестовых сценариев в пределах кластера с одним вычислительным узлом.

  - **NFS Общее Хранилище**: Относится к сетевой файловой системе, распространенному типу фонового хранилища для постоянных томов. Пользователи и программы могут получать доступ к файлам на удаленных системах так, как если бы они были локальными файлами.

### Жизненный цикл постоянных томов

1. **Создание**: Администраторы вручную создают статические постоянные тома. После создания постоянный том переходит в состояние **Доступен**; альтернативно, платформа динамически создает подходящие постоянные тома на основе Претензий на постоянные тома, связанных с классами хранения.

2. **Связывание**: Как только статический постоянный том сопоставлен и связан с Претензией на постоянный том, он переходит в состояние **Связан**; динамические постоянные тома создаются динамически на основе запросов, сопоставленных с Претензиями на постоянные тома, и также переходят в состояние **Связан**, когда успешно созданы.

3. **Использование**: Разработчики связывают Претензии на постоянные тома с экземплярами контейнеров вычислительных компонентов, используя ресурсы фонового хранения, сопоставленные постоянными томами.

4. **Освобождение**: После того, как разработчики удаляют Претензию на постоянный том, постоянный том освобождается.

5. **Восстановление**: После освобождения постоянного тома выполняются операции восстановления в соответствии с параметрами политики восстановления постоянного тома или класса хранения.
