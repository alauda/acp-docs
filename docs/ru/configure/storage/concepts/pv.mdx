---
sourceSHA: c2bf608a519df29bedc8a1fd15b9b27b27d3c1d16ca00fe9cc76274fa6b742c4
---

# Постоянный том

Постоянный том (PV) представляет собой сопоставление с бэкэнд-хранилищами в кластере Kubernetes и функционирует как ресурс API Kubernetes. Это ресурс кластера, который создается и настраивается администраторами, отвечая за абстрагирование фактических ресурсов хранения и формирование инфраструктуры хранения кластера.

Постоянные тома имеют жизненный цикл, независимый от Pod, что позволяет сохранять данные Pod в постоянном хранении.

Администраторы могут вручную создавать статические постоянные тома или генерировать динамические постоянные тома на основе классов хранения. Если разработчикам необходимо получить ресурсы хранения для приложений, они могут запрашивать их через Заявки Постоянного Тома (PVC), которые соответствуют и связываются с подходящими постоянными томами.

### Динамические постоянные тома против статических постоянных томов

Платформа поддерживает управление двумя типами постоянных томов администраторами: динамическими и статическими постоянными томами.

- **Динамические постоянные тома**: Реализуются на основе классов хранения. Классы хранения создаются администраторами и определяют ресурс Kubernetes, который описывает категорию ресурсов хранения. Когда разработчик создает Заявку Постоянного Тома, связанную с классом хранения, платформа динамически создаст подходящий постоянный том в соответствии с параметрами, настроенными в Заявке Постоянного Тома и классе хранения, связывая его с Заявкой Постоянного Тома для динамического распределения ресурсов хранения.

- **Статические постоянные тома**: Постоянные тома, создаваемые вручную администратором. В данный момент поддерживается создание статических постоянных томов типов **HostPath** или **NFS общего хранилища**. Когда разработчики создают Заявку Постоянного Тома без использования класса хранения, платформа соответствует и связывает подходящий статический постоянный том в соответствии с параметрами, настроенными в Заявке Постоянного Тома.

  - **HostPath**: Использует файловый каталог на узле хоста (локальное хранилище не поддерживается) в качестве бэкэнд-хранилища, например: `/etc/kubernetes`. Обычно применяется только в сценариях тестирования в кластере с одним вычислительным узлом.

  - **NFS Общее Хранилище**: Относится к сетевой файловой системе, общему типу бэкэнд-хранилища для постоянных томов. Пользователи и программы могут получать доступ к файлам на удаленных системах, как если бы они были локальными файлами.

### Жизненный цикл постоянных томов

1. **Обеспечение**: Администраторы вручную создают статические постоянные тома. После создания постоянный том переходит в состояние **Доступен**; альтернативно, платформа динамически создает подходящие постоянные тома на основе Заявок Постоянного Тома, связанных с классами хранения.

2. **Связывание**: Как только статический постоянный том сопоставлен и связан с Заявкой Постоянного Тома, он переходит в состояние **Связан**; динамические постоянные тома создаются динамически на основе запросов, соответствующих Заявкам Постоянного Тома, и также переходят в состояние **Связан** после успешного создания.

3. **Использование**: Разработчики связывают Заявки Постоянного Тома с экземплярами контейнеров вычислительных компонентов, используя ресурсы бэкэнд-хранилища, сопоставленные постоянными томами.

4. **Освобождение**: После удаления Заявки Постоянного Тома разработчиками постоянный том освобождается.

5. **Восстановление**: Как только постоянный том освобождается, на нем выполняются операции восстановления в соответствии с параметрами политики восстановления постоянного тома или класса хранения.
