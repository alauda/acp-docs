---
weight: 10
sourceSHA: 9dc8150e2dc91c6d1a52f6c08a6c46a8667cdc0914e81e6033b68a26b94acdf0
---

# Создание служб

В Kubernetes служба — это способ открытия сетевого приложения, которое работает как одно или несколько pod в вашем кластере.

## Шаги

1. Войдите в **Платформу контейнеров**.

2. В левой навигационной панели щелкните **Сеть** > **Службы**.

3. Щелкните **Создать службу**.

4. Ознакомьтесь с приведенными ниже инструкциями для настройки соответствующих параметров.

   | Параметр               | Описание                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
   | ---------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
   | **Виртуальный IP-адрес** | Если включен, для этой службы будет выделен ClusterIP, который можно использовать для обнаружения службы внутри кластера.<br />Если отключен, будет создана служба без головы, которая обычно используется **StatefulSet**.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
   | **Тип**                | <ul><li>**ClusterIP**: Открывает службу на внутреннем IP кластера. Выбор этого значения делает службу доступной только изнутри кластера.</li><li>**NodePort**: Открывает службу на IP каждого узла по статическому порту (NodePort).</li><li>**ExternalName**: Отображает службу на содержимое поля externalName (например, на имя хоста api.foo.bar.example).</li><li>**LoadBalancer**: Открывает службу извне, используя внешний балансировщик нагрузки. Kubernetes напрямую не предлагает компонент балансировки нагрузки; вы должны предоставить его, или вы можете интегрировать свой кластер Kubernetes с облачным провайдером.</li></ul>                                                                                                                                                                                                                                                    |
   | **Целевой компонент**  | <ul><li>**Рабочая нагрузка**: Служба будет перенаправлять запросы на **определенную** рабочую нагрузку, которая соответствует меткам, таким как `project.cpaas.io/name: projectname` и `service.cpaas.io/name: deployment-name`.</li><br /><li>**Виртуализация**: Служба будет перенаправлять запросы на **определенную** виртуальную машину или группу виртуальных машин.</li><br /><li>**Выбор меток**: Служба будет перенаправлять запросы на **определенный тип** рабочей нагрузки с заданными метками, например, `environment: release`.</li></ul>                                                                                                                                                                                                                                                                                                                                                                                            |
   | **Порт**               | Используется для настройки сопоставления портов для этой службы. В следующем примере другие pods внутри кластера могут вызывать эту службу через виртуальный IP (если включен) и TCP порт *80*; запросы доступа будут перенаправлены на внешне открытый TCP порт *6379* или *redis* pods целевого компонента.<ul><li>**Протокол**: Протокол, используемый службой, поддерживаемые протоколы включают: `TCP`, `UDP`, `HTTP`, `HTTP2`, `HTTPS`, `gRPC`.</li><li>**Порт службы**: Номер порта службы, открываемый службой внутри кластера, т.е. Порт, например, *80*.</li><li>**Порт контейнера**: Номер (или имя) целевого порта, к которому сопоставлен порт службы, т.е. targetPort, например, *6379* или *redis*.</li><li>**Имя порта службы**: Будет сгенерировано автоматически. Формат: `<protocol>-<service port>-<container port>`, например: *tcp-80-6379* или *tcp-80-redis*.</li></ul> |
   | **Сессия Избранность** | Избранность сессии на основе IP-адреса источника (ClientIP). Если включено, все запросы доступа с одного и того же IP-адреса будут обрабатываться одним и тем же сервером во время балансировки нагрузки, обеспечивая, чтобы запросы от одного и того же клиента перенаправлялись на один и тот же сервер для обработки.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |

5. Щелкните **Создать**.
