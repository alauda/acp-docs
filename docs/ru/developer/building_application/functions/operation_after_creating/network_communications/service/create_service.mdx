---
weight: 10
sourceSHA: 2d616108b111a46064f6ad241b57d2a23e480442c71828cd9bd7860d995bd250
---

# Создание Сервисов

В Kubernetes Сервис — это метод для экспонирования сетевого приложения, которое работает как один или несколько Подов в вашем кластере.

## Шаги

1. Войдите в **Container Platform**.

2. В левой навигационной панели нажмите **Network** > **Services**.

3. Нажмите **Create Service**.

4. Ознакомьтесь с приведенными ниже инструкциями для настройки соответствующих параметров.

   | Параметр              | Описание                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
   | ---------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
   | **Виртуальный IP-адрес** | Если включено, для этого Сервиса будет выделен ClusterIP, который можно использовать для обнаружения сервисов внутри кластера.<br />Если отключено, будет создан Headless Service, который обычно используется **StatefulSet**.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
   | **Тип**               | <ul><li>**ClusterIP**: Экспонирует Сервис на внутреннем IP кластера. Выбор этого значения делает Сервис доступным только изнутри кластера. </li><li>**NodePort**: Экспонирует Сервис на IP каждого Узла на статическом порту (NodePort). </li><li>**ExternalName**: Соответствует Сервису содержимому поля externalName (например, имени хоста api.foo.bar.example). </li><li>**LoadBalancer**: Экспонирует Сервис внешне, используя внешний балансировщик нагрузки. Kubernetes не предлагает напрямую компонент балансировки нагрузки; вы должны предоставить его, или вы можете интегрировать ваш кластер Kubernetes с облачным провайдером.</li></ul>                                                                                                                                                                                                                                                    |
   | **Целевой компонент**   | <ul><li>**Workload**: Сервис будет перенаправлять запросы на **определенную** рабочую нагрузку, которая соответствует меткам, таким как `project.cpaas.io/name: projectname` и `service.cpaas.io/name: deployment-name`.</li><br /><li>**Виртуализация**: Сервис будет перенаправлять запросы на **определенную** виртуальную машину или группу виртуальных машин.</li><br /><li>**Выбор меток**: Сервис будет перенаправлять запросы на **определенный тип** рабочей нагрузки с указанными метками, например, `environment: release`.</li></ul>                                                                                                                                                                                                                                                                                                                                                                                            |
   | **Порт**               | Используется для настройки сопоставления портов для этого Сервиса. В следующем примере другие поды внутри кластера могут вызывать этот Сервис через виртуальный IP (если включен) и TCP порт *80*; запросы доступа будут перенаправлены на внешне экспонируемый TCP порт *6379* или *redis* подов целевого компонента.<ul><li>**Протокол**: Протокол, используемый Сервисом, поддерживаемые протоколы включают: `TCP`, `UDP`, `HTTP`, `HTTP2`, `HTTPS`, `gRPC`.</li><li>**Порт Сервиса**: Номер порта сервиса, экспонируемого Сервисом внутри кластера, то есть Port, например, *80*.</li><li>**Порт Контейнера**: Номер (или имя) целевого порта, к которому сопоставляется порт сервиса, то есть targetPort, например, *6379* или *redis*.</li><li>**Имя Порта Сервиса**: Будет сгенерировано автоматически. Формат: `<protocol>-<service port>-<container port>`, например: *tcp-80-6379* или *tcp-80-redis*.</li></ul> |
   | **Сессия Аффинити**   | Аффинити сессии на основе IP-адреса источника (ClientIP). Если включено, все запросы доступа с одного и того же IP-адреса будут оставаться на одном и том же сервере во время балансировки нагрузки, что гарантирует, что запросы от одного клиента перенаправляются на один и тот же сервер для обработки.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |

5. Нажмите **Create**.

Для Сервисов типа LoadBalancer вы можете дополнительно настроить их функциональность через аннотации. Пожалуйста, обратитесь к [Аннотациям для Сервиса типа LoadBalancer](./annotation.mdx).
