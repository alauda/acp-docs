---
weight: 20
sourceSHA: 071002ffb3e72b3c0964319cb0fd2bf65f61c80bd98519bd8229ca2674512876
---

# Аннотации сервиса типа LoadBalancer

## AWS EKS Кластер

Для подробных объяснений аннотаций сервиса EKS LoadBalancer, пожалуйста, обратитесь к [Документации по использованию аннотаций](https://kubernetes-sigs.github.io/aws-load-balancer-controller/v2.5/guide/service/annotations/) .

| Ключ                                                          | Значение                                                                                                                                                             | Описание                                                                                                                                                                 |
| ------------------------------------------------------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| service.beta.kubernetes.io/aws-load-balancer-type            | external: Используйте официальный AWS LoadBalancer Controller.                                                                                                      | Указывает контроллер для типа LoadBalancer.<br /><br /><b>Примечание</b>: Пожалуйста, заранее свяжитесь с администратором платформы, чтобы развернуть AWS LoadBalancer Controller. |
| service.beta.kubernetes.io/aws-load-balancer-nlb-target-type | <ul><li>instance: Трафик будет перенаправлен к подам через NodePort.</li><li>ip: Трафик направляется непосредственно к подам (кластер должен использовать Amazon VPC CNI).</li></ul> | Указывает, как трафик достигает подов.                                                                                                                                     |
| service.beta.kubernetes.io/aws-load-balancer-scheme          | <ul><li>internal: Локальная сеть.</li><li>internet-facing: Публичная сеть.</li></ul>                                                                                 | Указывает, следует ли использовать локальную или публичную сеть.                                                                                                         |
| service.beta.kubernetes.io/aws-load-balancer-ip-address-type | <ul><li>ipv4</li><li>dualstack</li></ul>                                                                                                                             | Указывает поддерживаемую стек IP-адресов.                                                                                                                                 |

## Huawei Cloud CCE Кластер

Для подробных объяснений аннотаций сервиса CCE LoadBalancer, пожалуйста, обратитесь к [Документации по использованию аннотаций](https://support.huaweicloud.com/intl/zh-cn/usermanual-cce/cce_10_0385.html) .

| Ключ                            | Значение                                                                                                                                                                                                                                                                                                                                                                                                                             | Описание                                                                                                                                                                                                                           |
| ------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| kubernetes.io/elb.id           |                                                                                                                                                                                                                                                                                                                                                                                                                                         | Заполните ID облачного балансировщика нагрузки, необходимо использовать существующий облачный балансировщик нагрузки.                                                                                                                                                 |
| kubernetes.io/elb.autocreate   | Пример: `{"type":"public","bandwidth_name":"cce-bandwidth-1551163379627","bandwidth_chargemode":"bandwidth","bandwidth_size":5,"bandwidth_sharetype":"PER","eip_type":"5_bgp","available_zone":["cn-north-4b"],"l4_flavor_name":"L4_flavor.elb.s1.small"}`<br /><br /><b>Примечание</b>: Сначала прочитайте [Инструкции по заполнению](https://support.huaweicloud.com/intl/zh-cn/usermanual-cce/cce_10_0385.html#section8) и отредактируйте параметры примера по мере необходимости. | Новый облачный балансировщик нагрузки, который будет создан.                                                                                                                                                                                   |
| kubernetes.io/elb.subnet-id    |                                                                                                                                                                                                                                                                                                                                                                                                                                         | ID подсети, в которой находится кластер. Когда версия Kubernetes составляет 1.11.7-r0 или ниже, это поле должно быть заполнено при создании нового облачного балансировщика нагрузки.                                                                                          |
| kubernetes.io/elb.class        | <ul><li>union: Общий балансировщик нагрузки.</li><li>performance: Эксклюзивный балансировщик нагрузки, поддерживается только в версиях Kubernetes 1.17 и выше.</li></ul>                                                                                                                                                                                                                                                 | Указывает тип нового облачного балансировщика нагрузки, который будет создан, пожалуйста, обратитесь к [Различиям между эксклюзивным и общим балансировкой нагрузки](https://support.huaweicloud.com/intl/zh-cn/productdesc-elb/elb_pro_0004.html). |
| kubernetes.io/elb.enterpriseID |                                                                                                                                                                                                                                                                                                                                                                                                                                         | Указывает на проект предприятия, к которому принадлежит вновь созданный облачный балансировщик нагрузки.                                                                                                                                                                                  |

## Azure AKS Кластер

Для подробных объяснений аннотаций сервиса AKS LoadBalancer, пожалуйста, обратитесь к [Документации по использованию аннотаций](https://cloud-provider-azure.sigs.k8s.io/topics/loadbalancer/#loadbalancer-annotations) .

| Ключ                                                     | Значение                                                                   | Описание                                                     |
| ------------------------------------------------------- | ------------------------------------------------------------------------- | ------------------------------------------------------------ |
| service.beta.kubernetes.io/azure-load-balancer-internal | <ul><li>true: Локальная сеть.</li><li>false: Публичная сеть.</li></ul> | Указывает, следует ли использовать локальную или публичную сеть. |

## Google GKE Кластер

Для подробных объяснений аннотаций сервиса GKE LoadBalancer, пожалуйста, обратитесь к [Документации по использованию аннотаций](https://cloud.google.com/kubernetes-engine/docs/concepts/service-load-balancer-parameters?hl=zh-cn) .

| Ключ                                  | Значение    | Описание                                                                                   |
| ------------------------------------- | ----------- | ------------------------------------------------------------------------------------------ |
| networking.gke.io/load-balancer-type | Internal    | Указывает на использование локальной сети.                                                |
| loud.google.com/l4-rbs                | enabled     | По умолчанию публичный. Если этот параметр настроен, трафик будет перенаправлен непосредственно к подам. |
