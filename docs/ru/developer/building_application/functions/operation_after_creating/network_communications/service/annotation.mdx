---
weight: 20
sourceSHA: 071002ffb3e72b3c0964319cb0fd2bf65f61c80bd98519bd8229ca2674512876
---

# Аннотации сервиса типа LoadBalancer

## AWS EKS Кластер

Для подробных объяснений аннотаций сервиса LoadBalancer EKS, пожалуйста, обратитесь к [Документации по использованию аннотаций](https://kubernetes-sigs.github.io/aws-load-balancer-controller/v2.5/guide/service/annotations/) .

| Ключ                                                          | Значение                                                                                                                                                             | Описание                                                                                                                                                                 |
| ------------------------------------------------------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| service.beta.kubernetes.io/aws-load-balancer-type            | external: Используйте официальный контроллер LoadBalancer AWS.                                                                                                    | Указывает контроллер для типа LoadBalancer.<br /><br /><b>Примечание</b>: Пожалуйста, свяжитесь с администратором платформы заранее для развертывания контроллера AWS LoadBalancer. |
| service.beta.kubernetes.io/aws-load-balancer-nlb-target-type | <ul><li>instance: Трафик будет отправляться на поды через NodePort.</li><li>ip: Трафик направляется непосредственно на поды (кластер должен использовать Amazon VPC CNI).</li></ul> | Указывает, как трафик достигает подов.                                                                                                                                 |
| service.beta.kubernetes.io/aws-load-balancer-scheme          | <ul><li>internal: Частная сеть.</li><li>internet-facing: Публичная сеть.</li></ul>                                                                                 | Указывает, следует ли использовать частную или публичную сеть.                                                                                                         |
| service.beta.kubernetes.io/aws-load-balancer-ip-address-type | <ul><li>ipv4</li><li>dualstack</li></ul>                                                                                                                          | Указывает поддерживаемый стек IP-адресов.                                                                                                                               |

## Huawei Cloud CCE Кластер

Для подробных объяснений аннотаций сервиса LoadBalancer CCE, пожалуйста, обратитесь к [Документации по использованию аннотаций](https://support.huaweicloud.com/intl/zh-cn/usermanual-cce/cce_10_0385.html) .

| Ключ                            | Значение                                                                                                                                                                                                                                                                                                                                                                                                                                                              | Описание                                                                                                                                                                                                                       |
| ------------------------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| kubernetes.io/elb.id           |                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | Укажите ID облачного балансировщика нагрузки, обязательно используйте существующий облачный балансировщик нагрузки.                                                                                                                                              |
| kubernetes.io/elb.autocreate   | Пример: `{"type":"public","bandwidth_name":"cce-bandwidth-1551163379627","bandwidth_chargemode":"bandwidth","bandwidth_size":5,"bandwidth_sharetype":"PER","eip_type":"5_bgp","available_zone":["cn-north-4b"],"l4_flavor_name":"L4_flavor.elb.s1.small"}`<br /><br /><b>Примечание</b>: Пожалуйста, сначала прочитайте [Инструкции по заполнению](https://support.huaweicloud.com/intl/zh-cn/usermanual-cce/cce_10_0385.html#section8) и при необходимости скорректируйте параметры примера. | Новый облачный балансировщик нагрузки будет создан.                                                                                                                                                                                            |
| kubernetes.io/elb.subnet-id    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | ID подсети, в которой расположен кластер. Когда версия Kubernetes 1.11.7-r0 или ниже, это поле необходимо заполнить при создании нового облачного балансировщика нагрузки.                                                          |
| kubernetes.io/elb.class        | <ul><li>union: Совместный балансировщик нагрузки.</li><li>performance: Эксклюзивный балансировщик нагрузки, поддерживается только в версиях Kubernetes 1.17 и выше.</li></ul>                                                                                                                                                                                                                                                                                                                | Указывает тип нового облачного балансировщика нагрузки, который будет создаваться. Пожалуйста, обратитесь к [Различиям между эксклюзивным и совместным распределением нагрузки](https://support.huaweicloud.com/intl/zh-cn/productdesc-elb/elb_pro_0004.html). |
| kubernetes.io/elb.enterpriseID |                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | Указывает проект предприятия, к которому принадлежит вновь созданный облачный балансировщик нагрузки.                                                                                                                                          |

## Azure AKS Кластер

Для подробных объяснений аннотаций сервиса LoadBalancer AKS, пожалуйста, обратитесь к [Документации по использованию аннотаций](https://cloud-provider-azure.sigs.k8s.io/topics/loadbalancer/#loadbalancer-annotations) .

| Ключ                                                     | Значение                                                                   | Описание                                                     |
| ------------------------------------------------------- | ----------------------------------------------------------------------- | --------------------------------------------------------------- |
| service.beta.kubernetes.io/azure-load-balancer-internal | <ul><li>true: Частная сеть.</li><li>false: Публичная сеть.</li></ul> | Указывает, следует ли использовать частную или публичную сеть. |

## Google GKE Кластер

Для подробных объяснений аннотаций сервиса LoadBalancer GKE, пожалуйста, обратитесь к [Документации по использованию аннотаций](https://cloud.google.com/kubernetes-engine/docs/concepts/service-load-balancer-parameters?hl=zh-cn) .

| Ключ                                  | Значение    | Описание                                                                                   |
| ------------------------------------ | -------- | --------------------------------------------------------------------------------------------- |
| networking.gke.io/load-balancer-type | Internal | Указывает на использование частной сети.                                                       |
| loud.google.com/l4-rbs               | enabled  | По умолчанию публичный. Если этот параметр настроен, трафик будет направлен непосредственно на поды. |
