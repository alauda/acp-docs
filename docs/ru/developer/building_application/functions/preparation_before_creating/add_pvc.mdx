---
weight: 50
i18n:
  title:
    en: Создание PVC
    zh: 创建 PVCs
title: Создание PVC
sourceSHA: 01fc39ab747f7e7f44d17d7d64c3b1727e80c63ee15570367023b1a7caaee509
---

# Создание PVC

Создайте PersistentVolumeClaim (PVC) и установите параметры для запрашиваемого PersistentVolume (PV) по необходимости.

Вы можете создать PersistentVolumeClaim как через визуальную форму пользовательского интерфейса, так и с помощью пользовательского YAML файла.

## Предварительные условия

Убедитесь, что в пространстве имен достаточно оставшейся **памяти** для удовлетворения необходимого размера хранилища для этой операции создания.

## Процедура

1. **Платформа контейнеров**.

2. Нажмите на **Хранилище > PersistentVolumeClaims (PVC)** в левом боковом меню.

3. Нажмите на **Создать PVC**.

4. Настройте параметры по необходимости.

   **Примечание**: Следующее содержимое предоставлено в качестве примера, использующего метод формы; вы также можете переключиться в режим YAML для завершения операции.

   | Параметр            | Описание                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
   | ------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
   | **Имя**             | Имя PersistentVolumeClaim, которое должно быть уникальным в текущем пространстве имен.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
   | **Метод создания**  | - Динамическое создание: Динамически генерирует PersistentVolume на основе класса хранения и связывает его. <br />- Статическая привязка: Сопоставляет и связывает на основе настроенных параметров и существующих PersistentVolumes.                                                                                                                                                                                                                                                                                                                                                                                                                                               |
   | **Класс хранения**  | После выбора метода динамического создания платформа будет динамически создавать PersistentVolume в соответствии с описанием в указанном классе хранения.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
   | **Режим доступа**    | - ReadWriteOnce (RWO): Может быть смонтирован только одним узлом в режиме чтения-записи. <br />- ReadWriteMany (RWX): Может быть смонтирован несколькими узлами в режиме чтения-записи. <br />- ReadOnlyMany (ROX): Может быть смонтирован несколькими узлами в режиме только для чтения. <br /><br />**Совет**: Рекомендуется учесть количество экземпляров рабочих нагрузок, которые планируют связаться с текущим PersistentVolumeClaim, и тип контроллера развертывания. Например, при создании развертывания с несколькими экземплярами (Deployment), поскольку все экземпляры используют один и тот же PersistentVolumeClaim, не рекомендуется выбирать режим доступа RWO, который может быть прикреплен только к одному узлу. |
   | **Вместимость**     | Размер запрашиваемого PersistentVolume.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
   | **Режим тома**      | - Файловая система: Связывает PersistentVolume как файловый каталог, смонтированный в Pod. Этот режим доступен для любого типа рабочей нагрузки. <br />- Блочное устройство: Связывает PersistentVolume как необработанное блочное устройство, смонтированное в Pod. Этот режим доступен только для виртуальных машин.                                                                                                                                                                                                                                                                                                                                                                           |
   | **Дополнительно**    | - Метки <br />- Аннотации <br />- Селектор: После выбора метода статической привязки вы можете использовать селектор для нацеливания на PersistentVolumes, которые помечены определенными тегами. Метки PersistentVolume могут использоваться для обозначения специальных атрибутов хранилища, таких как тип диска или географическое местоположение.                                                                                                                                                                                                                                                                                                                                                 |

5. Нажмите на **Создать**. Подождите, пока PersistentVolumeClaim не изменит статус на `Bound`, указывающий на то, что PersistentVolume был успешно сопоставлен.

## Операции

- **Привязка PersistentVolumeClaim**: При создании приложений или рабочих нагрузок, которые требуют постоянного хранилища данных, привяжите PersistentVolumeClaim для запроса соответствующего PersistentVolume.

- **Создание PersistentVolumeClaim с использованием снимков томов**: Это помогает создавать резервные копии данных приложений и восстанавливать их по мере необходимости, обеспечивая надежность данных бизнес-приложений. Пожалуйста, обратитесь к [Использование снимков томов](../operation_after_creating/snapshot.mdx).

- **Удаление PersistentVolumeClaim**: Вы можете нажать кнопку **Действия** в правом верхнем углу страницы деталей, чтобы удалить PersistentVolumeClaim при необходимости. Перед удалением убедитесь, что PersistentVolumeClaim не связан с какими-либо приложениями или рабочими нагрузками и что он не содержит никаких снимков томов. После удаления PersistentVolumeClaim платформа обработает PersistentVolume в соответствии с политикой возврата, что может очистить данные в PersistentVolume и освободить ресурсы хранилища. Пожалуйста, действуйте с осторожностью, основываясь на соображениях безопасности данных.
