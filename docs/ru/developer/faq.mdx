---
sourceSHA: dea699e1f6acc86c53f291a65ed73372db44a502ab404f2cd66817dacada03e9
---

# FAQ

## Почему не должно существовать нескольких ResourceQuotas в пространстве имен при его импорте?

При импорте пространства имен, если оно содержит несколько ресурсов ResourceQuota, платформа выберет наименьшее значение для каждого элемента квоты среди всех ResourceQuotas и объединит их, в конечном итоге создавая единственный ResourceQuota с именем `default`.

Пример:

Пространство имен `to-import`, которое будет импортировано, содержит следующие ресурсы `resourcequota`:

```yaml
---
apiVersion: v1
kind: ResourceQuota
metadata:
  name: a
  namespace: to-import
spec:
  hard:
    requests.cpu: "1"
    requests.memory: "500Mi"
    limits.cpu: "3"
    limits.memory: "1Gi"
---
apiVersion: v1
kind: ResourceQuota
metadata:
  name: b
  namespace: to-import
spec:
  hard:
    requests.cpu: "2"
    requests.memory: "300Mi"
    limits.cpu: "2"
    limits.memory: "2Gi"
```

После импорта пространства имен `to-import` будет создан следующий ResourceQuota с именем `default` в этом пространстве имен:

```yaml
apiVersion: v1
kind: ResourceQuota
metadata:
  name: default
  namespace: to-import
spec:
  hard:
    requests.cpu: "1"
    requests.memory: "300Mi"
    limits.cpu: "2"
    limits.memory: "1Gi"
```

Для каждого ResourceQuota квоты ресурсов являются минимальным значением между `a` и `b`.

Когда в пространстве имен существует несколько ResourceQuotas, Kubernetes проверяет каждую ResourceQuota независимо. Поэтому после импорта пространства имен рекомендуется удалить все ResourceQuotas, кроме `default`. Это помогает избежать осложнений в расчетах квот из-за нескольких ResourceQuotas, что может легко привести к ошибкам.

## Почему не должно существовать нескольких LimitRanges или LimitRange, который не называется `default`, в пространстве имен при его импорте?

При импорте пространства имен, если оно содержит несколько ресурсов LimitRange, платформа не может объединить их в один LimitRange. Поскольку Kubernetes независимо проверяет каждый LimitRange, когда их несколько, поведение того, какие значения по умолчанию выбирает Kubernetes, непредсказуемо.

Платформа создаст LimitRange с именем `default` при создании пространства имен. Поэтому перед импортом пространства имен в нем должен существовать только один LimitRange с именем `default`.
