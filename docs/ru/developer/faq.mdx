---
sourceSHA: 80f9147874be0090e1777a8441ad0c65c5b565b8727ff93b162c21ee8314e9b1
---

# FAQ

## Почему не должно существовать множество ResourceQuotas в пространстве имен при его импорте?

При импорте пространства имен, если оно содержит несколько ресурсов ResourceQuota, платформа выберет наименьшее значение для каждого элемента квоты среди всех ResourceQuotas и объединит их, в конечном итоге создавая единственный ResourceQuota с именем `default`.

Пример:

Пространство имен `to-import`, которое будет импортировано, содержит следующие ресурсы `resourcequota`:

```yaml
---
apiVersion: v1
kind: ResourceQuota
metadata:
  name: a
  namespace: to-import
spec:
  hard:
    requests.cpu: "1"
    requests.memory: "500Mi"
    limits.cpu: "3"
    limits.memory: "1Gi"
---
apiVersion: v1
kind: ResourceQuota
metadata:
  name: b
  namespace: to-import
spec:
  hard:
    requests.cpu: "2"
    requests.memory: "300Mi"
    limits.cpu: "2"
    limits.memory: "2Gi"
```

После импорта пространства имен `to-import` будет создан следующий ResourceQuota `default` в этом пространстве имен:

```yaml
apiVersion: v1
kind: ResourceQuota
metadata:
  name: default
  namespace: to-import
spec:
  hard:
    requests.cpu: "1"
    requests.memory: "300Mi"
    limits.cpu: "2"
    limits.memory: "1Gi"
```

Для каждого ResourceQuota квоты ресурсов — это минимальное значение между `a` и `b`.

Когда в пространстве имен существует несколько ResourceQuotas, Kubernetes независимо проверяет каждую ResourceQuota. Поэтому после импорта пространства имен рекомендуется удалить все ResourceQuotas, кроме `default`. Это помогает избежать осложнений в расчетах квот из-за множества ResourceQuotas, что может легко привести к ошибкам.

## Почему не должно существовать множество LimitRanges в пространстве имен при его импорте?

При импорте пространства имен, если оно содержит несколько ресурсов LimitRange, платформа не может объединить их в один LimitRange. Поскольку Kubernetes независимо проверяет каждый LimitRange, когда их несколько, поведение того, какие значения по умолчанию выбирает Kubernetes, непредсказуемо.

Если пространство имен содержит только один LimitRange, платформа создаст LimitRange с именем `default` с заданными значениями из этого LimitRange.

Поэтому перед импортом пространства имен в нем должен существовать только один LimitRange. А после импорта пространства имен рекомендуется удалить LimitRanges, кроме одного с именем `default`, чтобы избежать непредсказуемого поведения, вызванного наличием нескольких LimitRanges.
