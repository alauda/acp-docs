---
weight: 40
i18n:
  title:
    en: How to Obtain Argo CD Access Information
    zh: 如何获取 Argo CD 访问信息
title: Как получить информацию для доступа к Argo CD
sourceSHA: 517f44fcde456c62147eefb9c7847618bf40d643a5adccfe28b9fa4676aad959
---

# Как получить информацию для доступа к Argo CD

> В этой статье описывается, как получить информацию для доступа к Argo CD, включая как плагин Argo CD для кластера ACP GitOps, установленный на веб-консоли, так и тот, который установлен через оператор Argo CD.

## Сценарии использования

- Получив информацию для доступа к Argo CD, вы сможете управлять всеми ресурсами Argo CD через панель управления Argo CD.

## Как получить информацию для доступа к Argo CD для плагина кластера GitOps, установленного на веб-консоли?

### Предварительные условия

- [Установка ACP GitOps](../install_gitops/install_gitops_plugin.mdx)
- (опционально) Установлен плагин CLI и включен переключатель `web-cli`
- У вас есть права администратора

### Процедура

:::info
Рекомендуется включить следующие параметры при установке плагина кластера ACP GitOps:

- Включить переключатель **Native Argo CD UI**.
- Включить переключатель **Single Sign-On**.
  :::

> Выполните следующие шаги для использования функций:

1. Войдите в систему и перейдите на страницу **Управление платформой**.

2. Нажмите на **Marketplace**, чтобы открыть страницу списка **Плагинов кластера**.

3. Найдите плагин **GitOps**, щелкните по нему, и появится всплывающее окно с деталями **GitOps Cluster Plugin**.

Если он не включен: вернитесь на страницу списка плагинов кластера, найдите плагин GitOps, нажмите кнопку действий, выберите Обновить и включите переключатель Argo CD Native UI.  
Если он включен: просто нажмите адрес доступа, чтобы открыть панель инструментов Argo CD.

4. Argo CD Native UI  
   - Если не включен: перейдите на страницу списка **Плагинов кластера**, найдите плагин **GitOps**, нажмите кнопку **Обновить** и включите переключатель **Argo CD Native UI**.  
   - Если включен: просто нажмите на **Access Address**, чтобы открыть панель инструментов Argo CD.

5. **Single Sign-On**  
   - Если включен: войдите в панель инструментов Argo CD, используя учетную запись платформы.  
   - Если не включен: по умолчанию используется учетная запись `admin`, и вам нужно получить пароль, выполнив следующую команду в **Kubectl** [Получение пароля Argo CD](#argocd-password-cli).

## Как получить информацию для доступа к Argo CD через оператор Argo CD?

### Предварительные условия

- [Установка Argo CD](../install_gitops/install_argocd_opeator.mdx)
- (опционально) Установлен плагин CLI и включен переключатель `web-cli`
- У вас есть права администратора

### Процедура

#### Получить URL адрес панели инструментов Argo CD

1. Войдите в систему и перейдите на страницу **Управление платформой**.

2. Выберите **Управление кластерами**, чтобы войти на страницу **Управление ресурсами**.

3. В **Группе ресурсов** найдите `Service`, выберите пространство имен ***argocd*** (пространство имен, в котором создан экземпляр argocd). Пространство имен по умолчанию для Argo CD, установленного на веб-консоли, — ***argocd***.

4. В правом списке **Ресурсов** найдите `argocd-gitops-server`, нажмите кнопку ***Actions*** и выберите **Обновить**, чтобы открыть детали YAML argocd-gitops-server, детали показаны на изображении ниже.

![Информация о NodePort услуги](../../../en/gitops/assets/argo_cd_service_nodeport.png "Информация о NodePort услуги")

5. Измените `type` на `NodePort` и зафиксируйте значение `nodePort`, затем нажмите кнопку **Обновить**.

6. В левой боковой панеле выберите **Управление кластерами**, чтобы перейти на страницу **Список кластеров**.

7. Выберите кластер, в котором установлен `argocd operator`, перейдите на страницу **Детали кластера** и выберите **Узлы**.

8. Получите IP-адрес ***любого управляющего узла***.

9. Получите доступ к панели инструментов Argo CD по адресу `http://{IP управляющего узла}:{nodePort}`.

#### Получить пароль Argo CD

Выполните следующую команду в **Kubectl**, чтобы получить пароль:

```bash
kubectl get secret -n argocd argocd-gitops-cluster -o template --template='{{index .data "admin.password"}}'|base64 -d
```

### Обновить пароль учетной записи администратора Argo CD<a id="argocd-update-password-cli" />

Пароль учетной записи по умолчанию `admin`, автоматически созданный при установке Argo CD через **ACP GitOps** или оператор **Argo CD**, нельзя изменить через интерфейс панели Argo CD. Вы можете изменить его, выполнив следующую команду в инструменте CLI. Здесь `newpassword` — это новый пароль, который вы хотите установить.

```bash
kubectl patch -n argocd secrets argocd-gitops-cluster -p '{"stringData":{"admin.password":"<newpassword>"}}'
```
