---
weight: 30
i18n:
  title:
    en: ApplicationSet
    zh: ApplicationSet 概念
    ru: ApplicationSet
title: ApplicationSet
sourceSHA: ba5f748446e0ea2ff1247fbeaab7f5482e0ae56ed8991c0d437ac2b466c4eb17
---

# ApplicationSet

## Введение

Контроллер ApplicationSet является контроллером Kubernetes, который добавляет поддержку для пользовательского определения ресурсов ApplicationSet (CRD). Этот контроллер/CRD позволяет автоматизировать и предоставляет большую гибкость в управлении приложениями Argo CD в большом количестве кластеров и в рамках монорепозиториев, а также делает возможным использование самообслуживания на многопользовательских кластерах Kubernetes.

## Сценарии использования ApplicationSet

- Развертывание нескольких схожих приложений: когда вам нужно развернуть несколько приложений с похожими конфигурациями, вы можете использовать ApplicationSet для снижения дублирования конфигураций. Например, вы можете использовать ApplicationSet для развертывания нескольких микросервисов, которые используют один и тот же шаблон, но имеют разные имена сервисов и номера портов.
- Развертывание в нескольких кластерах: когда вам нужно развернуть одно и то же приложение в нескольких кластерах Kubernetes, вы можете использовать ApplicationSet для упрощения конфигурации. Например, вы можете определить приложение с помощью ApplicationSet и развернуть его в нескольких кластерах, каждый из которых использует разные параметры.
- Динамическое создание приложений: когда вам нужно динамически создавать приложения на основе определенных условий, можно использовать ApplicationSet. Например, вы можете динамически генерировать разные экземпляры приложений на основе веток или тегов в репозитории Git.

## Пример ApplicationSet

```yaml
apiVersion: argoproj.io/v1alpha1
kind: ApplicationSet
metadata:
  name: guestbook
spec:
  goTemplate: true
  goTemplateOptions: ["missingkey=error"]
  generators:
  - list:
      elements:
      - cluster: engineering-dev
        url: https://1.2.3.4
      - cluster: engineering-prod
        url: https://2.4.6.8
      - cluster: finance-preprod
        url: https://9.8.7.6
  template:
    metadata:
      name: '{{.cluster}}-guestbook'
    spec:
      project: my-project
      source:
        repoURL: https://github.com/infra-team/cluster-deployments.git
        targetRevision: HEAD
        path: guestbook/{{.cluster}}
      destination:
        server: '{{.url}}'
        namespace: guestbook
```

## Ссылки

- [Документация Argo CD ApplicationSet](https://argo-cd.readthedocs.io/en/stable/operator-manual/applicationset/)
