---
weight: 30
i18n:
  title:
    en: ApplicationSet
    zh: ApplicationSet 概念
title: ApplicationSet
sourceSHA: 2d80e348e7f776d8efac82548cb25e2a8969a8be174b822e6c9c06229d3444fe
---

# ApplicationSet

## Введение

Контроллер ApplicationSet — это контроллер Kubernetes, который добавляет поддержку CustomResourceDefinition (CRD) ApplicationSet. Этот контроллер/CRD позволяет как автоматизацию, так и большую гибкость в управлении приложениями Argo CD на большом количестве кластеров и внутри монорепозиториев, а также обеспечивает возможность самообслуживания в многоарендных кластерах Kubernetes.

## Сценарии использования ApplicationSet

- Развертывание нескольких схожих приложений: Когда вам нужно развернуть несколько приложений с аналогичными конфигурациями, вы можете использовать ApplicationSet для уменьшения избыточных конфигураций. Например, вы можете использовать ApplicationSet для развертывания нескольких микросервисов, которые используют один и тот же шаблон, но имеют разные имена сервисов и номера портов.
- Много кластерные развертывания: Когда вам нужно развернуть одно и то же приложение на нескольких кластерах Kubernetes, вы можете использовать ApplicationSet для упрощения конфигурации. Например, вы можете определить приложение с помощью ApplicationSet и развернуть его на нескольких кластерах, каждый из которых использует разные параметры.
- Динамическое генерирование приложений: Когда вам нужно динамически генерировать приложения на основе определенных условий, ApplicationSet может быть использован. Например, вы можете динамически генерировать различные экземпляры приложений на основе веток или тегов в репозитории Git.

## Пример ApplicationSet

```yaml
apiVersion: argoproj.io/v1alpha1
kind: ApplicationSet
metadata:
  name: guestbook
spec:
  goTemplate: true
  goTemplateOptions: ["missingkey=error"]
  generators:
  - list:
      elements:
      - cluster: engineering-dev
        url: https://1.2.3.4
      - cluster: engineering-prod
        url: https://2.4.6.8
      - cluster: finance-preprod
        url: https://9.8.7.6
  template:
    metadata:
      name: '{{.cluster}}-guestbook'
    spec:
      project: my-project
      source:
        repoURL: https://github.com/infra-team/cluster-deployments.git
        targetRevision: HEAD
        path: guestbook/{{.cluster}}
      destination:
        server: '{{.url}}'
        namespace: guestbook
```

## Ссылки

- [Документация Argo CD ApplicationSet](https://argo-cd.readthedocs.io/en/stable/operator-manual/applicationset/)
