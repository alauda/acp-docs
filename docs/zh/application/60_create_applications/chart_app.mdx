---
weight: 40
---

# 通过 Helm Chart 创建原生应用


基于应用模板（Helm Chart）部署原生应用。应用模板为一个描述 Kubernetes 相关资源的文件集合，通常用于封装应用程序并满足诸如从研发环境迁移到生产环境等需要应用分发、版本管理的诉求。

## 注意事项

如果集群中同时存在 Linux 和 Windows 两类节点，为避免应用被调度到不适配的节点上，需设置主机选择。例如：

```
spec:
    spec:
      nodeSelector:
        kubernetes.io/os: linux
```

## 使用限制

* 如果模板中引用了跨命名空间的资源，请联系管理员在平台管理协助部署。随后您可正常在平台中更新或删除 [模板应用](../90_application_operation/chart_upgrade.mdx)。

* 如果模板中引用了集群级别资源（例如存储类），建议联系管理员在平台管理协助部署。

## 前提条件

如果模板源于原生应用，且原生应用中引用了相关资源（例如保密字典），部署应用前需确保当前命名空间下已存在待引用的资源。



## 操作步骤


1. 在左侧导航栏中，单击 **应用管理** > **原生应用**。

3. 单击 **创建原生应用**。

2. 选择 **模板部署** 方式。

1. 在左侧导航栏中，单击 **Helm chart**。


2. 单击 Chart 卡片上的 **部署**。

4. 填写相关参数，例如 `resources.requests`、`resources.limits` ，以及与业务强相关的参数。


6. 单击 **部署**。平台将跳转至 **应用管理** > **[原生应用]页面。

    部署需要消耗一定的时间，请耐心等待。若操作失败，请根据界面提示信息完成操作。
    
## 状态分析说明

单击 ***原生应用名称***，在详情信息中可展示 Chart 的详细部署状态分析。

|类型| 原因                                                         |
| --------------------- | ------------------------------------------------------------ |
|**Initialized**| 表示 Chart 模板下载的状态。<ul><li>状态为 True 时表示 Chart 模板下载成功。</li><li>状态为 False 时表示 Chart 模板下载失败，消息列可查看具体的失败原因。</li><ul><li>ChartLoadFailed：Chart 模板下载失败。</li><li>InitializeFailed：还未下载 Chart 之前的初始化行为存在异常。 </li></ul></ul> |
|**Validated**| 表示 Chart 模板用户权限、依赖等验证的状态。<ul><li>状态为 True 时表示所有验证检查均已通过。</li><li>状态为 False 时表示存在验证检查未通过，消息列可查看具体的失败原因。</li><ul><li>DependenciesCheckFailed：Chart 依赖检查失败。</li><li>PermissionCheckFailed：当前用户缺少对某些资源的操作权限。</li><li>ConsistentNamespaceCheckFailed：在原生应用中通过模板部署应用时，Chart 中携带了需跨命名空间部署的资源。</li></ul></ul> |
|**Synced**| 表示 Chart 模板部署的状态。<ul><li>状态为 True 时表示 Chart 模板部署成功。</li><li>状态为 False 时表示 Chart 模板部署失败，原因列显示为 ChartSyncFailed，消息列可查看具体的失败原因。 </li></ul>  |
    
## 相关操作

如果需要开发当前应用以便将下一次分发到其他环境，可将应用脱离模板使用：进入应用详细信息页，单击 **操作** > **脱离模板**。

脱离模板前，对底层资源（例如计算组件、内部路由等）的直接操作只能临时生效，且不会记录到模板中。一旦更新应用，模板中配置将覆盖临时配置。而脱离模板的应用与通过平台 [UI 表单创建](./image_app.mdx) 的应用无异，不受上述限制。

