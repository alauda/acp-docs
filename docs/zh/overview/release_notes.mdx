---
weight: 20
title: 发布说明
sourceSHA: 29fea5576f07bd67160a073cee645849da19c1d70ef44b72aac8978a126c00ef
---

# 发布说明

## 4.0.1

### 修复的问题

{/* release-notes-for-bugs?template=acp_fixed_4.0.1 */}

### 已知问题

{/* release-notes-for-bugs?template=acp_known_issues_4.0.1 */}

## 4.0.0

### 功能和增强

#### 安装和升级：模块化架构

我们完全重新设计了平台的架构，以提供前所未有的灵活性、更快的更新和减少的运营开销。

**简化的安装**
我们的平台现在通过一个精简的核心包进行部署，仅包含必要的组件。一旦基础设施就位，客户可以根据需要选择具体的 Operator 或集群插件——无论是 DevOps、服务网格还是其他专业功能——并单独下载、上传和安装它们。

**有针对性的补丁**

- 补丁发布仅包括实际需要修复的组件。
- 没有修复的组件保持不变，确保平台的其他部分不受影响。
- 客户通过平台内置的标准化升级机制应用补丁，而不是手动更新单个组件，从而使维护和跟踪变得更加简单。

**智能升级**

- 在升级过程中，仅替换和重启具有新代码的组件。
- 未修改的组件保持其现有版本和正常运行时间。
- 这最小化了停机时间，缩短了维护窗口，从而提供更顺畅的升级体验。

**独立组件版本控制**

- 大多数 Operator 遵循独立于核心平台的发布计划。
- 新功能和修复一经准备就会上线，无需等待全平台更新。
- 这种方法加快了交付速度，让客户更快受益于改进。

#### 集群：使用集群 API 的声明式集群生命周期管理

自建集群现在利用 Kubernetes 集群 API 进行完全声明式操作，包括：

- 集群创建
- 节点扩展和加入

这种无缝的集群 API 集成直接融入您的基础设施即代码（IaC）管道，实现对集群生命周期的端到端编程控制。

#### Operator 和扩展：全面的能力可视化

**完整的 Operator 目录**

OperatorHub 现在显示所有受支持的 Operator，无论其包是否已上传到平台。此增强：

- 即使在隔离环境中也提供对平台能力的全面可视化
- 消除可用性与用户已知信息之间的信息差距
- 减少探索平台能力时的发现摩擦

**版本灵活性**

用户现在可以在安装过程中选择特定的 Operator 版本，而不再仅限于最新版本，从而提供更大的组件兼容性和升级路径控制。

**Web 控制台扩展**

Operator 现在支持基于锚点的 Web 控制台扩展，允许将功能特定的前端图像包含在 Operator 中，并无缝集成到平台的 Web 控制台中。

**集群插件增强**

所有对 Operator 可见性、版本选择和 Web 控制台扩展能力的改进同样适用于集群插件，确保所有平台扩展的一致用户体验。

#### 日志查询逻辑优化

日志查询页面已优化，以解决用户在使用日志查询功能时遇到的体验和性能问题：

- 原有的单选框已被高级搜索组件替代。现在您可以像使用 GIT 搜索一样使用日志搜索。
- 日志内容的独立查询条件
- 时间查询条件的位置已调整。现在您在调整时间范围时不会重置日志过滤条件。
- 优化了日志查询 API，以提高整体查询性能。

#### ElasticSearch 升级到 8.17

我们将 ElasticSearch 的版本升级到 8.17，以跟进社区的功能和改进。

#### ALB 认证

ALB 现在支持多种认证机制，允许用户在 Ingress 层处理认证，而不是在每个后端应用中实现。

#### ALB 支持 ingress-nginx 注解

此版本增加了对 ALB 中常见 ingress-nginx 注解的支持，包括保持活动设置、超时配置和 HTTP 重定向，增强了与社区 ingress-nginx 的兼容性。

#### Kubevirt 实时迁移优化

在实时迁移过程中，网络中断时间减少到 0.5 秒以下，现有的 TCP 连接不会断开。
此优化显著提高了生产环境中虚拟机迁移的稳定性和可靠性。

#### LDAP/OIDC 集成优化

LDAP/OIDC 集成表单字段已调整，主要包括删除不必要/重复的字段和优化字段描述。
LDAP/OIDC 集成现在支持通过 YAML 配置，允许在 YAML 文件中进行用户属性映射。

#### 源到镜像（S2I）支持

- 添加了 **Alauda Container Platform Builds** operator，用于从源代码自动构建镜像
- 支持 Java/Go/Node.js/Python 语言栈
- 通过源代码库简化应用程序部署

#### 自建注册中心解决方案

- **ACP Registry** 提供轻量级 Docker 注册中心，具备企业级功能
- 提供开箱即用的镜像管理能力
- 简化应用程序交付

#### GitOps 模块重构

- 将 **ACP GitOps** 解耦为独立的集群插件架构
- 升级 Argo CD 至 v2.14.x 版本
- 增强基于 GitOps 的应用程序生命周期管理

#### 命名空间级监控

- 引入命名空间级动态监控仪表板
- 提供应用程序/工作负载/Pod 指标可视化

#### Crossplane 集成

- 发布 **Alauda Build of Crossplane** 发行版
- 通过 XRD 组合实现以应用为中心的配置

#### 虚拟化更新

- 升级至 KubeVirt 1.4，以增强虚拟化能力
- 优化镜像处理以加快 VM 配置速度
- 优化 VM 实时迁移，现在可以直接从 UI 启动，并可见迁移状态
- 改进绑定网络，支持双栈（IPv4/IPv6）
- 增加 vTPM 支持，以增强 VM 安全性

#### Ceph 存储更新

- Metro-DR 与伸缩集群实现可用区之间的实时数据同步
- 基于池的区域 DR 增强数据保护

#### TopoLVM 更新

- 增加对多路径设备部署的支持，提高灵活性和稳定性

### 修复的问题

{/* release-notes-for-bugs?template=acp_fixed */}

{/* release-notes-for-bugs?template=gpu_fixed */}

### 已知问题

{/* release-notes-for-bugs?template=acp_unfixed */}

{/* release-notes-for-bugs?template=gpu_unfixed */}

{/* release-notes-for-bugs?template=aiops_unfixed */}
