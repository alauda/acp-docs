---
weight: 40
---

# ALB 监控


## 名词解释

|名词|说明|
|---|---|
|ALB|平台自研的七层负载均衡器。|


## 操作步骤

1. 进入 **平台管理**。

1. 在左侧导航栏中，单击 **运维中心** > **监控** > **监控面板**。

2. 单击页面顶端的 **集群**，切换至需要监控的集群。
    
2. 单击页面右上角 **切换**。

4. 可通过下述两种方式进入 **ALB Status** 监控面板。

    * 方式一：单击 **container-platform** 卡片展开监控目录，单击 **ALB Status** 名称进入监控面板，可按需将此监控面板设置为主面板。

    * 方式二：在搜索框中输入并搜索关键字（例如：alb 等），单击 **ALB Status** 名称进入监控面板，可按需将此监控面板设置为主面板。
    
5. 通过面板查看各项监控指标。

    * **选择需要监控的命名空间**：单击页面上方的 **namespace** 可以选择监控的命名空间，默认为全部，即监控所有命名空间。
    
    * **选择需要监控的 ALB**：单击页面上方的 **name** 可以选择需要监控的 ALB，默认为全部，即监控所有 ALB。
 


## 监控指标

展示 **最近 5 分钟** 内，所选择 ALB 上的总流量、资源使用情况、Ingress（入站规则）、HTTPRoute（HTTPRoute 类型的路由规则） 及 Rule（非 Ingress 和 HTTPRoute 的规则）的各项监控指标。

**注意**：所有数据均为 **最近 5 分钟** 内采集的监控数据。


### ALB 流量监控

|监控指标|描述|
|---|---|
|**Active Connections**|所选择 ALB 上的活跃连接数。|
|**Requests Per Second**|所选择 ALB 上每秒接收到的总请求量。|
|**Error Rate**|所选择 ALB 上每秒出现 4XX（例如 404） 和 5XX 错误请求的比例。|
|**Latency**|所选择 ALB 上请求的平均延迟。|

### ALB 资源使用情况

|监控指标|描述|
|---|---|
|**CPU Usage**|所选择 ALB 的 CPU 使用量。|
|**Memory Usage**|所选择 ALB 的内存使用量。|
|**Network Receive/Transmit**|所选择 ALB 的网络 IO 吞吐。|
|**Disk Read/Write Rate**|所选择 ALB 的磁盘 IO 吞吐。|

### Ingress、HTTPRoute、Rule 流量监控

|监控指标|描述|
|---|---|
|**QPS（Queries Per Second，每秒查询次数）**|所选择 ALB 上 Ingress/HTTPRoute/Rule 每秒钟接收到请求的数量，默认单位为 req/s。|
|**Request BPS（Bytes Per Second，每秒请求字节数）**|所选择 ALB 上 Ingress/HTTPRoute/Rule 每秒钟接收到的请求的总大小。|
|**Response BPS（Bytes Per Second，每秒响应字节数）**|所选择 ALB 上 Ingress/HTTPRoute/Rule 发送的响应的总大小。|
|**Error Rate**|所选择 ALB 上 Ingress/HTTPRoute/Rule 处理请求时发生错误的百分比。|
|**P50、P90、P99**|所选择 ALB 上请求的响应时间，即响应时间的中位数。表示在所有接收到的请求中，有 50%、90%、99% 的请求其响应时间小于等于该值。<br/><br/><b>说明</b>：P50、P90、P99 的原理就是将收集到的数据按照由小到大排序，取 50%、90%、99% 位置的数据值，所有收集的数据中有 50%、90%、99% 的数据小于该值，分位数有助于统计数据的分布情况，并排查出各种极端情况。|
|**Upstream P50、Upstream P90、Upstream P99**|上游服务的请求响应时间。表示发送到上游服务的所有请求中，有 50%、90%、99% 的请求响应时间小于等于该值。|

