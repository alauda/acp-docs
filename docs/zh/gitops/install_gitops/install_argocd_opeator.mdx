---
weight: 20
---

# 安装 Argo CD Operator

## 前提条件
1. 下载与平台匹配的 Argo CD Operator 安装包。
2. 通过平台应用上架能力，上架 Argo CD Operator 至 ***任意希望使用 GitOps 能力的集群***。

## 操作步骤

### 步骤一：部署 Argo CD Operator
1. 登录平台，进入 **平台管理** 页面。
2. 左侧导航栏选择 **应用商店管理** -> **Operator**， 进入 **Operator Hub** 页面。
3. 找到 **Argo CD Operator**，点击 **部署**， 进入 **部署 Argo CD Operator** 页面。

 配置参数:
    |**参数**| **推荐配置** |
    |:--------|:------------|
    | **升级策略** | **自动**：Operator Hub 有新版本时，会自动升级至 Operator 至最新版本。|
    | **部署模式** | **集群**：集群下所有命名空间共用一个 Operator 对实例进行创建和管理，资源占用更低。|
    | **频道**    | 默认 Channel 为 **alpha** 。|
    | **命名空间** | 选择 **推荐命名空间**：无则自动创建。|

4. 在 **部署 Operator** 页面，选择 **默认配置**， 点击 **部署**，完成 Argo CD Operator 部署。

### 步骤二：部署 Argo CD 实例

1. 在左侧导航栏中，单击 **应用商店管理** > **Operators**。

2. 在 **已部署 Operators** 页签中，单击 **argocd-operator**。

3. 在详情信息栏下，单击资源栏中 **ArgoCD** 实例卡片中的 **创建实例**。

4. 在配置实例参数页面，若无特殊要求使用默认配置即可。

    **注意**：若 global 集群非高可用，例如仅有一个控制节点，请在创建实例时切换至 YAML 视图，修改 ha.enabled 字段值为 false。

5. 单击 **创建**。

### 步骤三：部署 AppProject 实例

**提示**：若您不需要使用平台管理的 **集群配置管理** 功能，无需进行以下操作步骤。

1. 单击创建 AppProject 实例，切换至 YAML 视图，并将以下代码覆盖界面上原有 YAML 内容。

    ```
    apiVersion: argoproj.io/v1alpha1
    kind: AppProject
    metadata:
      name: cpaas-system
      namespace: argocd
    spec:
      clusterResourceWhitelist:
      - group: '*'
        kind: '*'
      destinations:
      - namespace: '*'
        server: '*'
      sourceRepos:
      - '*'
    ```

2. 单击 **创建**。

完成如上步骤后，您已成功完成 Argo CD 的部署，立即[通过 Argo CD Dashboard 创建 Application](../how_to/create_application_by_argocd_dashoard.mdx) 开始您的 GitOps 之旅吧。
