---
weight: 30
---

# 部署 GitOps 集群插件

## 前提条件
1. 下载与平台匹配的 Alauda GitOps 集群插件安装包。
2. 通过平台应用上架能力，上架 GitOps 集群插件 至 `global` 集群。

:::info
集群插件包上架流程：进入**平台管理 -> 应用商店管理 -> 应用上架** 页面，右侧点击 **帮助文档** 获取如何将集群插件上架 ‘global` 到集群。详细信息请参考 [应用上架](https://docs.alauda.cn/docs/platform/gitops/gitops-plugin-install/gitops-plugin-install-guide.html)。
:::

## 部署 GitOps 插件

### 约束与限制
- 仅支持部署在 global 集群中。
- 部署 GitOps 插件后，argocd-operator 中的 ArgoCD 实例将禁止操作。

### 操作步骤

1. 登录平台，进入 **平台管理** 页面。
2. 左侧导航栏选择 **应用商店管理** -> **集群插件**， 进入 **集群插件** 列表页面。
3. 找到 **GitOps** 插件，点击 **部署**， 进入 **部署 GitOps 插件** 页面。
4. 建议使用推荐的默认配置，直接点击 **部署**，完成 GitOps 插件的部署。
4. 在 **安装集群插件** 页面，选择 **默认配置**， 点击 **部署**。

参数说明如下：

|**参数**|**说明**|
|:---|:---|
|**Argo CD 原生 UI**|按需选择是否访问 Argo CD 提供的原生 Web UI 界面。该界面拥有监控、仓库管理、角色控制等功能，可以用来管理和监控部署的应用。|
|**单点登录**| **单点登录（Single Sign-On，SSO）** 是一种身份验证和授权机制，允许用户使用一组凭据（例如用户名、密码）进行一次登录，即可获得对多个系统或应用程序的访问权限，不需要重新进行多次身份验证。<br/> 推荐 **开启** 开启单点登录后，可以直接使用 平台账号信息 快速访问 Argo CD 原生 UI 界面，在提升登录体验的同时，也提高了安全性和便利性。<br/> **注意**：使用单点登录功能需开启 Argo CD 原生 UI 功能。<ul><li> 仅支持使用 HTTPS 协议 访问平台；若使用 HTTP 协议 访问平台，那么即使开启单点登录，此功能也不会生效。</li><li> 开启单点登录功能并使用访问地址打开 Argo CD 登录界面后，单击界面中的 **LOG IN VIA OIDC** 按钮即可实现一键登录 Argo CD 原生 UI。</li></ul>|
|**访问地址**|推荐：访问 Argo CD 原生 UI 界面的地址，此地址基于平台地址动态生成，无需手动填写。|
|**账号**|登录并访问 Argo CD 原生 UI 界面的账号。|
|**密码**|开启 访问 Argo CD 原生 UI 功能后，可在 global 集群的 CLI 工具中执行下述命令获取。<br/>[获取 Argo CD admin 账户密码](../how_to/argocd_info.mdx#argocd-password-cli)|
|**资源配额**|平台的最低要求与建议如下：<ul><li> **最低**：CPU 的请求值不能小于 100 m，内存的请求值不能小于 250 Mi，且请求值不能大于限制值。</li><li> **推荐**：CPU 的请求值不小于 250 m，内存的请求值不小于 500 Mi；CPU 的限制值不小于 2 核，内存的限制值不小于 2 Gi。</li></ul>|

### 部署验证
1. 访问 **平台管理** 页面，集群管理左导航下会展示 **集群配置管理** 入口，可使用 **集群配置管理** 能力。
2. 访问 **Contianer Platform**，左导航会展示 **GitOps 应用** 入口，可 **创建 GitOps 应用**，立即体验 [创建一个 SpintBoot Argo CD Application](../how_to/deploy_gitops_app.mdx)。

