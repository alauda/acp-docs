---
weight: 30
sourceSHA: 9d926c1a1ac85234acf019641287a4bac663427b11589b7937ec038b0ff07bab
---

# 收集自定义命名网络接口的网络数据

## 功能概述

该平台支持通过修改监控组件的配置，收集自定义命名网络接口的网络数据，使您能够在监控页面上查看这些接口的网络流量信息。

## 使用案例

当您的业务节点使用自定义命名网络接口（不遵循 `eth.|en.|wl.*|ww.*` 命名规范）并需要在平台上监控这些接口的网络流量数据时，此功能适用。

## 前提条件

- 已创建工作负载集群
- 您具有平台管理员权限
- 已知自定义网络接口的命名规范

## 操作步骤

1. 点击平台顶部导航栏中的 CLI 工具图标。

2. 点击 **global**。

3. 在 `global` 集群中，找到与您的工作负载集群对应的 moduleinfo 资源名称：

   ```bash
   kubectl get moduleinfo | grep -E 'prometheus|victoriametrics'
   ```

   示例输出：

   ```
   global-6448ef7f7e5e3924c1629fad826372e7     global     prometheus          prometheus                          Running   v3.15.0-zz231204040711-9d1fc12474c2   v3.15.0-zz231204040711-9d1fc12474c2   v3.15.0-zz231204040711-9d1fc12474c2
   ovn-0954f21f0359720e8c115804376b3e7e        ovn        prometheus          prometheus                          Running   v3.15.0-zz231204040711-9d1fc12474c2   v3.15.0-zz231204040711-9d1fc12474c2   v3.15.0-zz231204040711-9d1fc12474c2
   ```

4. 编辑工作负载集群的 moduleinfo 资源：

   ```bash
   kubectl edit moduleinfo <工作负载集群的 moduleinfo 资源名称>
   ```

5. 添加或修改 valuesOverride 字段：

   ```yaml
   spec:
     valuesOverride:# 如果该字段不存在，您需要在 spec 下添加 valuesOverride 字段，并包含以下参数
       ait/chart-cpaas-monitor:
         global: 
           indicator:
             networkDevice: eth.*|em.*|en.*|wl.*|ww.*|[A-Z].*i|custom_interface # 将 custom_interface 替换为自定义正则表达式，以确保正确匹配网络接口名称
   ```

6. 等待 10 分钟后，检查节点监控页面上的网络相关图表以确保更改已生效。

## 操作结果

一旦配置生效，您可以在平台的监控页面查看自定义命名网络接口的以下数据：

- 网络流量数据
- 网络吞吐量
- 网络数据包统计

## 了解更多信息

- 有关网络监控的更多信息，请参阅 [监控架构文档](../architecture/index.mdx)

## 后续行动

- 监控自定义网络接口的性能指标
- 基于监控数据设置报警规则
