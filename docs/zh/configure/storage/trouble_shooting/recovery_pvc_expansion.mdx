---
sourceSHA: 30540f3e9ef256ffb4675b45e709f8967a89884864eee6b0617c612ede36755d
---

# 恢复 PVC 扩展失败

当 Kubernetes 中 PVC 扩展失败时，管理员可以手动恢复持久卷声明（PVC）状态并取消扩展请求。

### 操作步骤

1. 将绑定到 PVC 的持久卷（PV）的回收策略修改为 `Retain`。为此，请编辑相应的 PV，将 `persistentVolumeReclaimPolicy` 字段设置为 `Retain`。

2. 删除原始 PVC。

3. 手动编辑 PV，从其规格中移除 `claimRef` 条目。这确保新 PVC 可以绑定到该 PV，并将 PV 的状态更改为 `Available`。

4. 重新创建一个较小或由底层存储提供者支持的大小的新 PVC。

5. 明确指定新 PVC 中的 `volumeName` 字段，以匹配原始 PV 名称。这确保新 PVC 准确绑定到指定的 PV。

6. 最后，恢复 PV 的原始回收政策。

### 附加提示

- 确保所使用的 `StorageClass` 已通过将 `allowVolumeExpansion` 设置为 `true` 启用卷扩展。
- 小心执行这些操作，以避免数据丢失的风险。
