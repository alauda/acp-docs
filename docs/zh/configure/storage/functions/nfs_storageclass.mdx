---
weight: 20
sourceSHA: 95caa37a4beb3a1bef7c93d97f5f290ac6ca4bcd135895d255b52868d3317106
---

# 创建 NFS 共享存储类

基于社区 NFS CSI（Container Storage Interface）存储驱动，提供接入多个 NFS 存储系统或账户的能力。

与传统的 NFS 客户端-服务器模型不同，NFS 共享存储使用社区 NFS CSI（Container Storage Interface）存储插件，更加符合 Kubernetes 的设计原则，允许客户端访问多个服务器。

## 前提条件

- 必须配置 NFS 服务器，并获取其访问方式。目前平台支持三种 NFS 协议版本：`v3`、`v4.0` 和 `v4.1`。您可以在服务器端执行 `nfsstat -s` 来检查版本信息。

## 部署 NFS 共享存储插件

1. 进入 **平台管理**。

2. 在左侧导航栏中，单击 **存储管理** > **存储类**。

3. 单击 **创建存储类**。

4. 在 **NFS 共享存储** 右侧单击部署，以跳转至 **插件** 页面。

5. 在 **NFS** 插件右侧单击 ⋮ > **部署**。

6. 等待部署状态指示为 **部署成功** 后完成部署。

## 创建 NFS 共享存储类

1. 单击 **创建存储类**。

   **说明**：以下内容以表单形式呈现，但您也可以选择使用 YAML 完成操作。

2. 选择 **NFS 共享存储**，单击 **下一步**。

3. 参考以下说明配置相关参数。

   | 参数                     | 说明                                                                                                                                                                                                                                                                                                                                                                                                           |
   | ----------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
   | **名称**                | 存储类的名称。必须在当前集群中唯一。                                                                                                                                                                                                                                                                                                                                                                          |
   | **服务地址**            | NFS 服务器的访问地址。例如：`192.168.2.11`。                                                                                                                                                                                                                                                                                                                                                                   |
   | **路径**                | NFS 文件系统在服务器节点中的挂载路径。例如：`/nfs/data`。                                                                                                                                                                                                                                                                                                                                                    |
   | **NFS 协议版本**        | 当前支持三种版本：`v3`、`v4.0` 和 `v4.1`。                                                                                                                                                                                                                                                                                                                                                                    |
   | **回收策略**            | 持久卷的回收策略。<br />- 删除：当持久卷声明被删除时，绑定的持久卷也会被删除。<br />- 保留：即使持久卷声明被删除，绑定的持久卷仍将保留。                                                                                                                                        |
   | **访问模式**            | 当前存储支持的所有访问模式。在随后声明持久卷时，只能选择其中一种模式来挂载持久卷。<br />- 单节点读写 (RWO)：可以被单个节点以读写方式挂载。<br />- 多节点读写 (RWX)：可以被多个节点以读写方式挂载。<br />- 多节点只读 (ROX)：可以被多个节点以只读方式挂载。                                                            |
   | **分配项目**            | 请分配可以使用此类型存储的项目。<br />如果目前没有项目需要使用此类型存储，您可以暂时不分配任何项目，并在后续更新它们。                                                                                                                   |

4. 一旦确认配置信息正确，单击 **创建**。

## 相关操作

[设置 NFS Shared Storage Class 的子目录命名规则](../how_to/nfs_subdir.mdx)