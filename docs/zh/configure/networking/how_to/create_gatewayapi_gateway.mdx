---
weight: 20
---

# 创建 GatewayAPI Gateway

GatewayAPI 是 Kubernetes 的一个新 API，它提供了一种更灵活和可扩展的方式来管理入口流量。它允许您以更声明式的方式定义路由规则、流量策略和其他配置。
本文档提供了在 ACP Kubernetes 集群中创建 GatewayAPI Gateway 的分步指南。

# 前置要求

## 部署 MetalLB

GatewayAPI Gateway 需要使用 MetalLB 来分配 IP 地址。请参考 [创建 MetalLB](../functions/create_metallb.mdx) 来部署 MetalLB。

## 设置 Pod 安全策略，将目标命名空间的安全模式设置为 Privileged

如果您希望部署 Gateway 的命名空间是通过 UI 创建的，则需要将其 Pod 安全策略（PSP）更新为 Privileged 模式。  
![更新 PSP](../../../../en/configure/networking/assets/update_psp.png)

# 操作步骤

1. 进入 **平台管理**。
2. 在左侧导航栏中，点击 **网络管理** > **入口网关**。
3. 点击 **创建入口网关**。
4. 按照以下说明完成网络配置：
   | 参数                     | 描述                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
   | ----------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
   | **名称**              | Gateway 的名称 |
   | **GatewayClass**            | ACP 提供了内置的 `exclusive-gateway`，它由 ALB 支持。如果创建的是容器网络模式的 ALB，将实现 GatewayAPI Gateway 的规范。 |
   | **规格**   | 请根据业务需求合理设置规格。您也可以参考 [负载均衡器选择与规划](../how_to/decide_performance_selection.mdx) 进行设置。                                                                                                                                                                                                                                                                                                                                                                                                                                             |

5. 点击 **创建**。创建过程需要一些时间，请耐心等待。

![创建 Gateway](../../../../en/configure/networking/assets/create_gatewayapi_gateway.png)