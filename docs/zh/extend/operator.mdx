---
sourceSHA: 08103c01676b761ce5347f429e4d2edce000f35bfa1e387ffa898f53aae29526
weight: 10
---

# Operator

## 概述

Operator 是一种打包、部署和管理 Kubernetes 应用程序的方法，能够管理 Kubernetes 资源的整个生命周期。

## 介绍

Operator 是一种打包、部署和管理 Kubernetes 应用程序的方法，可以自动化整个应用程序生命周期（例如，创建、更新、删除）。平台管理员可以逐个集群地从 OperatorHub 部署 Operators。

## 关键概念

- **OperatorHub**：作为一种网页控制台接口，显示平台上可用 Operator 的列表。通过 OperatorHub，平台管理员可以查看 Operator 描述和详细信息，以及安装和管理 Operators。

- **资源**：属于 Operator 的 CRD（[自定义资源定义](https://kubernetes.io/docs/tasks/access-kubernetes-api/custom-resources/custom-resource-definitions/)）资源。在 Kubernetes API 中，CRD 资源是存储特定类型 API 对象（CR，自定义资源）集合的端点。

- **自定义资源（CR）**：由部署到集群的 CRD 创建的特定类型 API 对象，归 Operators 所有。在成功安装 Operator 后，所有与集群相关的项目中的用户都可以向他们的命名空间添加 CR。

- **资源实例**：通过基于 CR 调用 Kubernetes API 在命名空间中创建的资源实例。创建资源实例为命名空间提供了 Operator 功能。

## 安装过程

1. 在平台管理视图中，单击左侧导航菜单：**平台管理** > **市场** > **OperatorHub** 以查看平台提供的所有 Operators。

2. 找到所需的 Operator。如果 Operator 显示为“缺失”状态，您需要：
   - 访问自定义门户下载相应的 Operator 包。如果您无法访问自定义门户，请联系技术支持。
   - 使用 `violet` 工具将包发布到您希望安装 Operator 的集群。有关使用此工具的详细说明，请参阅 [CLI 文档](/ui/cli_tools/index.mdx)。
   - 导航到 **平台管理** > **市场** > **上传包**，切换到 **Operator** 选项卡，并找到上传的 Operator 名称。Operator 详细信息页面将显示已上传到平台的包的版本。

3. 如果 Operator 显示为“就绪”状态，单击 **安装** 以开始安装过程。有关安装后具体使用说明，请参阅该 Operator 的用户文档。

## 升级 Operators

要将现有的 Operator 升级到新版本：

1. 使用安装部分中描述的相同过程将新版本的 Operator 上传到平台。

2. 导航到 **平台管理** > **市场** > **上传包**，切换到 **Operator** 选项卡，检查相应 Operator 的包详细信息，以确认新版本已上传。

3. 升级行为取决于 Operator 订阅的升级策略：

   - **自动升级策略**：如果将升级策略设置为自动，则一旦上传新版本包，Operator 会自动升级。

   - **手动升级策略**：如果将升级策略设置为手动，您有两个选项：
     - **批量升级**：要在集群下升级多个 Operators，请导航至 **平台管理** > **集群** > **集群**。安装了可以升级的 Operators 的集群将显示升级图标。输入集群详细信息，切换到 **功能** 选项卡，单击激活的升级按钮以对多个 Operators 进行批量升级。
     - **单独升级**：要仅升级特定的 Operator，请查看该 Operator 的 OperatorHub 详细信息。您将看到一个等待审批的提示。批准后，Operator 将开始升级过程。

**注意**：标记为“灵雀云”的来源的 Operators 不能将订阅升级策略设置为自动。这些必须手动升级。

## 支持

如果您在安装或升级过程中遇到任何问题，请联系技术支持以获得帮助。
