---
weight: 10
i18n:
  title:
    en: Managing applications created from Code
    zh: 管理通过代码代码创建的应用
title: 管理通过代码代码创建的应用
sourceSHA: 7b2018cbd28db2c99fd35f2a5d656c5253e7a7dd854afa2310d6fa49cc311d00
---

# 管理通过代码创建的应用

## 主要功能

- 输入代码仓库 URL 以触发 S2I 过程，该过程将源代码转换为镜像并将其发布为应用。
- 当源代码更新时，通过可视化界面点击 **重新构建** 操作，以单击即更新应用版本。

## 优势

- 简化从代码创建和升级应用的过程。
- 降低开发者门槛，无需了解容器化的细节。
- 提供可视化构建过程和运维管理，便于问题定位、分析和排查。

## 前提条件

- 已完成 [安装 ACP Builds](../install_builds/install_builds_opeator.mdx)。
- 需要访问镜像仓库；如无法访问，请联系管理员以 [安装 ACP Registry](/developer/registry/install_registry.mdx)。

<a id="s2iparameter" />

## 操作步骤

1. 在 **容器平台** 中，导航到 **应用** > **应用**。

2. 单击 **创建**。

3. 选择 **通过代码创建**。

4. 参考下述参数说明完成配置。

   <table>
     <tr>
       <th>区域</th>
       <th>参数</th>
       <th>说明</th>
     </tr>

     <tr>
       <td rowSpan={8}><b>代码仓库</b></td>
       <td><b>类型</b></td>
       <td><ul><li><b>**平台集成**</b>：选择一个与平台集成且已分配给当前项目的代码仓库；平台支持 GitLab、GitHub 和 Bitbucket。</li><li><b>**输入**</b>：使用未与平台集成的代码仓库 URL。</li></ul></td>
     </tr>

     <tr>
       <td><b>集成项目名称</b></td>
       <td>管理员分配或与当前项目关联的集成工具项目的名称。</td>
     </tr>

     <tr>
       <td><b>仓库地址</b></td>
       <td>选择或输入存储源代码的代码仓库地址。</td>
     </tr>

     <tr>
       <td><b>版本标识</b></td>
       <td>支持基于代码仓库中的分支、标签或提交创建应用。其中：<ul><li>当版本标识为分支时，仅支持使用所选分支下的最新提交创建应用。</li><li>当版本标识为标签或提交时，默认为代码仓库中的最新标签或提交，但也可以根据需要选择其他版本。</li></ul></td>
     </tr>

     <tr>
       <td><b>上下文目录</b></td>
       <td>用于源代码的可选目录，作为构建的上下文目录。</td>
     </tr>

     <tr>
       <td><b>凭证</b></td>
       <td>使用输入代码仓库时，可以根据需要添加认证凭证。</td>
     </tr>

     <tr>
       <td><b>构建器镜像</b></td>
       <td><ul><li>包含特定编程语言运行时环境、依赖库和 S2I 脚本的镜像。其主要目的是将源代码转换为可运行的应用镜像。</li><li>支持的构建器镜像包括：Golang、Java、Node.js 和 Python。</li></ul></td>
     </tr>

     <tr>
       <td><b>版本</b></td>
       <td>选择与源代码兼容的运行环境版本，以确保应用顺利执行。</td>
     </tr>

     <tr>
       <td rowSpan={2}><b>构建</b></td>
       <td><b>构建类型</b></td>
       <td>目前，仅支持使用 **构建** 方法构建应用镜像。该方法简化并自动化了复杂的镜像构建过程，使开发者能够专注于代码开发。大致流程如下：<ol><li>安装 ACP Builds 和创建 Shipyard 实例后，系统会自动生成集群级别资源（如 ClusterBuildStrategy）并定义标准化构建流程。此流程包含详细构建步骤和必要构建参数，支持 Source-to-Image (S2I) 构建。有关详细信息，请参考：[安装 ACP Builds](../install_builds/install_builds_opeator.mdx)</li><li>根据上述策略和表单提供的信息创建构建类型资源，这些资源指定构建策略、构建参数、源代码仓库、输出镜像仓库等相关信息。</li><li>创建 BuildRun 类型资源以启动特定构建实例，以协调整个构建过程。</li><li>完成 BuildRun 创建后，系统将自动生成相应的 TaskRun 资源实例。该实例触发 Tekton 流水线构建并创建 Pod 以执行构建过程。Pod 负责实际的构建工作，包括：从代码仓库拉取源代码，调用指定的构建器镜像，执行构建过程。</li></ol></td>
     </tr>

     <tr>
       <td><b>镜像仓库</b></td>
       <td>构建完成后，指定应用的目标镜像仓库地址。</td>
     </tr>

     <tr>
       <td><b>应用</b></td>
       <td>-</td>
       <td>按需填写应用配置。具体细节请参考 [从镜像创建应用](../../building_application/functions/create_applications/image_app.mdx) 文档中的参数说明。</td>
     </tr>

     <tr>
       <td><b>网络</b></td>
       <td>-</td>
       <td><ul><li><b>目标端口</b>：容器内应用程序实际监听的端口。启用外部访问时，所有匹配流量将被转发到此端口以提供外部服务。</li><li><b>其他参数</b>：请参考 [创建 Ingress](../../building_application/functions/operation_after_creating/network_communications/ingress/create_ingress.mdx) 文档中的参数说明。</li></ul></td>
     </tr>

     <tr>
       <td><b>标签注解</b></td>
       <td>-</td>
       <td>按需填写相关标签和注解。</td>
     </tr>
   </table>

5. 参数填写完成后，单击 **创建**。

6. 您可以在 **详情** 页面查看相应的部署。

## 相关操作

### 构建

应用创建完成后，您可以在详情页面查看相应的信息。

| 参数          | 说明                                                                                                  |
| :----------- | :---------------------------------------------------------------------------------------------------- |
| **构建**      | 单击链接查看具体的构建（Build）和构建任务（BuildRun）资源信息及 YAML。                             |
| **启动构建** | 当构建失败或源代码发生更改时，您可以点击此按钮重新执行构建任务。                                   |
