---
weight: 30
---

# 通过镜像创建原生应用


## 前提条件

获取镜像地址。镜像来源包括平台管理员通过工具链集成的镜像仓库，或第三方平台的镜像仓库。


* 对于前者，平台管理员通常会将镜像仓库分配给您的项目，然后您可使用其中的镜像。如果未找到所需的镜像仓库，请联系平台管理员进行分配。

* 如果是第三方平台的镜像仓库，需确保在当前集群可直接从中拉取镜像。

## 操作步骤

1. 进入 **Container Platform**。

2. 在左侧导航栏中，单击 **应用管理** > **原生应用**。

3. 单击 **创建**。

4. 选择 **通过镜像创建**。

5. 选择镜像，并单击 **确定**。

    **说明**：仅当使用本平台集成的镜像仓库中镜像时，可以通过 **选ßß择** 方式筛选镜像。其中，集成项目名称例如 *containers（docker-registry-projectname）* ，包括本平台中的项目名 *projectname* ，以及镜像仓库中项目名 *containers* 。

4. 参考如下说明配置相关参数

    ||说明|
    |---|---|
    |计算组件|按需选择部署模式：<ul><li>**Deployment**：具体参数说明请参考 [创建部署](../application_workloads/deployment_create.mdx)。</li><li>**DaemonSet**：具体参数说明请参考 [守护进程集](../application_workloads/deamonset_create.mdx)。</li><li>**StatefulSet**：具体参数说明请参考 [有状态副本集](../application_workloads/statefulset_create.mdx)。</li></ul>|
    |内部路由|内部路由即 Kubernetes Service，能够实现计算组件内部发现的功能。内部路由结合入站规则（Kubernetes Ingress）或负载均衡的端口的转发规则，可将外部访问流量分发到平台后端服务的 Pod 上，从而提供计算组件内部发现的能力，具体参数说明请参考 [创建内部路由](/developer/building_application/functions/operation_after_creating/network_communications/service/create_service.mdx)。<br/><br/>**注意**：应用下创建的内部路由名称前缀默认为计算组件的名称，如果计算组件的类型（部署模式）为 StatefulSet 时，建议您不要更改内部路由的默认名称（计算组件的名称），否则，可能会导致无法访问到计算组件。|
    |入站规则|入站规则通过使用 Kubernetes Ingress（入站规则），将集群外部的 HTTP/HTTPS 路由暴露给集群内部的 Kubernetes Service，实现计算组件外部访问权控制的功能，具体参数说明请参考 [创建入站规则](/developer/building_application/functions/operation_after_creating/network_communications/ingress/create_ingress.mdx)。<br/><br/>**注意**：应用下创建入站规则时所用的内部路由必须是当前应用下的资源。但需要保证内部路由已关联了应用下的计算组件，否则，无法实现应用下计算组件的服务发现和访问。|

4. 单击 **创建**。

## 相关操作

您可以在列表页面单击右侧的 ⋮ 或在详情页面单击右上角的 **操作**，按需更新应用下的计算组件、内部路由、以及入站规则等资源配置，或删除不再使用的应用。

|操作| 说明                                                         |
| --------------------- | ------------------------------------------------------------ |
|**更新**| <ul><li>默认情况下，更改计算组件配置后，仅 **该计算组件** 根据 [更新策略](../application_workloads/deployment_create.mdx#updatepolicy) （以部署为例）更新。如果强制更新应用，则**所有计算组件**都将根据自身更新策略而更新。</li><li>您应谨慎勾选 **强制更新** 选项。虽然强制更新应用可更高效地批量重启计算组件（例如修改了配置字典，且应用中有较多计算组件以环境变量方式引用了该配置字典时），但在大多数场景下，为了减少对集群性能和业务可用性的影响，不建议您使用强制更新。</li><li><b>集群外访问的补充说明：</b><ul><li>如果删除了入站规则，若负载均衡监听端口的默认内部路由，或监听端口的规则当中使用了当前应用下的内部路由，集群外部流量仍可以通过 `负载均衡地址/域名+监听端口` 的方式访问到应用。</li><li>如果删除了内部路由，尽管入站规则对内部路由的引用关系不变，但集群外部流量已无法访问应用。</li></ul></li></ul> |
|**删除**| 删除应用的同时将删除应用下所有关联资源，例如：内部路由。 |

