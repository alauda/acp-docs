---
weight: 40
---

# 原生应用的导出


为使开发、测试、生产环境间的应用导出过程更规范化，并且能快速将业务迁移到新环境，您可将原生应用导出成应用模板（Chart），或导出可直接用于部署的应用精简 YAML 文件，用于在不同环境或不同命名空间中运行原生应用；亦可以导出 YAML 文件至代码仓库，通过 GitOps 功能跨集群快速部署应用。

## 导出 Helm Chart

### 操作步骤

1. 进入 **Container Platform**。

1. 在左侧导航栏中，单击 **应用管理** > **原生应用**。

2. 单击 `自定义应用` 类型的 ***应用名称***。

3. 单击 **操作** > **导出**；也可在应用详情页导出特定版本。

4. 根据需要任选一种导出方式，并参考以下说明配置相关信息。

    * 导出 Helm Chart 至具有管理权限的模板仓库

        **注意**：模板仓库由平台管理员添加，请联系平台管理员获取可用的具有 **管理** 权限的 Chart 或 OCI Chart 类型模板仓库。

        |参数| 说明                                                         |
        | ---- | ------------------------------------------------------------ |
        |**目标位置**| 选择 **模板仓库**，即可将模板直接同步到具有 **管理** 权限的 Chart 或 OCI Chart 类型模板仓库中。被分配了该 **模板仓库** 的项目所有者可直接使用该模板。|
        |**模板目录**|当选择的模板仓库类型为 OCI Chart 时，需选择或手动输入存放 Helm Chart 的模板目录。<br/>**注意**：手动输入新的模板目录时，平台会在模板仓库中创建此目录，但是会存在创建失败的风险。|
        |**版本**| 应用模板的版本号。  <br/>格式应为 `v<Major>.<Minor>.<Patch>`。默认值为当前应用版本或当前快照版本。 |
        |**图标**| 支持 JPG、PNG、GIF 图片格式，文件大小不超过 500KB。建议尺寸80*60像素。 |
        |**描述**| 描述信息将在应用目录的应用模板列表中显示。                   |
        |**README**| 说明文件。支持 Markdown 格式编辑，将在应用模板的详情页展示。|
        |**NOTES**| 模板帮助文件。支持标准文本 plaintext 编辑，部署模板完成后将在模板应用详情页展示。|

    *  导出 Helm Chart 至本地，自行上传至模板仓库：**目标位置** 选择 **本地**，文件格式选择 **Helm Chart**，即可生成 Helm Chart 软件包并下载至本地，方便离线传输。

5. 单击 **导出**。

### 后续操作

* 如果导出 Helm Chart 至本地，还需将 [模板添加至具有管理权限的 Chart 类型仓库](../helm_chart/manage_helmchart.mdx)。

* 无论选择何种导出方式，都可参考 [创建原生应用 - 模板方式](../create_applications/chart_app.mdx) ，在 **非** 当前命名空间中创建 `模板应用` 类型的原生应用。


## 导出 YAML 至本地

### 操作步骤

#### **方法一**

1. 进入 **Container Platform**。

1. 在左侧导航栏中，单击 **应用管理** > **原生应用**。

2. 单击 ***应用名称***。

3. 单击 **操作** > **导出**；也可在应用详情页导出特定版本。

4. 目标位置选择 **本地**，文件格式选择 **YAML**，此时可以导出能够直接在其他环境部署的精简 YAML 文件。

5. 单击 **导出**。


#### **方法二**

1. 进入 **Container Platform**。

1. 在左侧导航栏中，单击 **应用管理** > **原生应用**。

2. 单击 ***应用名称***。

3. 单击 **YAML** 页签，按需设置并预览 YAML 文件。

    |类型| 说明                                                         |
    | ---- | ------------------------------------------------------------ |
    |**全量 YAML**| 默认不勾选 **预览精简 YAML**，展示 **隐藏 managedFields 字段** 的 YAML 文件，您可以预览后直接导出；也可以按需去勾选 **隐藏 managedFields 字段** 后导出全量 YAML 文件。<br/>**说明**：全量 YAML 多用于运维和排障时查阅，无法在平台中快速创建原生应用。|
    |**精简 YAML**| 勾选 **预览精简 YAML**，此时可以预览并导出能够直接在其他环境部署的精简 YAML 文件。|

4. 单击 **导出**。

### 后续操作

导出精简 YAML 后，您可以参考 [创建原生应用 - YAML 方式](../create_applications/yaml_app.mdx)，在 **非** 当前命名空间中创建 `自定义应用` 类型的原生应用。

## 导出 YAML 至代码仓库（Alpha）

### 注意事项

* 仅平台管理员、项目管理员支持直接导出原生应用的 YAML 文件至代码仓库。

* `模板应用` 不支持导出 Kustomize 格式的应用配置文件，或直接导出 YAML 文件至代码仓库，您可以先 **脱离模板**，将其转换为 `自定义应用`。

### 操作步骤

1. 进入 **Container Platform**。

1. 在左侧导航栏中，单击 **应用管理** > **原生应用**。

2. 单击 `自定义类型` 的 ***应用名称***。

3. 单击 **操作** > **导出**；也可在应用详情页导出特定版本。

4. 根据需要任选一种导出方式，并参考以下说明配置相关信息。

    * 导出 YAML 至代码仓库：

        |参数| 说明                                                         |
        | ---- | ------------------------------------------------------------ |
        |**目标位置**| 选择 **代码仓库**，即可将 YAML 文件直接同步到指定的 Git 代码仓库中。被分配了该 **代码仓库** 的项目所有者可直接使用该 YAML 文件。|
        |**集成项目名称**| 平台管理员分配或关联给您项目使用的集成工具项目名称。 |
        |**仓库地址**| 集成工具项目下已分配给您使用的仓库地址。 |
        |**导出方式**| <ul><li>**已有分支**：将应用 YAML 导出至选择的分支中。</li><li>**新分支**：基于选择的 **分支/Tag/Commit ID** 创建新分支，并将应用 YAML 导出至新分支。</li><ul><li>若勾选了 **提交 PR （Pull Request）**，平台将创建新分支并提交 Pull Request。</li><li>若勾选了 **合并 PR 后自动删除源分支**，您在 Git 代码仓库合并 PR 后，源分支将自动被删除。</li></ul></ul> |
        |**文件路径**| 文件要保存至代码仓库的具体位置；您也可以输入文件路径，平台将根据输入的内容在代码仓库中创建新路径。|
        |**提交信息**| 填写 Commit 信息，用于标识本次提交内容。|
        |**预览**| 预览待提交的 YAML 文件，并与代码仓库中现有的 YAML 对比差异，通过颜色区分展示。|

    * 导出 Kustomize 类型文件至本地，自行上传至代码仓库：目标位置选择 **本地**，文件格式选择 **Kustomize**，即可导出 Kustomize 类型的应用配置文件至本地。该文件可支持差异化配置，适合用于跨集群部署应用。


5. 单击 **导出**。

### 后续操作

导出 YAML 至 Git 代码仓库后，您可以参考 [创建 GitOps 应用](../../../../gitops/functions/argocd_application/create_application_platform.mdx) ，跨集群创建 `自定义应用` 类型的 GitOps 应用。
