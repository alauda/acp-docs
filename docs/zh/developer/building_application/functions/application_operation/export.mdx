---
weight: 40
sourceSHA: 1f12ee4e487071f0a54308cc2a0508274446d25b610f63ef854d01fcceafd47e
---

# 原生应用的导出

为规范开发、测试和生产环境之间的应用导出流程，并便于快速将业务迁移到新环境，您可以将原生应用导出为应用模板（Charts），或导出可直接用于部署的简化 YAML 文件，以便在不同环境或命名空间中运行原生应用。同时，您还可以将 YAML 文件导出到代码仓库，以便利用 GitOps 功能快速在跨集群中部署应用。

## 导出 Helm Charts

### 操作步骤

1. 访问 **Container Platform**。

2. 在左侧导航栏中，单击 **应用管理** > **原生应用**。

3. 单击类型为 `自定义应用` 的 ***应用名称***。

4. 单击 **操作** > **导出**；您也可以在应用详情页导出特定版本。

5. 根据需要选择一种导出方式，并参考以下说明配置相关信息。

   - 将 Helm Charts 导出到具有管理权限的模板仓库

     **注意**：模板仓库由平台管理员添加。请联系平台管理员以获取具有 **管理** 权限的 **Chart** 或 **OCI Chart** 类型的有效模板仓库。

     | 参数                 | 说明                                                                                                                                                                                                                                                                                                            |
     | --------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
     | **目标位置**         | 选择 **模板仓库**，即可将模板直接同步到具有 **管理** 权限的 **Chart** 或 **OCI Chart** 类型模板仓库中。被分配到该 **模板仓库** 的项目所有者可以直接使用该模板。                                                                                                                                |
     | **模板目录**         | 当选择的模板仓库类型为 OCI Chart 时，您需选择或手动输入存放 Helm Chart 的目录。<br />**注意**：手动输入新的模板目录时，平台会在模板仓库中创建该目录，但创建失败的风险是存在的。                                                                                                                      |
     | **版本**             | 应用模板的版本号。<br />格式应为 `v<Major>.<Minor>.<Patch>`。默认值为当前应用版本或当前快照版本。                                                                                                                                                                                                            |
     | **图标**             | 支持 JPG、PNG 和 GIF 图片格式，文件大小不超过 500KB。建议的尺寸为 80\*60 像素。                                                                                                                                                                                                                           |
     | **描述**             | 描述信息将显示在应用目录的应用模板列表中。                                                                                                                                                                                                                                                                    |
     | **README**            | 说明文件。支持 Markdown 格式编辑，并将在应用模板的详细信息页上显示。                                                                                                                                                                                                                                          |
     | **NOTES**             | 模板帮助文件。支持标准文本编辑，部署模板完成后将在模板应用的详情页上显示。                                                                                                                                                                                                                                 |

   - 将 Helm Charts 导出到本地以手动上传至模板仓库：选择 **本地** 作为目标位置，并将文件格式选择为 **Helm Chart**，将生成 Helm Chart 包下载到本地以便离线传输。

6. 单击 **导出**。

### 后续操作

- 如果将 Helm Chart 导出到本地，您需要 [将模板添加至具有管理权限的 Chart 类型仓库](../helm_chart/manage_helmchart.mdx)。

- 无论选择何种导出方式，您都可以参考 [创建原生应用 - 模板方式](../create_applications/chart_app.mdx) 在 **非当前** 命名空间中创建类型为 `模板应用` 的原生应用。

## 导出 YAML 至本地

### 操作步骤

#### **方法一**

1. 访问 **Container Platform**。

2. 在左侧导航栏中，单击 **应用管理** > **原生应用**。

3. 单击 ***应用名称***。

4. 单击 **操作** > **导出**；您也可以在应用详情页导出特定版本。

5. 选择 **本地** 作为目标位置，选择 **YAML** 作为文件格式，此时可以导出一个可以直接在其他环境中部署的简化 YAML 文件。

6. 单击 **导出**。

#### **方法二**

1. 访问 **Container Platform**。

2. 在左侧导航栏中，单击 **应用管理** > **原生应用**。

3. 单击 ***应用名称***。

4. 单击 **YAML** 标签，按需配置并预览 YAML 文件。

   | 类型                | 说明                                                                                                                                                                                                                                                                                            |
   | --------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
   | **全量 YAML**         | 默认情况下，**预览精简 YAML** 未被选中，展示 **隐藏 managedFields 字段** 的 YAML 文件。您可以预览后直接导出；也可以取消选择 **隐藏 managedFields 字段** 来导出全量 YAML 文件。<br />**注意**：全量 YAML 主要用于运维和排障时查阅，无法在平台上快速创建原生应用。  |
   | **精简 YAML**         | 选中 **预览精简 YAML**，此时可以预览并导出可以直接在其他环境中部署的精简 YAML 文件。                                                                                                                                                                                                          |

5. 单击 **导出**。

### 后续操作

导出精简 YAML 后，您可以参考 [创建原生应用 - YAML 方式](../create_applications/yaml_app.mdx) 在 **非当前** 命名空间中创建类型为 `自定义应用` 的原生应用。

## 导出 YAML 至代码仓库（Alpha）

### 注意事项

- 仅有平台管理员和项目管理员可以直接导出原生应用 YAML 文件到代码仓库。

- `模板应用` 不支持导出 Kustomize 格式的应用配置文件或直接导出 YAML 文件至代码仓库；您可以先 **脱离模板** 并将其转换为 `自定义应用`。

### 操作步骤

1. 访问 **Container Platform**。

2. 在左侧导航栏中，单击 **应用管理** > **原生应用**。

3. 单击类型为 `自定义` 的 ***应用名称***。

4. 根据需要选择一种导出方式，并参考以下说明配置相关信息。

   - 导出 YAML 至代码仓库：

     | 参数                 | 说明                                                                                                                                                                                                  |
     | --------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
     | **目标位置**         | 选择 **代码仓库**，即可将 YAML 文件直接同步到指定的 Git 代码仓库。被分配到该 **代码仓库** 的项目所有者可以直接使用该 YAML 文件。                                                          |
     | **集成项目名称**     | 平台管理员为您项目分配或关联的集成工具项目名称。                                                                                                                                                     |
     | **仓库地址**         | 在集成工具项目下已分配给您使用的仓库地址。                                                                                                                                                             |
     | **导出方式**         | <ul><li>**已有分支**：将应用 YAML 导出至所选分支。</li><li>**新分支**：基于所选的 **分支/Tag/Commit ID** 创建新分支，并将应用 YAML 导出至新分支。</li><ul><li>如果选中 **提交 PR（Pull Request）**，平台将创建新分支并提交 Pull Request。</li><li>如果选中 **合并 PR 后自动删除源分支**，则在您在 Git 代码仓库合并 PR 后，源分支将自动被删除。</li></ul></ul> |
     | **文件路径**         | 文件在代码仓库中应保存的具体位置；您也可以输入文件路径，平台将根据输入的内容在代码仓库中创建新路径。                                                                                                   |
     | **提交信息**         | 填写提交信息，以标识本次提交内容。                                                                                                                                                                      |
     | **预览**             | 预览待提交的 YAML 文件，并与现有的代码仓库中的 YAML 文件对比差异，使用颜色显示差异。                                                                                                                |

   - 将 Kustomize 类型文件导出到本地以手动上传至代码仓库：选择 **本地** 作为目标位置，选择 **Kustomize** 作为文件格式，导出 Kustomize 类型的应用配置文件到本地。该文件支持差异化配置，适合于跨集群应用部署。

5. 单击 **导出**。

### 后续操作

导出 YAML 到 Git 代码仓库后，您可以参考 [创建 GitOps 应用](/gitops/functions/create_argocd_application/create_application_via_platform.mdx)，在跨集群中创建类型为 `自定义应用` 的 GitOps 应用。
