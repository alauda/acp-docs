---
weight: 10
sourceSHA: 9dc8150e2dc91c6d1a52f6c08a6c46a8667cdc0914e81e6033b68a26b94acdf0
---

# 创建 Service

在 Kubernetes 中，服务是一种用于公开网络应用的方式，该应用运行在集群中的一个或多个 Pods 上。

## 步骤

1. 进入 **Container Platform**。

2. 在左侧导航栏中，单击 **网络** > **服务**。

3. 单击 **创建服务**。

4. 按照以下说明配置相关参数。

   | 参数                 | 说明                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
   | ------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
   | **虚拟 IP 地址**     | 如果启用，将为该服务分配一个 ClusterIP，可用于集群内部的服务发现。<br />如果禁用，将创建一个无头服务（Headless Service），通常用于 **有状态副本集**（StatefulSet）。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
   | **类型**             | <ul><li>**ClusterIP**: 在集群内部 IP 上公开服务。选择此值使得该服务仅能从集群内部访问。</li><li>**NodePort**: 在每个节点的 IP 上以静态端口（NodePort）公开服务。</li><li>**ExternalName**: 将服务映射到 externalName 字段的内容（例如，主机名 api.foo.bar.example）。</li><li>**LoadBalancer**: 使用外部负载均衡器将服务公开到外部。Kubernetes 不直接提供负载均衡组件；您必须提供一个，或者可以将您的 Kubernetes 集群与云服务提供商集成。</li></ul>                                                                                                                                                                                                                |
   | **目标组件**         | <ul><li>**工作负载**: 服务将请求转发到**特定**工作负载，匹配标签如 `project.cpaas.io/name: projectname` 和 `service.cpaas.io/name: deployment-name`。</li><br /><li>**虚拟化**: 服务将请求转发到**特定**虚拟机或虚拟机组。</li><br /><li>**标签选择器**: 服务将请求转发到具有指定标签的**某类**工作负载，例如 `environment: release`。</li></ul>                                                                                                                                                                                                                                                                                                                                                                                        |
   | **端口**             | 用于配置该服务的端口映射。在以下示例中，集群中的其他 Pods 可以通过虚拟 IP（如果启用）和 TCP 端口 *80* 调用此服务；访问请求将转发到目标组件的 Pods 中对外暴露的 TCP 端口 *6379* 或 *redis*。<ul><li>**协议**: 服务使用的协议，支持的协议包括：`TCP`、`UDP`、`HTTP`、`HTTP2`、`HTTPS`、`gRPC`。</li><li>**服务端口**: 该服务在集群内部暴露的服务端口号，即 Port，例如 *80*。</li><li>**容器端口**: 服务端口映射的目标端口号（或名称），即 targetPort，例如 *6379* 或 *redis*。</li><li>**服务端口名称**: 将自动生成。格式为 `<协议>-<服务端口>-<容器端口>`，例如：*tcp-80-6379* 或 *tcp-80-redis*。</li></ul> |
   | **会话保持**         | 基于源 IP 地址（ClientIP）的会话保持。如果启用，来自同一 IP 地址的所有访问请求在负载均衡时将保持在同一服务器上，确保来自相同客户端的请求转发到同一服务器进行处理。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |

5. 单击 **创建**。
