---
weight: 120
---

# 深入理解 DaemonSet

守护进程集（DaemonSet）是 Kubernetes 的一种计算组件控制器（Controllers），您可以通过平台创建一个 DaemonSet 来运行一个程序。也可以在应用中创建多个 DaemonSet 作为应用下的计算组件来为应用提供特定的服务。

DaemonSet 的功能特点如下：

* 能够保证所有或部分符合条件的节点上都能运行 Pod 的副本；

* 当有节点添加进集群时，DaemonSet 会自动为新增的节点上添加 DaemonSet 中的 Pods 副本；

* 当节点被从集群中移除时，节点上的 Pods 会被回收；

* 当 DaemonSet 被删除后，将会删除该 DaemonSet 创建的所有 Pods。

DaemonSet 的典型的使用场景如下：

* 在集群内的每个节点上运行一个集群存储守护程序，例如：glusterd、ceph。

* 在集群内的每个节点上运行一个日志收集守护程序，例如：fluentd 或 logstash。

* 在集群内的每个节点上运行一个节点监控守护程序，例如： Prometheus Node Exporter 、 Sysdig Agent 、 collectd、 Dynatrace OneAgent 、 AppDynamics Agent 、 Datadog agent 、 New Relic agent 、Ganglia gmond 或 Instana Agent 。