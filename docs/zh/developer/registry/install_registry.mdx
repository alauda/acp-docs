---
weight: 15
i18n:
  title:
    en: Installation
    zh: 安装
title: 安装
sourceSHA: 047fe08a3b07c6dae0da2327f3a13783bf98b2b5f7389807a71a88d6e65595b4
---

# 安装 ACP Registry

## 先决条件

1. **安装** **ACP Registry** 集群插件到目标集群，使用集群插件机制。

## 通过网页控制台安装 ACP Registry 集群插件

### 步骤

1. 登录，进入 **平台管理** 页面。
2. 点击 **市场** > **集群插件**，进入 **集群插件** 列表页面。
3. 找到 **ACP Registry** 集群插件，点击 **安装**，进入 **安装 ACP Registry** 页面。
4. 参考以下规范配置参数；点击 **安装** 完成 **ACP Registry** 集群插件安装。

参数描述如下：

| **参数**                 | **描述**                                                                                                                                                                                                                                   |
| :---------------------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| **暴露服务**            | 一旦启用，通过获取访问地址和管理员账户，您可以从集群外部管理此镜像仓库。这会带来显著的安全风险，因此必须谨慎启用。                                                                                                            |
| **启用 IPv6**          | 当当前集群的网络协议为 IPv6 单栈时，请启用此开关。                                                                                                                                                                                          |
| **NodePort**           | 当暴露服务启用时，配置 NodePort 允许通过端口号从外部集群访问 Registry。                                                                                                                                                                   |
| **密码**               | 用于登录和访问 Registry 的管理员用户密码。                                                                                                                                                                                                     |
| **存储类型**           | 选择存储类型，支持仅限于：LocalVolume 和 StorageClass。                                                                                                                                                                              |
| **节点**               | 选择用于运行 Docker Registry 服务并提供镜像存储和分发的节点。 （此选项仅在存储类型为 LocalVolume 时可选。）                                                                                                                           |
| **StorageClass**       | 选择 StorageClass。当副本数量大于 1 时，为确保 Docker Registry 的高可用性，建议选择支持 "RWX" 能力的存储，如文件存储。（此选项仅在存储类型为 StorageClass 时可选。）                                          |
| **存储大小**           | Docker Registry 的存储大小（单位：Gi）。                                                                                                                                                                                                 |
| **副本数**             | 配置 Docker Registry Pod 的副本数量。 <ul><li> **存储类型为 LocalVolume**: 副本数值默认为 1，无法修改。 </li><li>**存储类型为 StorageClass**: 副本数值默认为 3，但可以修改。</li></ul>                                      |
| **资源要求**           | 定义 Registry Pod 的 CPU 和内存资源请求和限制。                                                                                                                                                                                                |

### 验证

1. 在 **平台管理** 页面，点击 **市场** > **集群插件**，进入 **集群插件** 列表页面。找到 **ACP Registry** 集群插件，验证其状态为 **已安装**。
2. 点击 **ACP Registry** 名称，进入 **ACP Registry** 集群插件详细页面。
3. 找到 **注册地址** 字段值，复制该地址，并尝试使用 Docker 客户端通过该地址推送/拉取容器镜像。

## 更新/卸载 ACP Registry

可以在列表页面和详细页面上执行 **ACP Registry** 的更新或卸载操作。
