---
weight: 10
i18n:
  title:
    en: Quickly create a simple application via image
    zh: 快速创建一个应用
title: 快速创建一个应用
sourceSHA: 9d71580be11af1e1d35c4315881fae4f8f999c8ffb7218d35da2705a4aef92ce
---

# 快速创建一个应用

> 本文档提供了如何快速创建、管理和访问 <Term name="product" textCase="capitalize" /> 中的应用程序的指导。

## 介绍

### 适用场景

- 你是一位新用户，刚刚开始探索容器平台，想快速了解如何在平台上部署一个容器化的Web应用并将服务暴露以供外部访问。
- 你希望通过一个简单而完整的示例学习平台的基本功能，包括：创建项目、命名空间、应用程序和通过内部路由暴露应用服务。

### 预计阅读时间

阅读并完成本文档所描述的步骤大约需要 10-15 分钟。

## 注意事项

- 本文档未提供详细的参数配置说明。本文档仅作为快速入门指南。如需具体的说明和配置步骤，请参阅相关文档。
- 你必须具备创建项目、命名空间和集成镜像仓库的必要权限。

## 前提条件

- 你已仔细阅读平台概述和基础概念文档，并对平台及其术语有基本了解。
- 你已按照项目创建文档创建了一个项目。

## 流程概览

| 序号 | 操作步骤                                           | 描述                                                                                                                                                                                                                  |
| ---- | -------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 1    | [创建命名空间](#namespace)                        | 为不同的应用隔离和管理资源创建一个命名空间。                                                                                                                                                                        |
| 2    | [获取镜像](#image)                                | 在创建应用之前，获取镜像。平台支持两种获取镜像的方式：**通过工具链集成的镜像仓库**和**使用第三方镜像仓库服务**。<br />本文档以开源 nginx 镜像为例。                                                    |
| 3    | [使用部署创建简单应用](#deployment)              | 使用部署和准备好的镜像创建一个简单应用，并相应地进行管理。                                                                                                                                                          |
| 4    | [使用内部路由暴露应用](#service)                  | 通过内部路由暴露应用服务。                                                                                                                                                                                           |
| 5    | [访问应用](#application)                          | 通过内部路由暴露的端口访问应用。                                                                                                                                                                                     |

## 操作步骤

### 创建命名空间 \{#namespace}

命名空间是实现多租户的基础，允许将集群资源划分为孤立的用户组，并根据不同用户组的需求合理分配资源和管理应用。创建命名空间的步骤如下：

**前提条件**

- 你必须具备创建、更新和删除命名空间的必要权限（例如，管理员或项目管理员角色）。
- 使用平台的 kubectl 工具或第三方 CLI 工具连接到集群的控制节点。

**操作步骤**

1. 登录并导航到 **项目管理** 视图。

2. 点击 **项目管理** > **命名空间**。

3. 点击 **创建命名空间**。

4. 根据以下参数配置 **基本信息**，保持其他参数为默认。

   | 参数        | 描述                                                                                                             |
   | ----------- | ----------------------------------------------------------------------------------------------------------------- |
   | 集群       | 从项目中已关联的集群中选择要创建命名空间的集群。                                                                    |
   | 命名空间   | 命名空间的名称，自动以项目名称作为前缀。                                                                            |

5. 点击 **创建**。现在成功创建了一个没有任何资源使用限制的命名空间。

### 获取镜像 \{#image}

在创建应用之前，你需要获取容器镜像。平台支持以下两种获取镜像的方法：

- 通过工具链集成的镜像仓库。
- 也支持使用第三方镜像仓库服务。

#### 通过工具链集成的镜像仓库

1. 点击 **平台管理** > **工具链管理** > **工具链集成**。

2. 点击 **集成**。

3. 选择工具后，根据以下描述配置相关参数。

   | 参数              | 描述                                                                                                                                                                                              |
   | ------------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
   | 集成名称            | 输入集成工具的名称；此名称不得与现有工具集成名称重复。                                                                                                                                       |
   | 访问 URL           | 输入工具的访问 URL。                                                                                                                                                                          |
   | API 地址           | 输入集成工具的服务地址。<br />地址格式为：HTTP/HTTPS协议 + IP + 端口或 HTTP/HTTPS协议 + 域名。公共代码仓库不支持修改默认 API 地址。                                                  |
   | 密钥                | 选择预先创建的密钥或添加一个新的密钥。                                                                                                                                                                                                 |

4. 点击 **集成**。

5. 点击 **已创建的工具** 卡片。

6. 点击列表中对应工具项目名称旁的更多选项菜单 (⋮)，然后选择 **分配平台项目**。

7. 选择你希望将此工具项目使用的平台项目。

8. 点击 **分配**。

#### 使用第三方镜像仓库服务

确保镜像地址可以被集群访问；否则无法正常使用。

### 使用部署创建简单应用 \{#deployment}

部署是最常用的工作负载之一，提供了一种声明式的方式来管理 Pods。通过部署，你可以定义应用的期望状态（例如，副本数、容器镜像等）。部署还支持应用的滚动更新和回滚，以及 Pods 的自动扩展和故障恢复。

#### 创建应用

1. 点击 **容器平台** 视图。

2. 点击视图名称后面的区域以选择 **命名空间**。

3. 在左侧导航栏中，点击 **工作负载** > **部署**。

4. 点击 **创建部署**。

5. 选择通过工具链集成的镜像仓库地址或输入第三方平台的镜像仓库地址，然后点击 **确认**。

   **备注**：本文档以开源镜像 nginx 为例 `index.docker.io/library/nginx:latest`

6. 输入名称并点击 **创建**。此时，运行 nginx 的部署已成功创建。

#### 管理应用

可以在详细信息页面查看应用的运行状态、副本数及其他信息，在该页面还可以管理部署和容器。你还可以切换标签查看应用日志、监控、事件、YAML 等。

### 使用服务暴露应用 \{#service}

内部路由通过提供统一的 IP 地址或主机端口进行访问，从而实现工作负载的服务发现。

1. 点击 **网络** > **服务**。

2. 点击 **创建服务**。

3. 根据以下参数配置 **详细信息**，保持其他参数为默认。

   | 参数          | 描述                                                                                                                                                                                                                     |
   | -------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
   | 名称          | 输入服务的名称。                                                                                                                                                                                                          |
   | 类型          | `NodePort`                                                                                                                                                                                                                                                                      |
   | 工作负载名称  | 选择之前创建的 `部署`。                                                                                                                                                                                              |
   | 端口          | **服务端口**：服务在集群内暴露的端口号，即端口，例如 `8080`。<br />**容器端口**：由服务端口映射的目标端口号（或名称），即 targetPort，例如 `80`。                                                                                 |

4. 点击 **创建**。此时，服务已成功创建。

### 访问应用 \{#application}

1. 进入服务的详细信息页面。

2. 从 Pod 部分复制 **节点 IP 地址**。

3. 从端口部分复制 **主机端口**。

4. 在浏览器中输入 `<节点 IP 地址>:<端口>` 以成功访问应用。本文档中，节点 IP 地址为 192.1.1.3，节点端口为 31217，如下图所示。

<img src="./assets/quick_start.png" width="900" />
