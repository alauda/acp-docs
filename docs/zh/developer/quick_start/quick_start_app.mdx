---
weight: 10
i18n:
  title:
    en: Quickly creating a simple application via image
    zh: 快速创建一个应用
title: 快速创建一个应用
sourceSHA: a596dbce4eaea3ae5935013db8688410231a659a020c63aaed9eae1756319da1
---

# 快速创建一个应用

> 本文档提供了如何快速创建、管理和访问应用程序的指导，适用于 <Term name="product" textCase="capitalize" />。

## 介绍

### 适用场景

- 您是一位新用户，刚刚开始探索容器平台，希望快速了解如何将容器化的 Web 应用程序部署到平台并将服务暴露供外部访问。
- 您希望通过一个简单完整的示例来学习平台的基本功能，包括：创建项目、命名空间、应用程序，并通过内部路由暴露应用程序服务。

### 预计阅读时间

预计花费 10-15 分钟阅读并完成本文档中描述的步骤。

## 注意事项

- 本文档不提供详细的解释或配置参数的说明。本文件仅作为快速入门指南。如需具体说明和配置步骤，请参阅相关文档。
- 您必须拥有创建项目、命名空间和集成镜像仓库所需的权限。

## 前提条件

- 您已仔细阅读平台概述和基本概念文档，并对平台及其术语有基本的理解。
- 您已按照项目创建文档创建了一个项目。

## 过程概述

| 序号 | 操作步骤                                            | 描述                                                                                                                                                                                                                                    |
| ---- | --------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 1    | [创建命名空间](#namespace)                          | 创建一个命名空间，用于隔离和管理不同应用程序的资源。                                                                                                                                                                               |
| 2    | [获取镜像](#image)                                  | 在创建应用程序之前，获取镜像。平台支持两种获取镜像的方法：**通过工具链集成镜像仓库**和**使用第三方镜像仓库服务**。<br />本文档以开源的 nginx 镜像为例。                                                                            |
| 3    | [使用 Deployment 创建简单应用程序](#deployment)   | 使用部署和准备好的镜像创建简单应用程序，并进行相应管理。                                                                                                                                                                            |
| 4    | [通过内部路由暴露应用程序](#service)                | 通过内部路由暴露应用程序服务。                                                                                                                                                                                                         |
| 5    | [访问应用程序](#application)                       | 通过内部路由暴露的端口访问应用程序。                                                                                                                                                                                                  |

## 操作步骤

### 创建命名空间 \{#namespace}

命名空间是实现多租户的基础，使集群资源能够分割成隔离的用户组，根据不同用户组的需求合理分配资源和应用管理。创建命名空间的步骤如下：

**前提条件**

- 您必须拥有创建、更新和删除命名空间的必要权限（如管理员或项目管理员角色）。
- 使用平台的 kubectl 工具或第三方 CLI 工具连接到集群的控制节点。

**操作步骤**

1. 登录并导航到 **项目管理** 视图。

2. 点击 **项目管理** > **命名空间**。

3. 点击 **创建命名空间**。

4. 根据下列参数配置 **基本信息**，将其他参数保持默认。

   | 参数     | 描述                                                                                     |
   | -------- | ------------------------------------------------------------------------------------------ |
   | 集群     | 从项目中关联的集群中选择要创建命名空间的集群。                                             |
   | 命名空间 | 命名空间的名称，自动以项目名称为前缀。                                                    |

5. 点击 **创建**。命名空间成功创建，且没有任何资源使用限制。

### 获取镜像 \{#image}

在创建应用程序之前，您需要获取容器镜像。平台支持以下两种获取镜像的方法：

- 通过工具链集成镜像仓库。
- 也支持使用第三方镜像仓库服务。

#### 通过工具链集成镜像仓库

1. 点击 **平台管理** > **工具链管理** > **工具链集成**。

2. 点击 **集成**。

3. 在选择工具后，根据如下描述配置相关参数。

   | 参数               | 描述                                                                                                                                                                                                                      |
   | ------------------ | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
   | 集成名称           | 输入集成工具的名称；该名称不得与已有的工具集成名称重复。                                                                                                                                                                  |
   | 访问 URL           | 输入工具的访问 URL。                                                                                                                                                                                                    |
   | API 地址           | 输入集成工具的服务地址。<br />地址格式为：HTTP/HTTPS 协议 + IP + 端口 或 HTTP/HTTPS 协议 + 域名。公共代码仓库不支持修改默认 API 地址。                                                                               |
   | 密钥               | 选择一个预创建的密钥或添加一个新的密钥。                                                                                                                                                                                |

4. 点击 **集成**。

5. 点击 **已创建工具** 卡片。

6. 在列表中对应工具的项目名称旁边的更多选项菜单 (⋮) 中，选择 **分配平台项目**。 

7. 选择希望与此工具项目配合使用的平台项目。

8. 点击 **分配**。

#### 使用第三方镜像仓库服务

确保镜像地址可以被集群访问；否则，无法正常使用。

### 使用 Deployment 创建简单应用程序 \{#deployment}

Deployment 是最常用的工作负载之一，提供了一种声明式方法来管理 Pods。通过部署，您可以定义应用程序的期望状态（例如，副本数、容器镜像等）。部署还支持应用程序的滚动更新和回滚，以及 Pods 的自动扩展与故障恢复。

#### 创建应用程序

1. 点击 **容器平台** 视图。

2. 点击视图名称后面的区域以选择 **命名空间**。

3. 在左侧导航栏中，点击 **工作负载** > **部署**。

4. 点击 **创建部署**。

5. 选择通过工具链的集成镜像仓库地址或输入第三方平台的镜像仓库地址，然后点击 **确认**。

   **注意**：本文档使用开源镜像 nginx 作为示例 `index.docker.io/library/nginx:latest`

6. 输入名称并点击 **创建**。此时，成功创建了一个运行 nginx 的部署。

#### 管理应用程序

可以在详细信息页面查看应用程序的运行状态、副本数及其他信息，您还可以管理该部署和容器。您也可以切换标签以查看应用程序日志、监控、事件、YAML 等。

### 通过服务暴露应用程序 \{#service}

内部路由通过提供统一的 IP 地址或主机端口进行访问，启用工作负载的服务发现。

1. 点击 **网络** > **服务**。

2. 点击 **创建服务**。

3. 根据下列参数配置 **详细信息**，将其他参数保持默认。

   | 参数          | 描述                                                                                                                                                                                                                       |
   | -------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
   | 名称           | 输入服务名称。                                                                                                                                                                                                           |
   | 类型           | `NodePort`                                                                                                                                                                                                                |
   | 工作负载名称   | 选择之前创建的 `Deployment`。                                                                                                                                                                                          |
   | 端口           | **服务端口**：集群中由服务暴露的端口号，即端口，如 `8080`。<br /> **容器端口**：服务端口映射的目标端口号（或名称），即 targetPort，如 `80`。                                                                 |

4. 点击 **创建**。此时，成功创建了服务。

### 访问应用程序 \{#application}

1. 进入服务的详细信息页面。

2. 从 Pod 部分复制 **节点 IP 地址**。

3. 从端口部分复制 **主机端口**。

4. 在浏览器中输入 `<Node IP Address>:<Port>` 成功访问应用程序。在本文档中，节点 IP 地址为 192.1.1.3，节点端口为 31217，如下图所示。

<img src="../../../en/developer/quick_start/assets/quick_start.png" width="900" />
