---
weight: 20
---

:::tip

在编写功能文档时，各个功能的负责人应根据具体功能的特点，合理拆分文档页面和目录结构。优先提供对应 CLI 的操作说明，以便用户快速上手。

1、 概述

功能介绍文档通常位于功能概述 和 HowTo 文档之间，专注于单一功能的详细介绍。它可以涵盖功能本身的详细描述。

2、 核心特征

功能介绍文档应具备以下核心特征:

- 概念导向: 系统性地解释功能的核心概念和使用方式。
- 灵活性: 可以不依赖特定场景进行功能描述。
- CLI 详解: 优先提供详细的命令行操作说明，帮助用户通过 CLI 快速实现功能。其次再补充此功能对应的功能界面使用方式

3、 功能文档与 HowTo 文档的区别

功能文档中时常会伴随一些功能使用和操作的介绍，但是它和 HowTo 的差异也是时常困扰我们的地方，它们的区别在于:

- **内容焦点**
  - 功能介绍: 回答"是什么"和"为什么"，帮助用户理解功能本身。
  - HowTo: 回答"怎么做"，指导用户完成具体任务。

- **结构特点**
  - 功能介绍: 系统化、层次化的知识体系，注重概念解释和原理阐述。
  - HowTo: 任务导向的线性操作步骤，注重实践指导。

- **使用场景**
  - 功能介绍: 用户初次了解功能或需要深入理解功能原理时。
  - HowTo: 用户需要解决特定问题或完成具体任务时。

- **覆盖范围**
  - 功能介绍: 完整介绍功能的所有特性、配置项和使用方法。
  - HowTo: 针对单一场景或任务的具体操作指南。

4、 编写指南

在撰写功能文档时，特别是涉及 CLI 的部分，建议遵循以下步骤:

- 明确目标用户群体: 确定文档的目标读者和他们的需求。了解他们对 CLI 的熟悉程度，以便调整内容的深度和复杂性。
- 结构化内容: 将文档分为多个部分，如功能简介、CLI 命令参数详解、使用示例和注意事项。确保每个部分逻辑清晰，易于理解。
- 详细命令说明: 对于每个 CLI 命令，提供详细的参数说明和使用示例。解释命令的作用、适用场景和可能的输出结果。

:::

# 对接外部 S3 存储

## 功能简介

对接外部存储这个功能，旨在为您当前选定的项目提供无缝的外部 S3 存储注册服务。通过简洁直观的操作界面，您只需轻松几步，就能为项目成功注册一个外部 S3 存储。
外部存储列表页面还集成了智能检测机制。系统会自动监测已注册的外部 S3 存储的可用性，一旦发现存储出现异常，如连接中断等情况，会立即通过醒目提示告知您，让您第一时间掌握存储状态。
当您或者其他项目成员需要进行数据备份时，无论是创建自动备份任务，还是手动触发一次即时备份，只需在备份设置中轻松选择一个已注册的外部 S3 存储，系统便会迅速将备份数据安全、高效地保存到该存储中。

- **提升数据安全性**

将备份数据存储在外部 S3 存储中，为您的数据提供了额外的安全保障。外部 S3 存储通常具备专业的数据冗余和灾难恢复机制，能够有效防止因本地硬件故障、自然灾害等原因导致的数据丢失。即使本地环境遭遇意外，您的数据依然可以在外部存储中完好保存，确保业务的连续性。

- **增强灵活性与可扩展性**

支持多存储批量注册和灵活选择备份存储，让您可以根据不同的需求和场景，自由调配备份资源。您可以根据存储的性能、成本、地理位置等因素，选择最适合的外部 S3 存储来保存备份数据。同时，随着业务的发展和数据量的增长，您可以随时添加新的外部 S3 存储，轻松实现存储资源的扩展，满足不断变化的业务需求。


## 主要功能

### 添加外接 S3 存储

在添加外部 S3 存储之前，用户需要首先收集齐该存储的以下信息:
- 访问地址（Endpoint URL）
- Access Key
- Secret Access Key
- 存储桶名称

外部存储不要求部署在当前集群或者当前命名空间下，只要能够网络联通即可，用户可以事先通过网页请求来确定外部存储的可用性。

#### 创建 S3 访问秘钥

添加外部 S3 存储的第一步是创建 S3 访问秘钥，用户可以通过以下 CLI 方式来创建 S3 访问秘钥:
```bash
kubectl -n <namespace> create secret <secret-name> --from-literal=AWS_ACCESS_KEY_ID=<access-key> --from-literal=AWS_SECRET_ACCESS_KEY=<secret-access-key>
```
::: info
- `<namespace>` 是存储 S3 访问秘钥的命名空间，也是授权使用该存储的项目同名命名空间，例如如果为项目 A 添加外部存储，那么应该在当前集群的命名空间 A 下添加这个访问秘钥。
- `<secret-name>` 是存储 S3 访问秘钥的名称，这个名称可以根据业务使用或者存储性质来命名，方便记忆。
- `<access-key>` 是 S3 访问秘钥的 Access Key。
- `<secret-access-key>` 是 S3 访问秘钥的 Secret Access Key。
:::




## 功能优势

> 描述该功能的技术亮点，例如:
>
> - 性能优势
> - 可扩展性
> - 安全性
> - 稳定性


## \<功能模块一\>

> 详细描述该模块的具体功能，优先偏向 CLI 介绍

按以下步骤使用功能:

<Steps>

### 步骤 1

> 对于步骤的描述，我们建议采用明确的可执行步骤，比如使用具体什么指令，建议采用可复制的代码显示控件。

参数说明

| 参数   | 描述                               |
| :----- | :--------------------------------- |
| 参数一 | \<是否必填\>，根据具体参数用途描述。 |
| 参数二 | \<是否必填\>，根据具体参数用途描述。 |

### 步骤 2

### ......

</Steps>

## \<功能模块二\>

...