---
weight: 20
sourceSHA: 90d154ff40249ff08887c8e8f096c55565ce0ad98ff082f04aaacb8d1b7e5465
---

# 执行检查任务

检查任务有两种触发方式：手动触发和定时触发。如果用户选择手动触发检查，则相应的检查操作会立即执行，检查结果将根据触发方式在不同位置呈现。

- 如果用户从特定组件实例的详情页面触发检查，检查结果将显示在该组件实例的详情页面上，同时也会出现在检查报告页面上，如下图所示：

![组件实例详情页上的检查触发按钮](./assets/inspection_on_inspage.png)

![组件实例详情页上的检查结果呈现](./assets/inspection_result_on_inspage.png)

![检查报告页面上的检查结果呈现](./assets/inspection_result_on_overview.png)

- 如果用户在特定的检查任务上触发，无论是手动还是自动，检查结果将以检查记录的形式呈现在该任务的检查记录中，如下所示：

![检查任务上的检查结果呈现](./assets/inspection_result_on_center.png)

## 主要功能

<Tabs>
  <Tab label="CLI">
    可以通过 CLI 查询特定执行的检查任务的结果，如下所示：

    ```bash

    $ kubectl get -n namespace inspectionjobs/name -o yaml

    apiVersion: middleware.alauda.io/v1
    kind: InspectionJob
    metadata:
      annotations:
        cpaas.io/creator: admin
        cpaas.io/updated-at: "2025-02-24T06:36:11Z"
      creationTimestamp: "2025-02-24T06:36:11Z"
      generation: 1
      labels:
        inspection.middleware.io/cluster: business-1
        inspection.middleware.io/component: mysqlcluster
        inspection.middleware.io/inspection: insp-task
        inspection.middleware.io/namespace: tongrds-1
        inspection.middleware.io/project: tongrds
        inspection.middleware.io/trigger: Manual
      name: insp-task-8259621030
      namespace: tongrds-1
      ownerReferences:
      - apiVersion: middleware.alauda.io/v1
        blockOwnerDeletion: true
        controller: true
        kind: Inspection
        name: insp-task
        uid: b9252d5a-4f94-4901-8036-e963f0cc0acb
      resourceVersion: "58806102"
      uid: 524ad817-ef5e-4eea-9b06-83782616ca03
    spec:
      component: mysqlcluster
      instances:
      - name: mgr1
    status:
      instanceCount: 1
      message: ""
      results:
      - healthyStatus: HealthyWithWarning
        id: mgr1-2x4eojeu
        instance: mgr1
        message: ""
        startTime: "2025-02-24T06:36:14Z"
        status: done
        stopTime: "2025-02-24T06:36:22Z"
      startTime: "2025-02-24T06:36:11Z"
      status: succeed
      stopTime: "2025-02-24T06:36:22Z"

    ```

    ::: info

    - `<spec.component>` 是此次检查执行的目标实例类型。
    - `<spec.instances>` 是此次检查执行的目标实例列表。
    - `<status.results>` 是此次检查执行的结果列表，其中包括检查的开始和结束时间、检查概况以及状态等字段。

    :::
  </Tab>

  <Tab label="Web 控制台">
    在指定资源上触发检查有两种方式，第一种是在指定实例详情页面右上角点击 `检查` 按钮，如下图所示。

    ![](./assets/inspection_on_inspage.png)

    第二种触发检查的方法是在检查管理的 `任务` 列表中。您可以选择某个检查任务右侧的下拉菜单，其中有一个选择项是 `立即执行`，如下图所示。

    ![](./assets/trigger_inspection_in_list.png)
  </Tab>
</Tabs>
