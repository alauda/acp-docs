---
weight: 30
sourceSHA: 189a6f0df6e0725e46a874e09462a11bcf28019fc55b41d6e9ad571527deb008
---

# 更新和删除检查任务

用户可以通过更新或删除检查任务来调整检查任务的配置，以满足业务需求。

## 主要特性

### 更新检查任务

<Tabs>
  <Tab label="CLI">
    更新检查任务类似于更新其他 K8S 资源。可以使用 `kubectl edit` 命令更新检查任务的配置。

    ```shell
    $ kubectl edit iotedgeinspection <inspection_name>

    ===
    # 请编辑下面的对象。以 '#' 开头的行将被忽略，
    # 如果文件为空，编辑将被中止。如果在保存此文件时发生错误，
    # 将重新打开文件并显示相关失败信息。
    #
    apiVersion: middleware.alauda.io/v1
    kind: Inspection
    metadata:
      annotations:
        cpaas.io/creator: admin
        cpaas.io/display-name: ""
        cpaas.io/updated-at: "2025-02-24T05:57:46Z"
      creationTimestamp: "2025-02-24T05:57:46Z"
      generation: 1
      labels:
        inspection.middleware.io/cluster: business-1
        inspection.middleware.io/component: mysqlcluster
        inspection.middleware.io/namespace: tongrds-1
        inspection.middleware.io/project: tongrds
        inspection.middleware.io/trigger: Schedule
      name: ins1
      namespace: tongrds-1
      resourceVersion: "58781609"
      uid: 530410bc-8d12-476c-b82c-034c9ac4d3ae
    spec:
      component: mysqlcluster
      instances:
      - name: '*'
      jobsHistoryLimit: 1
      schedule: 30 18 25 12 *
      trigger: Schedule
    status:
      lastJobStatus: ""
      message: ""
    ```

    ::: info

    需要注意的是，用户只能更新 `spec` 结构中的字段；`status` 和 `metadata` 结构中的字段是只读的。

    :::
  </Tab>
</Tabs>

### 删除检查任务

删除检查任务类似于删除其他 K8S 资源。可以使用 `kubectl delete` 命令删除检查任务。

```shell
kubectl delete -n <namespace> inspection <inspection_name>
```

::: info

需要注意的是，根据设计，`inspectionjob` 和 `inspection` 是一一对应的。因此，当删除一个 `inspection` 时，相关的 `inspectionjob` 将被自动删除。

:::
