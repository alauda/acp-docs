# 创建实例

## 功能简介
在Kubernetes集群中创建和管理MySQL-MGR数据库实例。通过配置资源规格、参数模板、账户信息等参数，快速部署符合需求的MySQL Group Replication集群。

## 前提条件
- 确保集群已安装MySQL-MGR Operator
- 集群存储类支持动态卷供应（推荐TopoLVM）
- 确保有足够的资源配额

## 操作步骤
<Tabs>
<Tab label="命令行操作">
1. 创建实例CR
```bash
kubectl apply -n $namespace -f - <<EOF
apiVersion: mysql.alauda.io/v1
kind: MySQLCluster
metadata:
  name: $name
spec:
  replicas: 3
  version: "8.0"
  storage:
    size: 20Gi
    storageClassName: sc-topolvm
  resources:
    requests:
      cpu: 2
      memory: 4Gi
    limits:
      cpu: 4  
      memory: 8Gi
  config:
    groupReplication:
      bootstrap: true
      allowSinglePrimary: false
EOF
```

2. 验证实例状态
```bash
kubectl get mysqlcluster -n $namespace $name -w
```
</Tab>

<Tab label="界面操作">
1. 在左侧导航栏选择 **MySQL-MGR**
2. 进入目标命名空间
3. 点击 **创建实例**
4. 配置基本参数：
   - 实例名称：唯一标识符
   - 副本数：建议3节点起
   - MySQL版本：8.0+
5. 配置存储：
   - 存储类：选择TopoLVM
   - 存储大小：根据业务需求
6. 配置资源：
   - CPU/Memory请求与限制
7. 高级配置：
   - 组复制模式（单主/多主）
   - 初始化引导配置
8. 点击 **创建** 并等待状态变为运行中
</Tab>
</Tabs>
