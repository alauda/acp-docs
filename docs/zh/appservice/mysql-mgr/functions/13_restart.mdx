# 实例重启

## 安全重启流程
1. 将节点切换为只读模式
2. 排空应用连接
3. 停止MySQL进程
4. 更新配置/二进制文件
5. 启动并验证服务
6. 重新加入集群

## 操作步骤
<Tabs>
<Tab label="命令行操作">
1. 优雅重启
```bash
kubectl annotate mysqlcluster $name -n $namespace \
  "restart.alauda.io/at=$(date +%s)"
```

2. 滚动重启
```bash
kubectl rollout restart mysqlcluster $name -n $namespace
```

3. 强制重启
```bash
kubectl delete pod -n $namespace $name-primary --force
```
</Tab>

<Tab label="界面操作">
1. 进入实例 **运维操作**
2. 选择重启类型：
   - 普通重启：滚动更新
   - 强制重启：立即终止
3. 观察重启过程：
   - 节点状态变化
   - 故障转移过程
4. 验证服务：
   ```
   SELECT @@group_replication_primary_member;
   ```
5. 查看事件日志
</Tab>
</Tabs>
