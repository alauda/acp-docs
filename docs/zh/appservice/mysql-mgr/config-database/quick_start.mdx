---
weight: 30
---

# 快速开始

本指南将帮助您通过参数模板快速创建和配置 MySQL-MGR 实例，简化配置过程，让您能够迅速部署高可用的数据库服务。

## 前提条件

在开始之前，请确保您已满足以下条件：

- 已安装并配置好容器平台
- 拥有创建数据库实例的权限
- 了解基本的 MySQL 配置参数

## 选择合适的参数模板

MySQL-MGR 提供了多种预设的参数模板，针对不同的应用场景进行了优化。常用的模板包括：

- **通用型**：适合大多数应用场景，参数设置平衡了性能和稳定性。
- **内存优化型**：针对内存密集型应用优化，提高缓存利用率。
- **OLTP 型**：针对在线事务处理场景优化，提高并发处理能力。
- **OLAP 型**：针对分析处理场景优化，提高复杂查询性能。

您可以通过以下步骤查看和选择参数模板：

1. 登录容器平台 Web 控制台
2. 导航至「应用服务」→「统一运维管理」→「参数模板管理」
3. 在模板列表中，筛选 MySQL-MGR 相关的模板
4. 点击模板名称查看详细参数配置

## 使用参数模板创建实例

### 通过 Web 控制台创建

1. 导航至「应用服务」→「MySQL-MGR」
2. 点击「创建实例」按钮
3. 填写实例基本信息：
   - 名称：输入实例名称
   - 命名空间：选择部署实例的命名空间
   - 版本：选择 MySQL 版本
4. 配置实例规格：
   - 副本数：建议选择 3 个副本以保证高可用
   - CPU、内存、存储：根据需求选择
5. 在「参数配置」部分：
   - 选择「使用参数模板」
   - 从下拉列表中选择您需要的参数模板
6. 设置访问凭证和其他必要配置
7. 点击「创建」按钮提交

系统将使用选定的参数模板创建 MySQL-MGR 实例，这个过程通常需要几分钟时间。

### 使用 CLI 创建

您也可以使用命令行工具，通过参数模板快速创建 MySQL-MGR 实例：

```bash
kubectl apply -f - <<EOF
apiVersion: apps.kubeblocks.io/v1alpha1
kind: Cluster
meta
  name: my-mgr-demo
  namespace: default
spec:
  clusterDefinitionRef: mysql-mgr
  clusterVersionRef: mysql-8.0.30
  terminationPolicy: WipeOut
  affinity:
    podAntiAffinity: Preferred
    topologyKeys:
      - kubernetes.io/hostname
  tolerations: []
  replicas: 3
  resources:
    cpu: "2"
    memory: 4Gi
  storage:
    size: 20Gi
    storageClassName: standard
  services:
    - name: mysql
      serviceType: ClusterIP
  parameterTemplate: "mysql-mgr-oltp-template"  # 指定参数模板
  initializeConfig:
    rootPassword: "MySQLPassword123"
EOF
```

## 验证参数配置

实例创建成功后，您可以验证参数模板是否正确应用：

1. 连接到 MySQL-MGR 实例：

```bash
mysql -h <实例连接地址> -P <端口> -u root -p
```

2. 查看当前参数配置：

```
SHOW VARIABLES LIKE 'innodb_buffer_pool_size';
SHOW VARIABLES LIKE 'max_connections';
SHOW VARIABLES LIKE 'group_replication%';
```

3. 比对参数值与模板中的设置，确认参数已正确应用。

## 自定义参数模板

如果预设的参数模板不能完全满足您的需求，您可以创建自定义参数模板：

1. 导航至「应用服务」→「统一运维管理」→「参数模板管理」
2. 点击「创建模板」按钮
3. 选择 MySQL-MGR 作为模板类型
4. 您可以：
   - 从头创建新模板
   - 基于现有模板创建（推荐）：选择一个接近您需求的模板作为基础
5. 修改参数值以满足您的特定需求
6. 为模板命名并保存
7. 在创建新实例时，选择您的自定义模板

## 应用参数模板到现有实例

您也可以将参数模板应用到已经创建的 MySQL-MGR 实例：

1. 导航至「应用服务」→「MySQL-MGR」→「实例列表」
2. 选择目标实例，进入实例详情页
3. 在「参数配置」标签页中，点击「修改配置」
4. 选择「使用参数模板」，并从下拉列表中选择所需模板
5. 点击「确认」应用更改

系统将应用新的参数配置，某些参数可能需要重启实例才能生效。

## 后续步骤

成功使用参数模板创建 MySQL-MGR 实例后，您可以进一步：

- [连接数据库实例](./connect_database.mdx)：了解如何连接和访问数据库
- [参数配置详解](./parameter_config.mdx)：深入了解重要参数的配置和优化
- [管理数据库实例](../manage-database/intro.mdx)：学习实例的日常管理操作

通过参数模板，您可以快速部署配置优化的 MySQL-MGR 实例，为您的应用提供高性能、高可用的数据库服务。
