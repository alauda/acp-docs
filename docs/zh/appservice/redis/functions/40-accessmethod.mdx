---
weight: 40
---

# 访问方式

业务应用访问 Redis 实例时有多种连接方式，本节描述了如何选择连接地址，并通过连接地址访问到哨兵模式或集群模式 Redis 实例。

## 如何获取访问地址

Redis 实例支持多种访问地址来满足不同场景的需求。这里介绍的访问方式都是指 Redis 标准的的访问方式。具体可查看官方文档。[Redis 集群模式规范](https://redis.io/docs/latest/operate/oss_and_stack/reference/cluster-spec/)，[Redis 哨兵模式客户端规范](https://redis.io/docs/latest/develop/reference/sentinel-clients/)。

### 集群内访问地址

集群内访问只可用于 Kubernetes 网络内部访问。连接的地址有两个选择：

1. 内部路由 (即通过 DNS 方式)
2. 内部路由的 IP

这两种方式都能实现访问 Redis 集群模式或者哨兵模式。

地址获取路径：**实例详情** > **访问方式** > **集群内访问**

### 集群外访问地址

集群外访问可用于 Kubernetes 网络外部访问，比如从另一个 Kubernetes 集群访问(也可用于 Kubernetes 集群内部访问，这个还需要确认防火墙规则，是否允许)。

目前集群外访问是通过 Redis 的 announce 配置绑定每个 Pod 对应 Service 的 Nodeport来实现的。

地址获取路径：**实例详情** > **访问方式** > **集群外访问**

## 连接访问

举例展示了 Jedis、 Lettuce, Redission, go-redis 客户端如何访问 Redis 实例。更多客户端连接示例请参考社区。

### 哨兵模式

每个哨兵实例，对应的集群名称都是 `mymaster`。

Redis 实例的连接示例请参考 [访问实例（哨兵模式）]()

### 集群模式

默认当一个分片不可用时，整个集群将不可用。因而集群模式访问地址只暴露了一个分片的地址。可以根据需要获取到集群模式所有 Pod 对应的 Nodeport 地址，并填写到连接配置里。

Redis 实例的连接示例请参考 [访问实例（集群模式）]()
