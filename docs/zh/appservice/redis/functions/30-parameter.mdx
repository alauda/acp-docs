---
weight: 30
---

# 参数配置

创建 Redis 实例时默认使用系统参数模板。您也可在参数模板中自定义配置。

Redis 参数配置分为3类:

| 名称           | 参数     | 说明                                                                            |
|:---------------|:---------|:--------------------------------------------------------------------------------|
| 热更新参数     |          | 参数设置之后直接生效，不需要重启实例。                                          |
| 重启更新参数   | `databases`,`rename-command`,`rdbchecksum`,`tcp-backlog`,`io-threads`,`io-threads-do-reads` | 参数更新之后，需要重启实例才生效                                                |
| 不支持更新参数 | `bind`,`protected-mode`,`port`,`supervised`,`pidfile`,`dir` 等 | 部分参数是内置参数，或者在实例初始化之后，更新参数会引起实例异常，从而不可更改。|


更新参数需要注意以下内容:

* 更新参数前，请确认参数是否是热更新参数，如果更新参数中包含需要重启更新的参数，建议体检做好数据备份。
* Redis 版本升级后，如果有需要删除、废弃或变更的参数配置，请查阅 [Redis 官网](https://redis.io/topics/config) 对应修改。

## 操作步骤

<Tabs>

<Tab label="CLI">

<br/>
##### 数据节点参数

实例的数据节点参数参数配置通过 Redis CR 资源的 `spec.customConfig` 字段来指定。参数的具体说明可参考 [API 文档](/apis/kubernetes_apis/appservice/redis/redis)。

```bash
# 更新 s6 实例的数据节点配置
kubectl -n default patch redis s6 --type=merge --patch='{"spec": {"customConfig": {"save":"600 1"}}}'
```

##### 哨兵节点参数

数据节点注册到哨兵节点的参数如下配置:

> 目前只支持 `down-after-milliseconds`,`failover-timeout`,`parallel-syncs` 这3个参数。

```bash
# 更新 s6 实例的哨兵节点配置
kubectl -n default patch redis s6 --type=merge --patch='{"spec": {"sentinel": {"monitorConfig": {"down-after-milliseconds":"30000","failover-timeout":"180000","parallel-syncs":"1"}}}}'
```

</Tab>


<Tab label="Web Console">

1. 在左侧导航栏中，单击 **Redis**。

2. 单击 ***命名空间的名称***。

2. 单击 ***实例名称*** 。

3. 在 **参数配置** 页签下，单击 **更新实例参数** 或 **更新哨兵参数**。

4. 设置参数。

5. 单击 **更新**。

</Tab>

</Tabs>
