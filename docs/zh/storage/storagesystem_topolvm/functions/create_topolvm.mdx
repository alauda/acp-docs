---
weight: 10
---

# 创建存储集群


本地存储是一种软件定义的服务器本地存储方案，提供简单、易维护和高性能的本地存储服务能力。基于社区的 TopoLVM 方案，通过系统的 LVM 方式来实现本地存储的持久卷编排管理。

## 前提条件

存储集群的每个节点上均需安装 lvm2 软件包。如未安装，请在节点上执行 `yum install -y lvm2` 命令。

## 操作步骤

1. 进入 **平台管理**。

1. 在左侧导航栏中，单击 **存储管理** > **本地存储**。

3. 单击 **立即配置**。

3.  在 **安装 Operator** 向导页中，单击 **开始部署**。
      
    *   待页面自动进入下一步时，说明 Operator 部署成功。        
        
    *   如果部署失败，请参考界面提示处理。随后单击 **清理**，并重新部署 Operator。

3.  在 **创建集群** 向导页中，添加设备。  

    |参数| 说明                                                         |
    | ---------------- | ------------------------------------------------------------ |
    | **选择节点**   | 指至少具备 1 块裸盘的节点。 |
    | **设备类**  | 每个设备类对应一组相同特性的存储设备，建议根据磁盘性质填写名称，例如 *hdd*、*ssd*。|
    | **设备类型**  | 仅支持磁盘类型。|
    | **存储设备**   | 例如 */dev/sda*。如有多个盘，可逐个添加。|
    | **快照** | 开启后，支持创建 PVC 快照并使用快照配置新的 PVC，以快速备份恢复业务数据。<br/>若创建存储时未开启快照，您仍可以在存储集群详情页面的 **操作** 中按需开启。<br/>**注意**：使用前请确保已为当前集群 [部署卷快照插件](/storage/pv_snapshot/functions/snapshot_con.mdx)。| 


     * 单击下一步，待页面自动进入下一步时，说明集群部署成功。
     
     * 如果创建失败，请参考界面提示及时清理资源。

3.  在 **创建存储类** 向导页中，配置相关参数。  

    |参数|说明                                                         |
    | -------- | ----------------  | 
    | **名称**   | 存储类的名称。需在当前集群中唯一。 |
    | **显示名称**   | 可帮助您进行识别或筛选的名称，例如存储类的中文描述。 |
    | **设备类**   | 设备类是 TopoLVM 中用于对存储设备进行分类的方式，每个设备类中对应一组相同特性的存储设备。如无特殊要求，可使用集群 **自动分配** 的设备类。|
    | **文件系统**   | - **XFS** 是一种高性能的日志文件系统。擅长处理并行 I/O 工作负载，支持处理大型文件，且能平滑进行数据传输。 <br/>- **EXT4** 是 Linux 下的一种日志文件系统，提供 extent 文件存储方式，支持处理大型文件。文件系统容量可达 1 EiB，支持的文件大小可达 16 TiB。|
    | **回收策略**   | 持久卷的回收策略。<br/>- 删除：删除持久卷声明的同时，也会删除绑定的持久卷。<br/>- 保留：即使删除持久卷声明，其绑定的持久卷仍会被保留。|
    | **访问模式**   | 单节点读写 (RWO)：可以被一个节点以读写方式挂载。|
    | **分配项目**   | 仅可在特定项目创建此类型的持久卷声明。<br/>如果暂不分配项目，也可后续 **更新项目**。|

2. 单击 **下一步**，等待资源创建完成。



