---
weight: 10
---

# 创建 PV


手工创建 **HostPath** 或 **NFS 共享存储** 类型的静态持久卷。

* **HostPath**：将容器所在宿主机的文件目录挂载到容器的指定路径中（即对应 Kubernetes 的 HostPath），使容器可以使用宿主机的文件系统实现持久化存储。如果主机异常，则可能无法访问 HostPath。

* **NFS 共享存储**：NFS 共享存储使用的是基于社区 NFS CSI（Container Storage Interface）存储插件，更贴合 Kubernetes 设计理念，可以为多个服务端提供客户端的接入能力。使用前请确保当前集群已部署 **NFS 存储插件**。

## 前提条件

* 确认要创建持久卷的容量大小，并确保后端存储当前有提供相应存储容量的能力。

* 获取后端存储存储访问地址、待挂载的文件路径、凭证访问（如果需要）等信息。

## 操作步骤

1. 进入 **平台管理**。

1. 在左侧导航栏中，单击 **存储管理** > **持久卷(PV)**。


3. 单击 **创建持久卷**。
4. 参考以下说明并进行参数配置后，单击 **创建**。

### 存储信息
    
<table>
<thead>
<tr>
<th>类型</th>
<th>参数</th>
<th>说明</th>
</tr>
</thead>

<tbody>
<tr>
<td>HostPath</td>
<td>路径</td>
<td>作为后端存储卷的节点上文件目录的路径。例如：<code>/etc/kubernetes</code>。</td>
</tr>
<tr>
<td rowSpan={3}>NFS 共享存储</td>
<td>服务器地址</td>
<td>NFS 服务器的访问地址。</td>
</tr>
<tr>
<td>路径</td>
<td>NFS 文件系统在服务器节点中的挂载路径，例如 <code>/nfs/data</code>。</td>
</tr>
<tr>
<td>NFS 协议版本</td>
<td>目前平台支持的 NFS 协议版本有 <code>v3</code>、<code>v4.0</code>、<code>v4.1</code> 三个版本。在服务器端您可以执行 <code>nfsstat -s</code> 查看版本信息。</td>
</tr>
</tbody>
</table>


### 访问模式
     
指持久卷的访问模式，受后端存储的相关参数设置影响。
    
|访问模式| 含义                           |
| ---------------- | ------------------------------ |
|**单节点读写 (RWO)**| 可以被一个节点以读写方式挂载。 |
|**多节点读写 (RWX)**| 可以被多个节点以读写方式挂载。 |
|**多节点只读 (ROX)**| 可以被多个节点以只读方式挂载。 |

### 回收策略   
    
|回收策略| 含义                                                         |
| -------- | ------------------------------------------------------------ |
|**删除**| 删除持久卷声明的同时，也会删除绑定的持久卷，以及后端存储卷资源。 <br/>**提示**：NFS 共享存储类型的 PV 回收策略不支持 **删除**。|
|**保留**| 即使删除持久卷声明，其绑定的持久卷和存储数据仍会被保留。后续需要手工处理存储数据，以及手工删除持久卷。 |

## 相关操作

您可以在列表页面单击右侧的 ⋮ 或在详情页面单击右上角的 **操作**，按需更新或删除持久卷。

删除持久卷适用于如下两种场景：

* 删除未被绑定的持久卷：不曾写入数据，也不再需要写入数据，删除后可释放相应存储空间。

* 删除 **待回收** 的持久卷：持久卷声明已经被删除，但因为持久卷回收策略为 保留 而未被同时删除。如果持久卷中的数据已另存于其他存储，或不再需要持久卷中的数据，删除后可释放相应存储空间。


