---
weight: 20
title: Release Notes
---

# Release Notes

## 4.1.0

### Features and Enhancements

#### Immutable Infrastructure

Released:

* **Alauda Container Platform DCS Infrastructure Provider**
* **Alauda Container Platform Kubeadm Provider**

Both plugins have an *Agnostic* lifecycle and release asynchronously with Alauda Container Platform (ACP).

* **DCS Infrastructure Provider** implements the Cluster API Infrastructure Provider interface, integrating with Huawei Datacenter Virtualization Solution (DCS).
* **Kubeadm Provider** installs and configures the Kubernetes control plane and nodes on VMs provisioned by the infrastructure provider.

Together, these plugins enable fully automated cluster management on DCS.

Documentation is under preparation and will be published in the online documentation upon release.

#### Machine Configuration

Released: **Alauda Container Platform Machine Configuration**
Lifecycle: *Agnostic*, releases asynchronously with ACP.

Machine Configuration manages file updates, systemd units, and SSH public keys across cluster nodes, providing:

* `MachineConfig` CRD for writing configurations to hosts.
* `MachineConfigPool` CRD for grouping and managing node configurations based on role labels.
* Automatic creation of `master` and `worker` pools during cluster installation, with support for custom worker pools that inherit from the default worker pool.

The system continuously monitors configuration drift, marking affected nodes as *Degraded* until resolved.

For detailed feature information, see [Machine Configuration](/configure/machine_config/index.mdx).

#### etcd Encryption

Released: **Alauda Container Platform etcd Encryption Manager**
Lifecycle: *Agnostic*, releases asynchronously with ACP.

Provides periodic rotation of etcd data encryption keys on workload clusters using AES-GCM for secrets and configmaps. Supports seamless re-encryption and key reload without workload disruption, maintaining backward compatibility with the last 8 keys.

See [etcd Encryption](/configure/clusters/etcd-encryption.mdx) for details.

#### Kubernetes Certificates Rotator

Released: **Alauda Container Platform Kubernetes Certificates Rotator**
Lifecycle: *Agnostic*, releases asynchronously with ACP.

Enables automated rotation of certificates used by Kubernetes components.

See [Automated Rotate Kubernetes Certificates](/configure/clusters/k8s-cert-rotator.mdx) for details.

#### Cluster Enhancement

Released: **Alauda Container Platform Cluster Enhancer**
Lifecycle: *Aligned*.

New features and changes:

* **etcd Backup**: Migrated etcd backup functionality from Backup & Recovery to Cluster Enhancer due to differences in usage and implementation. Optimized the deployment method to avoid conflicts during configuration changes and upgrades.
* **Event Cleanup**: Implements active cleanup of expired Kubernetes events externally to prevent accumulation in etcd, reducing etcd load and instability risks during restarts.
* **Certificate Monitoring**: Converts certificate management into certificate monitoring with alert rules and dashboards, replacing the previous Certificates management functionality. Implements a more efficient monitoring approach while monitoring loopback certificates used by kube-apiserver.
* **Cluster Monitoring Dashboard Migration**: Migrates cluster monitoring resources from `chart-cpaas-monitor` to Cluster Enhancer.
* **Cluster Details Chart Migration**: Switches monitoring charts in cluster details to custom monitoring dashboards.

#### Chinese Language Pack

Chinese language support has been decoupled from the platform and released as the **Chinese Language Pack** plugin. The platform defaults to English upon installation; users can install this plugin if Chinese language support is needed.

#### Create On-Premise Cluster

From ACP 4.1 onward, creating on-premise clusters supports only the latest Kubernetes version provided by the platform, replacing the previous option to choose among four Kubernetes versions.

#### Logs

- Upgraded ClickHouse to version v25.3.
- Added `POD IP` tags to application logs, allowing filtering by `POD IP`.
- Improved standard output log collection: The timestamp field now reflects the actual print time of the log, instead of the collection component's time, ensuring logs are displayed in the correct order.

#### Monitoring

- Upgraded Prometheus to version v3.5.0.
- Custom variables now support three types: Constant, Custom, and Textbox.
    - **Constant:** A fixed value that does not change.
    - **Custom:** A value selected from a predefined list.
    - **Textbox:** A value entered manually by the user.
- Stat Chart now supports Graph mode, which displays a trend curve for the selected period below the statistic.
- Value Mapping now supports regular expressions and special values.
- Panels can now be copied, allowing you to duplicate a panel within the current dashboard.

#### Tenant Management

- Project quotas now support custom resource quotas and storage class quotas.
- The plugin provides new metrics: `cpaas_project_resourcequota` and `cpaas_project_resourcequota_aggregated`, which can be used to display project quotas in dashboards.
    - `cpaas_project_resourcequota`: Available in every cluster.
    - `cpaas_project_resourcequota_aggregated`: Available in the `global` cluster and aggregates data from all clusters.
- Custom Roles now have additional restrictions, allowing assignment of permissions only within the corresponding role type:
    - **Platform Role:** Can assign all permissions.
    - **Project Role:** Can assign only permissions within the scope of the platform's preset `project-admin-system` role.
    - **Namespace Role:** Can assign only permissions within the scope of the platform's preset `namespace-admin-system` role.
    - Permissions that the current user does not possess cannot be assigned.

### Deprecated and Removed Features

#### Docker Runtime Removal

Previously, the platform provided Docker runtime images even though it was not the default runtime for new clusters. Starting with ACP 4.1, Docker runtime images will no longer be provided by default.

### Fixed Issues
{/* release-notes-for-bugs?template=acp_fixed_4.1.0 */}

### Known Issues
{/* release-notes-for-bugs?template=acp_known_issues_4.1.0 */}
