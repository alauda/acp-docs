---
weight: 10
sourceSHA: 43c205dddc9e388e85534a59523781e91fd162be11d7944847ee072df7a84cfa
---

# Log Plugin Deployment

The platform's logging system consists of two plugins: Log Collector and Log Storage. This chapter will introduce you to the deployment of these two plugins.

:::warning

1. After the successful deployment of the Log Storage plugin, the cluster where the component is deployed can be used as the storage cluster for various clusters in the platform (optional during the deployment of the Log Collector plugin) to provide log storage services for all clusters in the platform.

2. The global cluster can query the log data stored on any business cluster within the platform. Ensure that the global cluster can access port 11780 of the business cluster.

3. The Log Storage with Clickhouse plugin and the Log Storage with ElasticSearch plugin cannot be deployed in the same cluster. Please read the [Selection Suggestions](../architecture/component_suggestion.mdx) and choose to deploy one of the log storage plugins.

:::

## Deploy Log Storage with ElasticSearch

1. Navigate to **App Store Management** > **Cluster Plugin** and select the target cluster.

2. In the **Plugins** tab, click the action button to the right of **Log Storage with ElasticSearch** > **Deploy**.

3. Refer to the following instructions to configure relevant parameters.

   | Parameter                      | Description                                                                                                                                                                                                                                                                              |
   | ------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
   | **Connect External Elasticsearch** | Keep closed to deploy the log storage plugin within the platform.                                                                                                                                                                                                                   |
   | **Component Deployment Settings** | **LocalVolume**: Local storage, log data will be stored in the local storage path of the selected node. The advantage of this method is that the log component is directly bound to local storage, eliminating the need to access storage over the network and providing better storage performance.<br />**StorageClass**: Dynamically create storage resources using storage classes to store log data. The advantage of this method is a higher degree of flexibility; when multiple storage classes are defined for the entire cluster, administrators can select the corresponding storage class for the log components based on usage scenarios, reducing the impact of host malfunction on storage. However, the performance of StorageClass may be affected by factors such as network bandwidth and latency, and it relies on the redundancy mechanisms provided by the storage backend to achieve high availability of storage. |
   | **Retention Period**               | The maximum time logs, events, and audit data can be retained on the cluster. Data exceeding the retention period will be automatically cleaned up.<br />**Tip**: You may back up data that needs to be retained for a long time. If you need assistance, please contact technical support personnel. |

4. Click **Deploy**.

## Deploy Log Storage with Clickhouse

1. Navigate to **App Store Management** > **Cluster Plugin** and select the target cluster.

2. In the **Plugins** tab, click the action button to the right of **Log Storage with Clickhouse** > **Deploy**.

3. Refer to the following instructions to configure relevant parameters.

   | Parameter                      | Description                                                                                                                                                                                                                                                                              |
   | ------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
   | **Component Deployment Settings** | **LocalVolume**: Local storage, log data will be stored in the local storage path of the selected node. The advantage of this method is that the log component is directly bound to local storage, eliminating the need to access storage over the network and providing better storage performance.<br />**StorageClass**: Dynamically create storage resources using storage classes to store log data. The advantage of this method is a higher degree of flexibility; when multiple storage classes are defined for the entire cluster, administrators can select the corresponding storage class for the log components based on usage scenarios, reducing the impact of host malfunction on storage. However, the performance of StorageClass may be affected by factors such as network bandwidth and latency, and it relies on the redundancy mechanisms provided by the storage backend to achieve high availability of storage. |
   | **Retention Period**               | The maximum time logs, events, and audit data can be retained on the cluster. Data exceeding the retention period will be automatically cleaned up.<br />**Tip**: You may back up data that needs to be retained for a long time. If you need assistance, please contact technical support personnel. |

4. Click **Deploy**.

## Deploy Log Collector Plugin

1. Navigate to **App Store Management** > **Cluster Plugin** and select the target cluster.

2. In the **Plugins** tab, click the action button to the right of **Log Collector** > **Deploy**.

3. Select the **Storage Cluster** (where Log Storage has been deployed) and click ***Select/Deselect*** log types to set the scope of log collection in the cluster.

4. Click **Deploy**.
