---
weight: 30
i18n:
  title:
    en: Creating applications from Image
    zh: 通过 Image 创建应用
---

# Creating applications from Image

## Prerequisites

Obtain the image address. The source of the images can be from the image repository integrated by the platform administrator through the toolchain or from third-party platforms' image repositories.

- For the former, the Administrator typically assigns the image repository to your project, and you can use the images within it. If the required image repository is not found, please contact the Administrator for allocation.

- If it is a third-party platform's image repository, ensure that images can be pulled directly from it in the current cluster.

## Procedure 1 - Workloads

1. **Container Platform**, navigate to **Applications** > **Applications** in the left sidebar.

2. Click **Create**.

3. Choose **Create from Image** as the creation approach.

4. **Select** or **Input** an image, and click **Confirm**.

:::info
**Note**: When using images from the image repository integrated into web console, you can filter images by **Already Integrated**. The **Integration Project Name**, for example, images (docker-registry-projectname), which includes the project name projectname in this web console and the project name containers in the image repository.
:::

6. Refer to the following instructions to configure the related parameters.

### Workload 1 - Configure Basic Info \{#updatepolicy}

In the **Workload** > **Basic Info** section, configure declarative parameters for workloads

| **Parameters**                 | **Description**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| :----------------------------- | :---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Model**                      | Select a workload as needed: <ul><li>**Deployment**: For detailed parameter descriptions, please refer to [Creating Deployment](../application_workloads/deployment_create.mdx).</li><li>**DaemonSet**: For detailed parameter descriptions, please refer to [Creating DaemonSet](../application_workloads/deamonset_create.mdx).</li><li>**StatefulSet**: For detailed parameter descriptions, please refer to [Creating StatefulSet](../application_workloads/statefulset_create.mdx).</li></ul>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| **Replicas**                   | Defines the desired number of Pod replicas in the Deployment (default: `1`). Adjust based on workload requirements.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| **More** > **Update Strategy** | Configures the `rollingUpdate` strategy for zero-downtime deployments: <br/> **Max surge** (`maxSurge`): <ul><li>Maximum number of Pods that can exceed the desired replica count during an update. </li><li> Accepts absolute values (e.g., `2`) or percentages (e.g., `20%`). </li><li> Percentage calculation: `ceil(current_replicas × percentage)`. </li><li>Example: 4.1 → `5` when calculated from 10 replicas. </li></ul> **Max unavailable** (`maxUnavailable`): <ul><li> Maximum number of Pods that can be temporarily unavailable during an update. </li><li>Percentage values cannot exceed `100%`. </li><li>Percentage calculation: `floor(current_replicas × percentage)`. </li><li> Example: 4.9 → `4` when calculated from 10 replicas. </li></ul> **Notes**: <br/> 1. **Default values**: `maxSurge=1`, `maxUnavailable=1` if not explicitly set. <br/> 2. **Non-running Pods** (e.g., in `Pending`/`CrashLoopBackOff` states) are considered unavailable. <br/> 3. **Simultaneous constraints**: <ul><li> `maxSurge` and `maxUnavailable` cannot both be `0` or `0%`. </li><li>If percentage values resolve to `0` for both parameters, Kubernetes forces `maxUnavailable=1` to ensure update progress. </li></ul> **Example**: <br/> For a Deployment with 10 replicas: <br/><ul><li> `maxSurge=2` → Total Pods during update: `10 + 2 = 12`. </li><li>`maxUnavailable=3` → Minimum available Pods: `10 - 3 = 7`. </li><li> This ensures availability while allowing controlled rollout. </li></ul> |

### Workload 2 - Configure Pod

**Note**: In mixed-architecture clusters deploying single-architecture images, ensure proper [Node Affinity Rules](#schuconf) are configured for Pod scheduling.

1. **Pod** section, configure container runtime parameters and lifecycle management:

   | **Parameters**                    | **Description**                                                                                                                                                                                                                                                                                         |
   | :-------------------------------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
   | **Volumes**                       | Mount persistent volumes to containers. Supported volume types include `PVC`, `ConfigMap`, `Secret`,`emptyDir`, `hostPath`, and so on. For implementation details, see [Storage Volume Mounting Instructions](#pvmount).                                                                                |
   | **Image Credential**              | Required **only** when pulling images from third-party registries (via manual image URL input). <br /> **Note**: Images from the platform's integrated registry automatically inherit associated secrets.                                                                                               |
   | **More** > **Close Grace Period** | Duration (default: `30s`) allowed for a Pod to complete graceful shutdown after receiving termination signal. <br /> - During this period, the Pod completes inflight requests and releases resources. <br /> - Setting `0` forces immediate deletion (SIGKILL), which may cause request interruptions. |

<a id="schuconf" />

2. **Node Affinity Rules**

| **Parameters**               | **Description**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| ---------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **More** > **Node Selector** | Constrain Pods to nodes with specific labels (e.g., `kubernetes.io/os: linux`).<br/>![Node OS Selector](../application_workloads/assets/nodeselector_os.png)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| **More** > **Affinity**      | Define fine-grained scheduling rules based on existing Pods.<br/><br/>**Pod Affinity Types**:<br/><ul><li><strong>Inter-Pod Affinity</strong>: Schedule new Pods to nodes hosting specific Pods (same topology domain).</li><li><strong>Inter-Pod Anti-affinity</strong>: Prevent co-location of new Pods with specific Pods.</li></ul><br/><strong>Enforcement Modes</strong>:<br/><ul><li><strong>RequiredDuringSchedulingIgnoredDuringExecution</strong>: Pods are scheduled <em>only</em> if rules are satisfied.</li><li><strong>PreferredDuringSchedulingIgnoredDuringExecution</strong>: Prioritize nodes meeting rules, but allow exceptions.</li></ul><br/><strong>Configuration Fields</strong>:<br/><ul><li><code>topologyKey</code>: Node label defining topology domains (default: <code>kubernetes.io/hostname</code>).</li><li><code>labelSelector</code>: Filters target Pods using label queries.</li></ul> |

3. **Network Configuration**
   - Kube-OVN
     | **Parameters** | **Description** |
     |:--------------------------|:--------------------------|
     | **Bandwidth Limits** | Enforce QoS for Pod network traffic: <ul><li>**Egress rate limit**: Maximum outbound traffic rate (e.g., `10Mbps`). </li><li>**Ingress rate limit**: Maximum inbound traffic rate.</li></ul> |
     | **Subnet** | Assign IPs from a predefined subnet pool. If unspecified, uses the namespace's default subnet. |
     | **Static IP Address** | Bind persistent IP addresses to Pods: <ul><li>Multiple Pods across Deployments can claim the same IP, but only one Pod can use it concurrently. </li><li>**Critical**: Number of static IPs must ≥ Pod replica count. </li></ul>|
   - Calico
     | **Parameters** | **Description** |
     |:--------------------------|:--------------------------|
     | **Static IP Address** | Assign fixed IPs with strict uniqueness: <ul><li>Each IP can be bound to **only one Pod** in the cluster. </li><li> **Critical**: Static IP count must ≥ Pod replica count.</li></ul> |

### Workload 3 - Configure Containers

1. **Container** section, refer to the following instructions to configure the relevant information.
   | **Parameters** | **Description** |
   |:--------------------------|:--------------------------|
   | **Resource Requests & Limits** | <ul><li>**Requests**: Minimum CPU/memory required for container operation.</li><li>**Limits**: Maximum CPU/memory allowed during container execution. For unit definitions, see [Resource Units](../concepts/unit.mdx).</li></ul>**Namespace overcommit ratio**:<ul><li>**Without overcommit ratio**:<br />If namespace resource quotas exist: Container requests/limits inherit namespace defaults (modifiable).<br /> No namespace quotas: No defaults; custom Request.</li><li>**With overcommit ratio**:<br />Requests auto-calculated as `Limits / Overcommit ratio` (immutable).</li></ul> **Constraints**:<ul><li>Request ≤ Limit ≤ Namespace quota maximum.</li><li>Overcommit ratio changes require pod recreation to take effect.</li><li>Overcommit ratio disables manual request configuration.</li><li>No namespace quotas → no container resource constraints.</li></ul> |
   | **Extended Resources** | Configure cluster-available extended resources (e.g., vGPU, pGPU).|
   | **Volume Mount** | Persistent storage configuration. See [Storage Volume Mounting Instructions](#pvmount).<br />**Operations**:<ul><li>Existing pod volumes: Click **Add**</li><li>No pod volumes: Click **Add & Mount**</li></ul>**Parameters**:<ul><li>`mountPath`: Container filesystem path (e.g., `/data`)</li><li>`subPath`: Relative file/directory path within volume.<br /> For `ConfigMap`/`Secret`: Select specific key</li><li>`readOnly`: Mount as read-only (default: read-write)</li></ul>See [Kubernetes Volumes](https://kubernetes.io/docs/concepts/storage/volumes/). |
   | **Port** | Expose container ports.<br />**Example**: Expose TCP port `6379` with name `redis`.<br />**Fields**:<ul><li>`protocol`: TCP/UDP</li><li>`Port`: Exposed port (e.g., `6379`)</li><li>`name`: DNS-compliant identifier (e.g., `redis`)</li></ul> |
   | **Startup Commands & Arguments** | Override default ENTRYPOINT/CMD:<br />**Example 1**: Execute `top -b`<br />- **Command**: `["top", "-b"]`<br />- **OR** Command: `["top"]`, Args: `["-b"]`<br />**Example 2**: Output `$MESSAGE`:<br />`/bin/sh -c "while true; do echo $(MESSAGE); sleep 10; done"`<br />See [Defining Commands](https://kubernetes.io/docs/tasks/inject-data-application/define-command-argument-container/). |
   | **More** > **Environment Variables** | <ul><li>Static values: Direct key-value pairs</li><li>Dynamic values: Reference ConfigMap/Secret keys, pod fields (`fieldRef`), resource metrics (`resourceFieldRef`)</li></ul>**Note**: Env variables override image/configuration file settings.|
   | **More** > **Referenced ConfigMap** | Inject entire ConfigMap/Secret as env variables. Supported Secret types: `Opaque`, `kubernetes.io/basic-auth`.|
   | **More** > **Health Checks**| <ul><li>**Liveness Probe**: Detect container health (restart if failing)</li><li>**Readiness Probe**: Detect service availability (remove from endpoints if failing)</li></ul>See [Health Check Parameters](#healthcheck).|
   | **More** > **Log File** | Configure log paths:<br />- Default: Collect `stdout`<br />- File patterns: e.g., `/var/log/*.log`<br />**Requirements**:<ul><li>Storage driver `overlay2`: Supported by default</li><li>`devicemapper`: Manually mount EmptyDir to log directory</li><li>Windows nodes: Ensure parent directory is mounted (e.g., `c:/a` for `c:/a/b/c/*.log`)</li></ul> |
   | **More** > **Exclude Log File** | Exclude specific logs from collection (e.g., `/var/log/aaa.log`). |
   | **More** > **Execute before Stopping** |Execute commands before container termination.<br />**Example**: `echo "stop"`<br />**Note**: Command execution time must be shorter than pod's `terminationGracePeriodSeconds`. |

2. Click **Add Container** (upper right) OR **Add Init Container**.

   See [Init Containers](https://kubernetes.io/docs/concepts/workloads/pods/init-containers/).
   Init Container:
   1. Start before app containers (sequential execution).
   2. Release resources after completion.
   3. Deletion allowed when:
      - Pod has >1 app container AND ≥1 init container.
      - Not allowed for single-app-container pods.

3. Click **Create**.

## Procedure 2 - Services

| **Parameters** | **Description**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| :------------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| **Service**    | Kubernetes **Service**, expose an application running in your cluster behind a single outward-facing endpoint, even when the workload is split across multiple backends.. For specific parameter explanations, please refer to [Creating Services](/configure/networking/functions/configure_service.mdx).<br/><br/>**Note** The default name prefix for the internal routing created under the application is the name of the compute component. If the compute component type (deployment mode) is StatefulSet, it is advisable not to change the default name of the internal routing (the name of the workload); otherwise, it may lead to accessibility issues for the workload. |

## Procedure 3 - Ingress

| **Parameters** | **Description**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| :------------- | :---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Ingress**    | Kubernetes **Ingress**, make your HTTP (or HTTPS) network service available using a protocol-aware configuration mechanism, that understands web concepts like URIs, hostnames, paths, and more. The Ingress concept lets you map traffic to different backends based on rules you define via the Kubernetes API. For detailed parameter descriptions, please refer to [Creating Ingresses](/configure/networking/functions/configure_ingress.mdx).<br/><br />**Note**: The **Service** used when creating **Ingress** under the application must be resources created under the current application. However, ensure that the **Service** is associated with the workload under the application; otherwise, service discovery and access for workload will fail. |

7. Click **Create**.

## Application Management Operations

To modify application configurations, use one of the following methods:

1. Click the vertical ellipsis (⋮) on the right side of the application list.
2. Select **Actions** from the upper-right corner of the application details page.

| **Operation** | **Description**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| :------------ | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Update**    | <ul><li>**Update**: Modifies only the target workload using its defined [update strategy](#updatepolicy) (Deployment strategy shown as example). Preserves existing replica count and rollout configuration. </li><li>**Force Update**: Triggers full application rollout using each component's update strategy. <br/>1. **Use cases**: <ul><li>Batch configuration changes requiring immediate cluster-wide propagation (e.g., ConfigMap/Secret updates referenced as environment variables). </li><li>Coordinated component restarts for critical security. </li></ul> 2. **Warning Caution**: <ul><li>May cause temporary service degradation during mass restarts. </li><li>Not recommended for production environments without business continuity validation.</li></ul></li><li>**Network Implications**: <ul><li>Ingress Rule Deletion: External access remains available via `LB_IP:NodePort` if: <br/> 1) LoadBalancer Service uses default ports. <br/> 2) Surviving routing rules reference application components. <br/>Full external access termination requires Service deletion.</li><li>Service Deletion: Irreversible loss of network connectivity to application components. Associated Ingress rules become non-functional despite API object persistence.</li></ul></li></ul> |
| **Delete**    | <ul><li>**Cascading Deletion**: <br/> 1. Removes all child resources including Deployments, Services, and Ingress rules. <br/> 2. Persistent Volume Claims (PVCs) follow retention policy defined in StorageClass</li><li>**Pre-deletion Checklist**: <br/> 1. Verify no active traffic through associated Services. <br/> 2. Confirm data backup completion for stateful components. <br/> 3. Check dependent resource relationships using `kubectl describe ownerReferences`.</li></ul>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |

## Reference Information

### Storage Volume Mounting Instructions \{#pvmount}

| **Type**                    | **Purpose**                                                                                                                                                                                                                                                                                                 |
| --------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Persistent Volume Claim** | Binds an existing [PVC](/configure/storage/functions/create_pvc.mdx) to request persistent storage.<br /><br /><strong>Note</strong>: Only bound PVCs (with associated PV) are selectable. Unbound PVCs will cause pod creation failures.                                                                   |
| **ConfigMap**               | Mounts full/partial [ConfigMap](../configuration/add_configmap.mdx) data as files:<ul><li>Full ConfigMap: Creates files named after keys under mount path</li><li>Subpath selection: Mount specific key (e.g., <code>my.cnf</code>)</li></ul>                                                               |
| **Secret**                  | Mounts full/partial [Secret](../configuration/add_secret.mdx) data as files:<ul><li>Full Secret: Creates files named after keys under mount path</li><li>Subpath selection: Mount specific key (e.g., <code>tls.crt</code>)</li></ul>                                                                       |
| **Ephemeral Volumes**       | Cluster-provisioned temporary volume with features:<ul><li>Dynamic provisioning</li><li>Lifecycle tied to pod</li><li>Supports declarative configuration</li></ul><br /><strong>Use Case</strong>: Temporary data storage. See [Ephemeral Volumes](/configure/storage/how_to/generic_ephemeral_volumes.mdx) |
| **Empty Directory**         | Ephemeral storage sharing between containers in same pod:<br />- Created on node when pod starts<br />- Deleted with pod removal<br /><br /><strong>Use Case</strong>: Inter-container file sharing, temporary data storage. See [EmptyDir](/configure/storage/how_to/using_empty_dir.mdx)                  |
| **Host Path**               | Mounts host machine directory (must start with `/`, e.g., `/volumepath`).                                                                                                                                                                                                                                   |

### Health Check Parameters \{#healthcheck}

#### Common Parameters

| **Parameters**        | **Description**                                                                                                                            |
| :-------------------- | :----------------------------------------------------------------------------------------------------------------------------------------- |
| **Initial Delay**     | Grace period (seconds) before starting probes. Default: `300`.                                                                             |
| **Period**            | Probe interval (1-120s). Default: `60`.                                                                                                    |
| **Timeout**           | Probe timeout duration (1-300s). Default: `30`.                                                                                            |
| **Success Threshold** | Minimum consecutive successes to mark healthy. Default: `0`.                                                                               |
| **Failure Threshold** | Maximum consecutive failures to trigger action:<br/>- `0`: Disables failure-based actions<br/>- Default: `5` failures → container restart. |

#### Protocol-Specific Parameters

| **Parameter**    | **Applicable Protocols** | **Description**                                                                                                                                             |
| :--------------- | :----------------------- | :---------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Protocol**     | HTTP/HTTPS               | Health check protocol                                                                                                                                       |
| **Port**         | HTTP/HTTPS/TCP           | Target container port for probing.                                                                                                                          |
| **Path**         | HTTP/HTTPS               | Endpoint path (e.g., `/healthz`).                                                                                                                           |
| **HTTP Headers** | HTTP/HTTPS               | Custom headers (Add key-value pairs).                                                                                                                       |
| **Command**      | EXEC                     | Container-executable check command (e.g., `sh -c "curl -I localhost:8080 \| grep OK"`).<br/>**Note**: Escape special characters and test command viability. |
