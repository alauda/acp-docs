---
weight: 20
sourceSHA: da431dcf9e5ca7c3148c5798d59fdfc3a6e8e272fe6391189c6bed3e868b3d4d
---

# Creating a DaemonSet

A DaemonSet is a type of workload controller in Kubernetes, allowing you to create a DaemonSet through the platform to run a program. You can also create multiple DaemonSets in an application as computational components to provide specific services for the application.

**Note**:

- Once a DaemonSet is successfully created, it will run a Pod replica on all **schedulable nodes that meet the host selector criteria** in the current namespace's cluster (including master and node nodes), excluding nodes with abnormal statuses, unschedulable status, or those that have set Taint. The number of Pods will equal the number of schedulable nodes.

- When a node in the cluster serves as both a control node and a computation node, only one Pod replica will run on that node.

## Prerequisites

### Obtaining Images

Image sources include image repositories integrated by the platform administrator through the toolchain, or third-party platform image repositories.

- For the former, the platform administrator usually allocates an image repository to your project, which you can use the images from. If it is a third-party platform's image repository, ensure that images can be pulled from it in the current cluster.

- If the image being pulled requires credentials, you need to create credentials (secret dictionary) in the current namespace first.

## Step 1 - Configure Basic Information

1. Go to **Container Platform**.

2. In the left navigation bar, click **Computational Components** > **DaemonSet**.

3. Click **Create DaemonSet**.

   **Note**: This section uses a form as an example. If you are familiar with writing YAML orchestration files, you can also quickly create a DaemonSet by editing the YAML file.

4. Configure the image and click **Confirm**.

   **Note**: You can filter images by **Select** only when using images from the platform-integrated image repository. For instance, the integrated project name, such as *containers (docker-registry-projectname)*, includes the project name in the platform *projectname* and the project name in the image repository *containers*.

5. In the **Basic Information** section, configure the relevant parameters based on the following information.

   | Parameter       | Description                                                                                                                                                                                                                                                                                                                                                                              |
   | --------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
   | **Update Strategy** | Set the **maximum unavailable count** for Pods when rolling out updates (rollingUpdate) for the DaemonSet. The DaemonSet will automatically increase or decrease pods according to the set value to achieve fast rolling updates.<br />**Note**: If not set, the default value for maximum unavailable count is 1. It supports inputting either an instance count or a percentage.<br /><br />**Maximum unavailable count**: Input the maximum number of unavailable Pods for the DaemonSet during rolling updates. The percentage cannot exceed 100%. After entering a percentage, Kubernetes will calculate it based on the current instance count, rounding down in case of a decimal. For example, 4.9 will round down to 4. If left blank, the default is 1.<br />Pods that are not in a running state are all counted as unavailable.<br />**For example**: If the number of Pods is 10, and the maximum unavailable count is set to 3, during the update process, the combined number of available Pods from the new and old versions will not be less than 10-3. |

## Step 2 - Configure Container Groups and Containers

The upcoming configuration steps for the container groups and containers are similar to those when creating Deployments. Please refer to [Creating Deployments](./deployment_create.mdx).
