---
weight: 50
sourceSHA: 0f9e60f75815f2baf6e6b3b5336725bce118b002e8cbda5cd1f54e7b2e2f301f
---

# Create a CronJob

A scheduled task (CronJob) is a type of workload controller in Kubernetes. You can create a CronJob through the platform to run a non-persistent program periodically or repeatedly, such as scheduled backups, scheduled clean-ups, or scheduled email dispatches.

In the platform, the scheduled tasks support both scheduled and manual triggering methods. You can choose the required execution method when creating scheduled tasks.

- **Scheduled Trigger**: You need to use the Crontab command syntax to define when the task should be executed or how it runs periodically.

- **Manual Trigger**: Tasks that select this execution method will neither run at scheduled times nor execute immediately after the task is created. You must manually trigger the task execution each time you decide when to execute it.

## Prerequisites

### Obtain the Image

Image sources include image repositories integrated by the platform administrator through the toolchain or third-party platform image repositories.

- For the former, the platform administrator typically allocates an image repository to your project, from which you can then use the images. If it's a third-party platform's image repository, ensure that the images can be pulled directly from the current cluster.

- If the image requires credentials to pull, you must create credentials (secret dictionary) under the current namespace first.

## Steps

1. Enter the **Container Platform**.

2. In the left navigation bar, click **Compute Components** > **Scheduled Tasks**.

3. Click **Create Scheduled Task**.

4. Configure the image and click **Confirm**.

   **Note**: You can filter images only when using images from the integrated image repository of this platform. Among them, the integrated project name, such as *containers (docker-registry-projectname)*, includes the project name *projectname* in this platform and the project name *containers* in the image repository.

5. Configure **Basic Information**.

   - In the **Scheduling Configuration** area, set the execution method of the task and other related parameters.

     - If you select **Manual Trigger**, you must manually trigger the task execution each time you decide when to execute it.

     - If you select **Scheduled Trigger**, you need to configure the following scheduling parameters.

       | Parameter               | Description                                                                                                                                                                                                                                                                                                                                         |
       | ----------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
       | **Trigger Rule**        | Choose a time zone, enter the time point defined using the Crontab command syntax for task execution, and the platform will calculate and display the next trigger time based on the time zone and time point. For time conversion rules and input formats, please refer to: [How to set the scheduling rules for scheduled tasks?](/developer/building_application/how_to/cronjob_rules.mdx) <br /><br />**Note:**<ul><li>When Kubernetes is below v1.25, selecting a time zone is not supported, and UTC must be used. The time points entered must be in UTC.</li><li>When Kubernetes is v1.25 and above, you can choose the time zone as needed, with the default value being the user's current time zone. The time point entered is in the selected time zone.</li></ul> |
       | **Concurrency Policy**  | Choose the concurrency handling strategy for triggering the next task when the current task has not finished executing.                                                                                                                                                                                                                           |

     - Regardless of the selected execution method, you must set the maximum number of task histories to keep in the **Maximum Task History Retention** area, specifying the maximum number of **Successful Task Histories** and **Failed Task Histories**, both defaulting to 20. If the total number of task histories of the corresponding status exceeds the set value for **Maximum Task History Retention**, the system will automatically delete the oldest task histories.

   - In the **Task Configuration** area, select the job type.

     A task's job is completed by a group of containers. You can choose different job types based on actual requirements, correspondingly creating one or more groups of containers to execute tasks. A container group goes through one job process from creation to completion (Succeeded or failed); a job's container group reaching the Succeeded state counts as one job success, while one reaching the Failed state counts as one job failure.

     | Parameter                   | Description                                                                                                                            |
     | --------------------------- | -------------------------------------------------------------------------------------------------------------------------------------- |
     | **Job Type**                | <ul><li>Single Job: Executes a single job each time the task is triggered.</li><li>Parallel Job: Allows multiple jobs to run in parallel each time the task is triggered.</li><li>Fixed Count Job: Allows multiple jobs to run in parallel each time the task is triggered and requires a fixed number of successful jobs.</li></ul> |
     | **Failure Retry Count**     | Refers to backofflimit. The number of times the container group for the job has reached the Failed state. If it exceeds the set job failure retry count, the task is determined to have failed.                            |
     | **Task Timeout Duration**    | Refers to ActiveDeadlineSeconds, the timeout duration for the entire task. After this duration, regardless of the task state, the task is deemed to have failed.                                                                        |
     | **Required Successful Count** | Refers to parallelisms, i.e., completions, this item must be configured only when the job type is **Fixed Count Job**, setting the number of required successful jobs (container groups that reach the Succeeded state).         |
     | **Max Parallel Count**      | Refers to parallelisms. When the job type supports running multiple jobs in parallel, termed as **Parallel Job** and **Fixed Count Job**, this item must be configured to set the maximum number of jobs that may run in parallel (running container groups).               |

6. The operations for the container group and containers are similar to those during deployment creation; please refer to [Create Deployment](./deployment_create.mdx).

7. Click **Create**.

## Execute Scheduled Task Immediately

1. Enter the **Container Platform**.

2. In the left navigation bar, click **Compute Components** > **Scheduled Tasks**.

3. Locate the scheduled task, click â‹® > **Execute Now**, and confirm.

   You can check the task status on the task details page.

   - Executing: The task is currently executing.

   - Success: The task executed successfully.

   - Failure: The task execution failed.
