---
weight: 30
sourceSHA: 4a5a383310d4f29cf36bfb74937e6cac7ecb1a7b4490634f63b5c4d0e037096e
---

# Creating Route Rules

Route rules provide routing policies for incoming traffic, similar to inbound rules (Kubernetes Ingress). They expose network traffic monitored by the gateway to the internal routing of the cluster (Kubernetes Service), facilitating routing forwarding strategies. The key difference is that they target different service objects: inbound rules serve the Ingress Controller, while route rules serve the Ingress Gateway.

Once the listening is set up in the ingress gateway, the gateway will monitor traffic from specified domains and ports in real-time. The route rules can forward the incoming traffic to backend instances as desired.

## Notes

If there is no matching rule for the **Path** object in the HTTPRoute type route rule, a matching rule with PathPrefix mode and a value of / will be automatically added.

## Steps

1. Access the **Container Platform**.

2. In the left navigation bar, click **Network** > **Route Rules**.

3. Click **Create Route Rule**.

4. Follow the instructions below to configure some parameters.

   | Parameter        | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
   | ---------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
   | **Route Type**   | The currently supported route types are: HTTPRoute, TCPRoute, UDPRoute.<br />**Tip:** HTTPRoute supports publishing to HTTP and HTTPS protocol listeners.                                                                                                                                                                                                                                                                                                                                                                                                                                          |
   | **Publish to Listener** | In the left selection box, select the created **Ingress Gateway**, and in the right selection box, select the created **Listener**. The platform will publish the created route rules to the listener below, enabling the gateway to forward captured traffic to specified backend instances.<br /><br />**Note:** It is not allowed to publish route rules to a listener that is on port **11782** or has already mounted TCP or UDP routes.                                                                                                                                                                                                                                          |
   | **Match**        | You can add one or more matching rules to capture traffic that meets the requirements. For example, **capture traffic with specified Path**, **capture traffic with specified method**, etc.<br /><br />**Note:** <ul><li>Click **Add**; when adding multiple route rules, the relationship between the rules is 'AND', and all rules must be matched to be effective.</li><li>Click **Add Match**; when adding multiple groups of route rules, the relationship between the groups is 'OR', and any group matching can be effective.</li><li>TCPRoute and UDPRoute do not support configuring match rules.</li><li>When the matching object is **path**, and the matching method is **Exact** or **PathPrefix**, the input **value** must start with "/" and disallow characters like "//", "/./", "/../", "%2f", "%2F", "#", "/..", "/." etc.</li></ul>                                                                                                                                                                   |
   | **Action**       | You can add one or more actions to process the captured traffic. <ul><li>Header: The header of the HTTP message contains much metadata that provides additional information about the request or response. By modifying header fields, the server can influence how the request and response are processed.</li><li>Redirect: The matched URL will be processed in the specified manner, then the request will be initiated again.</li><li>Rewrite: The matched URL will be processed in the specified manner, then the request will be redirected to a different resource path or filename.</li></ul><br /><br />**Note:** <ul><li>Click **Add**; when adding multiple action rules, the platform will execute all actions in order based on the displayed sequence of the rules.</li><li>TCPRoute and UDPRoute do not support configuring action rules.</li><li>Within the same route rule, there cannot be multiple **Header** type actions with the same **value**.</li><li>Within the same route rule, only one type of either **Redirect** or **Rewrite**, and only one mode of either **FullPath** or **PrefixPath** can exist.</li><li>If you wish to use the **PrefixPath** operation, please first add a matching rule of **PathPrefix** mode.</li></ul> |
   | **Backend Instance**  | After the rule takes effect, it will forward to the backend instance according to the selected internal routes and ports in the current namespace. You can also set weights, with higher weight values resulting in a higher probability of being polled.<br />**Tip:** The percentage next to the weight indicates the probability of forwarding to that instance, calculated as the ratio of the current weight value to the sum of all weight values.                                                                                                                                                                                                                                                                                               |

5. Click **Create**.
