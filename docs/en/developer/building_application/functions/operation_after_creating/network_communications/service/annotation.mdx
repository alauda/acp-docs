---
weight: 20
sourceSHA: 23e400be3a592cb4407fe5184520de502471955f3e267b9db6dd995b21780d93
---

# Annotations for LoadBalancer Type Service

LoadBalancer type Services can be configured with different annotations based on the cluster environment to achieve specific functionality. 
Different cloud providers and on-premises environments support different annotation configurations. 
Please refer to the following sections for detailed annotation usage instructions for your specific environment.

## On Prem Cluster with MetalLB

For detailed explanations of the MetalLB annotations, please refer to the [Usage Documentation](https://metallb.io/usage/).

| Key | Value | Description |
| --- | ----- | ----------- |
| metallb.universe.tf/loadBalancerIPs | `1.2.3.4` or `1.2.3.4,3000::1` for multiple IPs | Requesting specific IPs for this Service. The IP address should be within one `IPAddressPool` and not used by another Service. |
| metallb.universe.tf/address-pool | Name of the `IPAddressPool`. e.g. `production-public-ips` | Requesting IP from the specific `IPAddressPool`. |
| metallb.universe.tf/allow-shared-ip | Sharing key. e.g. `key-to-share-1.2.3.4` | Services with the same sharing key can share one IP address. |

## AWS EKS Cluster

For detailed explanations of the EKS LoadBalancer Service annotations, please refer to the [Annotation Usage Documentation](https://kubernetes-sigs.github.io/aws-load-balancer-controller/v2.5/guide/service/annotations/) .

| Key                                                          | Value                                                                                         | Description                                                                                            |
| ------------------------------------------------------------ | --------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------- |
| service.beta.kubernetes.io/aws-load-balancer-type            | external: Use the official AWS LoadBalancer Controller.                                       | Specifies the controller for the LoadBalancer type.<br /><br /><b>Note</b>: Please contact the platform administrator in advance to deploy the AWS LoadBalancer Controller. |
| service.beta.kubernetes.io/aws-load-balancer-nlb-target-type | <ul><li>instance: Traffic will be sent to the pods via NodePort.</li><li>ip: Traffic routes directly to the pods (the cluster must use Amazon VPC CNI).</li></ul> | Specifies how traffic reaches the pods.                                                    |
| service.beta.kubernetes.io/aws-load-balancer-scheme          | <ul><li>internal: Private network.</li><li>internet-facing: Public network.</li></ul>        | Specifies whether to use a private network or a public network.                                       |
| service.beta.kubernetes.io/aws-load-balancer-ip-address-type | <ul><li>ipv4</li><li>dualstack</li></ul>                                                     | Specifies the supported IP address stack.                                                               |

## Huawei Cloud CCE Cluster

For detailed explanations of the CCE LoadBalancer Service annotations, please refer to the [Annotation Usage Documentation](https://support.huaweicloud.com/intl/zh-cn/usermanual-cce/cce_10_0385.html) .

| Key                            | Value                                                                                                                                                                                                                                                                                                                                                                                 | Description                                                                                                                             |
| ------------------------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------ |
| kubernetes.io/elb.id           |                                                                                                                                                                                                                                                                                                                                                                                       | Fill in the ID of the cloud load balancer, must use an existing cloud load balancer.                                                        |
| kubernetes.io/elb.autocreate   | Example: `{"type":"public","bandwidth_name":"cce-bandwidth-1551163379627","bandwidth_chargemode":"bandwidth","bandwidth_size":5,"bandwidth_sharetype":"PER","eip_type":"5_bgp","available_zone":["cn-north-4b"],"l4_flavor_name":"L4_flavor.elb.s1.small"}`<br /><br /><b>Note</b>: Please read the [Filling Instructions](https://support.huaweicloud.com/intl/zh-cn/usermanual-cce/cce_10_0385.html#section8) first and adjust the example parameters as needed. | New cloud load balancer to be created.                                                                                                      |
| kubernetes.io/elb.subnet-id    |                                                                                                                                                                                                                                                                                                                                                                                       | The ID of the subnet where the cluster is located. When the Kubernetes version is 1.11.7-r0 or lower, this field must be filled when creating a new cloud load balancer. |
| kubernetes.io/elb.class        | <ul><li>union: Shared load balancing.</li><li>performance: Exclusive load balancing, only supported in Kubernetes version 1.17 and above.</li></ul>                                                                                                                                                    | Specifies the type of the new cloud load balancer to be created, please refer to [Differences Between Exclusive and Shared Elastic Load Balancing](https://support.huaweicloud.com/intl/zh-cn/productdesc-elb/elb_pro_0004.html). |
| kubernetes.io/elb.enterpriseID |                                                                                                                                                                                                                                                                                                                                                                                       | Specifies the enterprise project to which the newly created cloud load balancer belongs.                                                  |

## Azure AKS Cluster

For detailed explanations of the AKS LoadBalancer Service annotations, please refer to the [Annotation Usage Documentation](https://cloud-provider-azure.sigs.k8s.io/topics/loadbalancer/#loadbalancer-annotations) .

| Key                                                     | Value                                        | Description         |
| ------------------------------------------------------- | -------------------------------------------- | ------------------- |
| service.beta.kubernetes.io/azure-load-balancer-internal | <ul><li>true: Private network.</li><li>false: Public network.</li></ul> | Specifies whether to use a private network or a public network.  |

## Google GKE Cluster

For detailed explanations of the GKE LoadBalancer Service annotations, please refer to the [Annotation Usage Documentation](https://cloud.google.com/kubernetes-engine/docs/concepts/service-load-balancer-parameters?hl=zh-cn) .

| Key                                  | Value    | Description               |
| ------------------------------------ | -------- | ------------------------- |
| networking.gke.io/load-balancer-type | Internal | Specifies the use of a private network.         |
| loud.google.com/l4-rbs               | enabled  | Defaults to public. If this parameter is configured, traffic will route directly to the pods. |
