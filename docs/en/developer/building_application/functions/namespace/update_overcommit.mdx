---
weight: 50
---

# Overcommit Ratio

:::tip
The cluster needs to have overcommit ratio enabled in order to set the namespace overcommit ratio.
:::

## Understanding overcommit ratio?


Alauda Container platform allows you to set a resource overcommit ratio (CPU and memory) per namespace. This manages the relationship between container limits (maximum usage) and requests (guaranteed minimum) within that namespace, optimizing resource utilization.

By configuring this ratio, you ensure user-defined container limits and requests remain within reasonable bounds, improving overall cluster resource efficiency.

**Key Concepts**:

- **Limits**: The maximum resource a container can use. Exceeding limits can lead to throttling (CPU) or termination (memory).
- **Requests**: The guaranteed minimum resource a container needs. Kubernetes schedules containers based on these requests.
- **Overcommit ratio**: Limits / Requests. This setting defines the acceptable range for this ratio within the namespace, balancing resource guarantees and preventing over-consumption.

## Example

Assuming the namespace overcommit ratio is set to 2, when creating an application and specifies a CPU limit of 4c, the corresponding CPU request value is calculated as:

CPU Request = CPU Limit / Overcommit Ratio

Thus, the CPU request becomes 4c / 2 = 2c.

## Updating Overcommit ratio

Update the overcommit ratio for the created namespace. You can refer to the resource demands for CPU and memory within the current namespace to individually set the overcommit ratio for the namespace, thus limiting the container CPU and memory limit (limits) and request (requests) values set by users within the namespace to a reasonable range to enhance the utilization of computing resources.

### Precautions

In clusters with node virtualization enabled, if you need to configure the virtual machine overcommit ratio, you must first disable the overcommit ratio of the cluster or namespace.

### Procedure

1. Enter the **Project Management** view.

2. In the left navigation bar, click **Namespaces** > **Namespaces**.

3. Click on the ***namespace name*** to be updated.

4. Click on **Actions** in the upper right corner > **Update Overcommit Ratio**.

5. Select the appropriate overcommit ratio **configuration method** to set the CPU or memory overcommit ratio for the namespace.

| Parameter        | Description                                                                                                                                                                                                                                                                                                                                                                        |
| --------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Inherit from Cluster** | <ul><li>The overcommit ratio of the namespace defaults to **inherit from the cluster**, the **value** displays the overcommit ratio settings of the originating cluster. For example, if the CPU and memory overcommit ratios of the cluster are both set to 4, then the CPU and memory overcommit ratios of the current namespace default to 4.</li><br /><li>When creating an application, the container's request value is fixed at **specified limit value/cluster overcommit ratio**. If no limit value is specified, the limit value is set to the **default value** in the container quota of the namespace.</li><br /><li>Example: Assume the CPU resource overcommit ratio of the cluster is set to 4, and the namespace overcommit ratio inherits from the cluster. When a user creates an application and specifies a CPU limit value of 4c, the CPU request value will be 4c/4 = 1c.</li></ul>                                                                        |
| **Custom**   | <ul><li>The namespace overcommit ratio **value** is determined by the administrator's custom settings, only supporting positive integers greater than 1; if left blank, it indicates that the current namespace has no overcommit ratio.<br />For example, if the CPU and memory overcommit ratios of the cluster are both set to 4, and custom values here are both set to 2, then the CPU and memory overcommit ratios of the current namespace are both 2; if no custom values are provided here, it indicates that the CPU and memory of the current namespace have no overcommit ratio set.</li><br /><li>When creating an application, the container's request value is fixed at **specified limit value/namespace overcommit ratio**. If no limit value is specified, the limit value is set to the **default value** in the container quota of the namespace.</li><br /><li>Example: Assume the CPU resource overcommit ratio of the cluster is set to 4, and the namespace overcommit ratio is customized to 2. When a user creates an application specifying a CPU limit value of 4c, the CPU request value will be 4c/2 = 2c.</li></ul> |

5. Click **Update**.

**Note**: Updating the overcommit ratio does not affect the request values of currently running containers. However, upon Pod recreation, the container's request values will be recalculated based on the updated overcommit ratio.
