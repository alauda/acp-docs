---
weight: 10
sourceSHA: cd5492549a8f7c99a91486292448c4ecd8db88110ecc6fd788e34d59c5626076
---

# Configuring VIP

The high availability of the **Load Balancer** requires a VIP, which can be sourced in the following two ways.

## Using Internal Routing of Type LoadBalancer to Provide VIP

When creating the Load Balancer, if the **Internal Routing** option is enabled, the system will automatically create an internal routing of type LoadBalancer to provide the VIP for the Load Balancer. Before using this, ensure that the current cluster supports internal routing of type LoadBalancer. You can utilize the internal routing implementation provided by the platform. For specific configuration, please refer to [External Address Pool](/networking/metallb/functions/create_metallb.mdx); if the **Internal Routing** option is disabled, you need to configure an access address for the Load Balancer.

## External Load Balancer Devices Provide VIP

- Please confirm the deployment IP address (public IP, internal IP, VIP) or domain name for the Load Balancer service in advance with the network engineer. If you want to use a domain name as the address for external traffic access to the Load Balancer, you need to apply for the domain name beforehand and configure the domain resolution. It is recommended to use a commercial Load Balancer to provide VIP; if unavailable, you can use the [Pure Software Data Center LB Solution (Alpha)](/networking/loadbalancer/how_to/datacenter.mdx).

- Depending on the business scenario, the external Load Balancer requires health checks to be configured for all ports in use to reduce the downtime during ALB upgrades. The health check configuration is as follows:

  | Health Check Parameter     | Description                                                         |
  | -------------------------- | ---------------------------------------------------------- |
  | **Port**     | <ul><li>Global cluster: 11782.</li><li>Business cluster: 1936.</li></ul> |
  | **Protocol** | The protocol type for health checks, TCP is recommended.                                        |
  | **Response Timeout** | The time to wait for a health check response, recommended to configure to 2 seconds.                                |
  | **Check Interval** | The interval for conducting health checks, recommended to configure to 5 seconds.                                     |
  | **Unhealthy Threshold**  | The number of consecutive failures after which the health check status of the backend server changes from success to failure, recommended to configure to 3 times.           |
