---
weight: 10
---
# tcp/http keepalive 
## basic concept
1. alb supports keepalive configuration at the port level. It can be configured on the frontend.
2. the keepalive are **between client -> alb, not between alb -> backend**.
2. It is implemented through nginx config, and nginx **need and will automatically reload** when the configuration is changed.

3. tcp keepalive and http keepalive are two different concepts.
    1. tcp keepalive is a TCP protocol feature that sends periodic probe packets to check if the connection is still alive when there is no data transmission. It helps detect and clean up dead connections.
    2. http keepalive (also known as persistent connections) allows multiple HTTP requests to reuse the same TCP connection, avoiding the overhead of establishing new connections. This improves performance by reducing latency and resource usage.
## crd
```yaml
keepalive:
  properties:
    http:
      description: downstream l7 keepalive
      properties:
        header_timeout:
          description: keepalive_header_timeout. default not set
          type: string
        requests:
          description: keepalive_requests. default is 1000
          type: integer
        timeout:
          description: keepalive_timeout. default is 75s
          type: string
      type: object
    tcp:
      description: TCPKeepAlive defines TCP keepalive parameters
        (so_keepalive)
      properties:
        count:
          description: the TCP_KEEPCNT socket option
          type: integer
        idle:
          description: the TCP_KEEPIDLE socket option
          type: string
        interval:
          description: the TCP_KEEPINTVL socket option
          type: string
      type: object
  type: object
```
it could only be configured on frontend.