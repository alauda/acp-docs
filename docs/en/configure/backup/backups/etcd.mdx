---
title: "ETCD Backup"
weight: 10
---

The ETCD component in a cluster is a distributed data store that holds cluster configuration. ETCD runs on all control nodes. Because all control nodes share the same configuration, backing up ETCD data from any one control node is sufficient.

A backup policy defines the data source (control plane node, backup path), backup destination, and backup method. Each run of the policy produces a new backup record, enabling on-demand or periodic automatic backups of the cluster configuration.

## Notes

In rare edge cases, clusters with three control plane nodes may experience simultaneous failure of all three. To ensure full recovery in such scenarios, contact technical support.

## Prerequisites

If you plan to store ETCD backups in external storage, prepare the connection information in advance. Currently, only S3-compatible object storage is supported, such as Amazon S3, MinIO, Tencent Cloud COS, and Alibaba Cloud OSS.

## Basic Information

1. In the left navigation bar, click **Clusters** > **Backup & recovery**.

2. Switch to the **Backup Manage** tab.

3. Click **Create Backup Policy** and select **ETCD Backup**.

4. Enter **Name** and click **Next**.

## Storage Configuration

1. Refer to the following instructions on the Storage Configuration page to configure the relevant parameters.

    | Parameters | Description |
    | ------ | -------- |
    | **Backup node** | **Control plane node** in the cluster. |
    | **Backup Path** | The path where ETCD data is stored on the node. |
    | **External memory** | Whether to use an external storage service to store backup data.<br />- Turning off the switch causes the backup to be performed with the data backed up under the **backup path** of the selected **backup node**. <br />- Turn on the switch and configure the external storage service, when performing backup, the ETCD data will be backed up locally at the same time and synchronized to the external storage, double backup to ensure data security. Please select the backup repository that passes the connectivity check, or click [Create Backup Repository](../repository.mdx). <br />**Hint**: When you are finished creating a backup repository, you can click **OK and Create ETCD Backup** to return to this page to continue creating; or click **Create** to return to the Backup Repositories list page to view the backup repositories you have created.|

3. To create a backup repository, click **Create**.

## Backup Method

Configure a time policy for backing up data.

* **Backup only once**: A backup will be performed immediately after the policy is created. After configuring the **Backup retention time**, backup files exceeding the retention time will be automatically cleaned up by the system.

* **Scheduled backups**: Set up scheduled **backup rules** to automatically execute backup policy to backup data periodically, support input Crontab expression. 
    **Hint**: Click the input box to expand the platform's preset **Backup Rule Templates**, select a suitable template and simply modify it to quickly set up backup rules.

## Related Operations

### Run a backup policy manually

Manually run an existing policy (including those with schedules). Each run creates a new backup record.

1. In the left navigation, click **Clusters** > **Backup & recovery**.
2. Go to the **Backup Manage** tab.
2. Click **Perform Backup** and confirm.