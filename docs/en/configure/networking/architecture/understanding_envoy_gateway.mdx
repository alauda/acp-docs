---
weight: 20
---

# Understanding Envoy Gateway

## Terminology
- [`Envoy Gateway`](https://github.com/envoyproxy/gateway) is an open-source project for managing [Envoy Proxy](https://www.envoyproxy.io/) as a standalone or Kubernetes-based application gateway. 
- [`Gateway API`](https://gateway-api.sigs.k8s.io/) is a Kubernetes-official collection of CRDs for declaring routing rules and traffic management policies. `Envoy Gateway` is one implementation of the `Gateway API` specification.
- `Gateway` or `gatewayapi/gateway` is a CR defined by the Gateway API specification.
- `envoy-gateway instance`  is `Envoy Gateway` instance and all its related resources running in a Kubernetes cluster.
- `envoy-gateway-operator` is a helm-operator wrapper around `Envoy Gateway` and use `EnvoyGatewayCtl` to  simplify the deployment and management of `envoy-gateway instance`.
- `EnvoyProxy` is a CR defined by the `Envoy Gateway` specification, used by `envoy-gateway instance` to manage `envoy-proxy instance`.
- `envoy-proxy instance` is a running deployment which handles incoming traffic.

## Architecture
![](../assets/envoy_gateway_architecture.drawio.svg)

1. After installing the `envoy-gateway-operator`, it watch `EnvoyGatewayCtl` and deploys an `envoy-gateway instance` along with a default GatewayClass.

2. When you create a `Gateway` that references this GatewayClass and specifies an `EnvoyProxy` configuration, the `envoy-gateway instance` deploys an `envoy-proxy instance` to handle incoming traffic.

3. HTTP, TCP, or UDP Route resources can then be created and attached to this Gateway to define traffic routing policies.

4. For more granular configuration, you can create `ClientTrafficPolicy` or `BackendTrafficPolicy` resources and attach them to routes to implement advanced traffic management features.
 
## Related CRDs
`Envoy Gateway` and `envoy-gateway-operator` introduce additional CRDs that, combined with the `Gateway API` CRDs, comprehensively control all aspects of gateway deployment and routing policy configurations.
### `Gateway API` Related CRDs

| CRD | Description |
|-----|-------------|
| [GatewayClass](https://gateway-api.sigs.k8s.io/concepts/api-overview/#gatewayclass)| An `envoy-gateway instance` knows which GatewayClasses it manages, and thereby knows which Gateways it should control.|
| [Gateway](https://gateway-api.sigs.k8s.io/concepts/api-overview/#gateway) |Defines three essential components:<br/> 1. **GatewayClass reference** - References the GatewayClass that controls this Gateway via `.spec.gatewayClassName`<br/> 2. **Listeners configuration** - Specifies which ports, hostnames, and TLS certificates to use for traffic handling via `.spec.listeners`<br/> 3. **Infrastructure parameters** - Configures deployment specifics like replicas, resources by referencing an `EnvoyProxy` via `.spec.infrastructure.parametersRef` |
| [HTTP/TCP/UDP Route](https://gateway-api.sigs.k8s.io/concepts/api-overview/#route-resources) | Defines four essential components:<br/> 1. **Multiple matching rule sets** - Various conditions to match incoming traffic<br/> 2. **Backend destinations** - Target services for each matching rule set<br/> 3. **Traffic policies** - Per-rule configurations including retries, timeouts, redirects, etc.<br/> 4. **Gateway listeners attachment** - Defined via `.spec.parentRefs` to connect routes to specific `Gateway` listeners|

For more details about these resources, please refer to the [Gateway API Concepts](../concepts/gatewayapi.mdx).

### Envoy Gateway Related CRDs

| CRD | Description |
|-----|-------------|
|[EnvoyProxy](https://gateway.envoyproxy.io/docs/api/extension_types/#envoyproxy)|Defines the configuration for `envoy-proxy instances`, such as replicas, resources, and scheduling constraints |

In the recommended deployment pattern, each `Gateway` uses `.spec.infrastructure.parametersRef` to reference its own dedicated `EnvoyProxy` resource. 

This one-to-one mapping allows users to control the Gateway's deployment configuration (replicas, resources, scheduling, etc.) by modifying the corresponding `EnvoyProxy` resource.

### Operator Related CRD
| CRD | Description |
|-----|-------------|
|EnvoyGatewayCtl| Controls the deployment of a specific `envoy-gateway instance`. |

We recommend deploying a single `envoy-gateway instance` via `EnvoyGatewayCtl` per cluster, which is sufficient for typical use cases. 

However, the `EnvoyGatewayCtl` resource allows you to deploy multiple `envoy-gateway instance` within the same cluster, enabling more flexible control and isolation for advanced scenarios such as different [deployment mode](https://gateway.envoyproxy.io/docs/tasks/operations/deployment-mode/)


## Next Steps
[Install Envoy Gateway via Operator](../how_to/install_envoy_gateway_via_envoy_gateway_operator.mdx)

## Additional resources:
| Resource | Description |
|----------|-------------|
| [Envoy Gateway](https://gateway.envoyproxy.io/docs/) | Official documentation for Envoy Gateway |
| [Gateway API](https://gateway-api.sigs.k8s.io/) | Official documentation for Gateway API |
| [Install Envoy Gateway via Operator](../how_to/install_envoy_gateway_via_envoy_gateway_operator.mdx) | Guide for installing Envoy Gateway using the operator |
| [Configure GatewayAPI Gateway](../functions/configure_gatewayapi_gateway.mdx) | Guide for configuring Gateway in our platform via web console or yaml |
| [Configure GatewayAPI Route](../functions/configure_gatewayapi_route.mdx) | Guide for configuring Route in our platform via web console or yaml |
| [Tasks for Envoy Gateway](../how_to/tasks_for_envoy_gateway.mdx) | Common tasks and operations for Envoy Gateway |
