---
title: "Google GKE Cluster Storage Initialization Configuration"
description: "Platform integration with Google GKE and storage initialization configuration."
weight: 900
---

Platform integration with Google GKE and storage initialization configuration.

## Constraints and Limitations

* The default file storage type PVC has a minimum capacity of 1T. If the capacity is set to less than 1T during creation, it will automatically expand to 1T.

* Default file storage has capacity limits. You can request expansion through support tickets.

* Default file storage creation and deletion operations take considerable time. If it remains in creating status for a long time, please be patient.

## Prerequisites

* When creating clusters, on the Google Cloud Platform **Cluster > Features** page under the **Other** section, check **Enable Compute Engine Persistent Disk CSI Driver** and **Enable Filestore CSI Driver** options.

* Enable **Cloud Filestore API** and **Google Kubernetes Engine API** on Google Cloud Platform. See [Access Filestore instances using the Filestore CSI driver](https://cloud.google.com/kubernetes-engine/docs/how-to/persistent-volumes/filestore-csi-driver?hl=zh-cn).

* Adjust regional file storage quotas on Google Cloud Platform. See [Resource quotas and limits](https://cloud.google.com/compute/resource-usage?hl=zh-cn).

* If you have created a GKE cluster, [import the GKE cluster](/configure/clusters/managed/import/gcp-gke.mdx).

## Configuration Steps

1. Go to **Platform Management** and click **Storage Management** > **Storage Classes** in the left navigation.

2. Click the three dots next to the storage class named **standard-rwx** or **standard-rwo** > **Update Project**.

        **Note**: After importing a GKE cluster, default storage classes are generated. **standard-rwx** is recommended for file storage, and **standard-rwo** for block storage. See [Default Storage Class Description](#default-storage-class-description).

3. Select the **Project Assignment** method as needed and click **Update** to assign **standard-rwx** or **standard-rwo** storage classes to projects.

    **Note**: If the default storage classes don't meet requirements, create new storage classes following the above steps and modify parameters as needed. See [Available Storage Class Parameters](#available-storage-class-parameters).

## Related Information

### Default Storage Class Description

| Storage Class Name | Storage Class Type | Description |
|---|---|---|
| **(Recommended) standard-rwx** | File Storage | Uses [Basic HDD Filestore service tier](https://cloud.google.com/filestore/docs/service-tiers?hl=zh-cn#basic_hdd_and_basic_ssd_tiers). |
| **(Recommended) standard-rwo** | Block Storage | Uses balanced persistent disks. |
| premium-rwx | File Storage | Uses [Basic SSD Filestore service tier](https://cloud.google.com/filestore/docs/service-tiers?hl=zh-cn#basic_hdd_and_basic_ssd_tiers). |
| premium-rwo | Block Storage | SSD persistent disks. |
| enterprise-rwx | File Storage | Uses [Enterprise Filestore tier](https://cloud.google.com/filestore/docs/service-tiers?hl=zh-cn#enterprise_tier). |
| enterprise-multishare-rwx | File Storage | Uses [Enterprise Filestore tier](https://cloud.google.com/filestore/docs/service-tiers?hl=zh-cn#enterprise_tier). See [Filestore multishares for Google Kubernetes Engine](https://cloud.google.com/filestore/docs/multishares?hl=zh-cn). |

### Available Storage Class Parameters

* For block storage optional parameters and meanings, see [Storage options](https://cloud.google.com/compute/docs/disks?hl=zh-cn#disk-types).

* For file storage optional parameters and meanings, see [Service tiers](https://cloud.google.com/filestore/docs/service-tiers).

## Common Issues

### File Storage Type Storage Class PVC Creation Failure

* The following error occurs because Cloud Filestore API is not enabled in the project or lacks appropriate permissions. See [Prerequisites](#prerequisites) to resolve:

    ```
    failed to provision volume with StorageClass "standard-rwx": rpc error: code = PermissionDenied desc = googlespi: Error 403: Cloud Filestore API has not been used in project alauda-proj-1234 before or it is disabled.
    ...
    resion: SERVICE_DISABLED
    ```
* The following error occurs due to exceeding storage quotas. See [Prerequisites](#prerequisites) to resolve:

    ```
    failed to provision volume with StorageClass "standard-rwx": rpc error: code = ResourceExhausted desc = googlespi: Error 429: Quora limit 'StandardStorageGbPerRegion' has been exceeded. Limit 2048 in region asia-east1.
     rateLimitExceeded
    ```

### Block Storage Type Storage Class PVC Cannot Bind Properly

The following error occurs because the node's CSINode lacks configuration for the pd.csi.storage.gke.io driver. You can resolve this by restarting the **Compute Engine Persistent Disk CSI Driver**.

**Note**: Updating this plugin will make the cluster unavailable. The update process takes approximately 5-10 minutes.

```
Warning ProvisioningFailed 18m (x14 over 39m) pd.csi.storage.gke.io_gke-5cb9bddae4d1430eb8ad-01f4-2084-vm_4b4e70bd-e2db-4779-9102-fee83a657ced failed to provision volume with StorageClass "standard": error generating accessibility requirements: no available topology found
Normal ExternalProvisioning 4m35s (x143 over 39m) persistentvolume-controller waiting for a volume to be created, either by external provisioner "pd.csi.storage.gke.io" or manually created by system administrator
Normal Provisioning 3m19s (x18 over 39m) pd.csi.storage.gke.io_gke-5cb9bddae4d1430eb8ad-01f4-2084-vm_4b4e70bd-e2db-4779-9102-fee83a657ced External provisioner is provisioning volume for claim "acp-gke-test/standard"
```
