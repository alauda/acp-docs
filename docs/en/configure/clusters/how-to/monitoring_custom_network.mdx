---
weight: 20
title: Monitoring Custom Network Interfaces
---

# Monitoring Custom Network Interfaces

## Scenario

After creating a workload cluster, the platform monitoring system can only recognize network interface names that match the pattern `eth.|en.|wl.*|ww.*` by default. For custom network interface names, network traffic data isn't visible on the monitoring page. The platform allows you to modify relevant resource parameters to manually capture network traffic data from these custom interfaces.

## Procedure

1. Log in to any control plane node of the `global` cluster

2. Find the moduleinfo resource name corresponding to your workload cluster:

   ```bash
   kubectl get moduleinfo | grep -E 'prometheus|victoriametrics'
   ```

   Example output:

   ```bash
   global-6448ef7f7e5e3924c1629fad826372e7     global     prometheus          prometheus                          Running   v3.15.0-zz231204040711-9d1fc12474c2   v3.15.0-zz231204040711-9d1fc12474c2   v3.15.0-zz231204040711-9d1fc12474c2
   ovn-0954f21f0359720e8c115804376b3e7e        ovn        prometheus          prometheus                          Running   v3.15.0-zz231204040711-9d1fc12474c2   v3.15.0-zz231204040711-9d1fc12474c2   v3.15.0-zz231204040711-9d1fc12474c2
   ```

3. Edit the moduleinfo resource for your workload cluster. Replace `ovn-0954f21f0359720e8c115804376b3e7e` with the resource name from the previous step:

   ```
   kubectl edit moduleinfo ovn-0954f21f0359720e8c115804376b3e7e
   ```

4. Add the valuesOverride field. Modify the field and regular expression according to the comments:

   ```
   spec:
     valuesOverride: # If this field doesn't exist, add the valuesOverride field under spec with the following parameters
       ait/chart-cpaas-monitor:
         ovn: # Replace with your workload cluster name
           indicator:
             networkDevice: eth.*|em.*|en.*|wl.*|ww.*|[A-Z].*i|custom_interface # Replace custom_interface with your custom regex to match your network interface names
   ```

5. Wait about 10 minutes, then check the network-related charts on the node monitoring page to verify the changes have taken effect.
