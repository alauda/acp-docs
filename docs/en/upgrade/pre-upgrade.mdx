---
weight: 20
---
# Pre-Upgrade Preparation

**Supported upgrade paths:**

* **From `4.0` → `4.2`**
* **From `4.1` → `4.2`**

Before starting, ensure your current platform version is within the supported upgrade range.

## Important Notes

- Ensure the directory `/cpaas/minio` on the control plane nodes of global cluster has at least **120 GB** of free disk space.
- Make sure that _ALL_ clusters are running Kubernetes versions within the supported range. See details below.

### Kubernetes prerequisites

<Tabs>
<Tab label="Upgrading from 4.1">
- _ALL_ clusters MUST be running a Kubernetes version newer than **1.32**.
</Tab>

<Tab label="Upgrading from 4.0">
- _ALL_ clusters MUST be running a Kubernetes version newer than **1.31**.
</Tab>
</Tabs>

## Run the Checklist

Contact technical support to obtain the **checklist script** and run it against the target platform to verify upgrade readiness.

## Download the Packages

From the **<Term name="company" /> Customer Portal**, download the **<Term name="productShort" /> Core Package**.

If you want to upgrade cluster **Extensions** during the upgrade, follow these steps:
1. Navigate to the following path: [Marketplace - Batch Download - Upgrade - Post-ACP v4.0 Upgrades]
2. Download the `ac-get-app.sh` .
3. Upload the script to the control node of **Global** cluster in your environment.
4. Run the script with `bash ac-get-app.sh`.
5. After it finishes, import the generated `apps.yaml` back into the <Term name="company" /> Customer Portal to align the extensions list.

In addition, navigate to the **CLI Tools** section in the **<Term name="company" /> Customer Portal** and download the `violet` tool. This tool is required for uploading Extensions. For more information about `violet`, see [Upload Packages](../extend/upload_package.mdx).

:::warning
If any cluster installed the **<Term name="company" /> Build of TopoLVM**, upload that plugin before you proceed with the upgrade. Command is shown following:

```bash
violet push </path/to/directory/only_put_topolvm_plugin_here/> \
  --target-catalog-source "platform" \
  --platform-address "https://example.com" \
  --platform-username "<platform_user>" \
  --platform-password "<platform_password>" \
  --clusters "<cluster_name>"
```
:::

:::warning
Starting with v4.2, we introduced a new plugin named **Alauda Container Platform Log Essentials**. If you previously installed the log storage plugin, you also have to upload that plugin before starting the upgrade.
:::
