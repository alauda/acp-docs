# Configuring Striped Logical Volumes

When you write data to an LVM logical volume, the file system lays the data out across the underlying physical volumes. You can control the way the data is written to the physical volumes by creating a striped logical volume. For large sequential reads and writes, this can improve the efficiency of the data I/O.

Striping enhances performance by writing data to a predetermined number of physical volumes in round-round fashion. With striping, I/O can be done in parallel. In some situations, this can result in near-linear performance gain for each additional physical volume in the stripe.

TopoLVM achieves this by specifying the `lvcreate-option-class` in the `StorageClass`.

## Prerequisites

- The device class must contain **at least two devices** on a single node.

## Procedure

<Steps>

### Using the Default `lvcreate-option-class`

1. Navigate to **Administrator**.

2. In the left sidebar, go to **Storage Management** > **Storage Classes**.

3. Click **Create Storage Class**.

4. Select **Block Storage**.

5. Choose **TopoLVM**, then click **Next**.

6. Configure the required storage class parameters.

7. Switch to **YAML view** and add the `topolvm.io/lvcreate-option-class` parameter:

    ```yaml
    parameters:
      topolvm.io/lvcreate-option-class: striped-default
    ```

    :::note 
    `striped-default` is a built-in lvcreate-option-class in Alauda Container Platform. It automatically appends `--stripes=2` `--stripesize=64` to the lvcreate command when the TopoLVM CSI driver provisions logical volumes.
    :::

### Creating a Custom lvcreate-option-class (Optional)

If the built-in striped-default class does not meet your needs, you can define a custom LVCreateOptionClass:

```yaml
cat << EOF | kubectl apply -f -
apiVersion: topolvm.cybozu.com/v2
kind: LVCreateOption
metadata:
  name: custom
  namespace: nativestor-system
spec:
  options:
  - name: striped-custom
    type: striped
    options:
    - --stripes=3
    - --stripesize=64
EOF
```
This manifest creates a custom LVCreateOptionClass named striped-custom with 3 stripes and a stripe size of 64 KiB. Once applied, you can reference it in your StorageClass using `topolvm.io/lvcreate-option-class: striped-custom`.

</Steps>