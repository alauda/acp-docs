---
weight: 20
sourceSHA: 57ea3e1d066bdc6876625a1f51f1f77a79edab503e0925089db60ff23f61d27e
---

# Create a MinIO Object Storage Type Storage Class

MinIO object storage provides a secure, reliable, and scalable shared file storage service based on the MinIO storage cluster for the platform, suitable for scenarios such as file sharing and data backup.

## Terminology

| Term       | Full Name                                 | Description                                                                                                                     |
| -------- | ---------------------------------- | --------------------------------------------------------------------------------------------------------------------------- |
| **COSI** | Container Object Storage Interface | Container Object Storage Interface, aimed to be a common abstraction layer across multiple object storage providers, dynamically providing object storage services for workloads, while allowing third-party storage vendors to write plugins using COSI, thus exposing a new storage system in Kubernetes without modifying the core Kubernetes code. |

## Feature Comparison

<table border="1" cellspacing="0">
  <thead>
    <tr>
      <th>Storage Class Name</th>
      <th>Applicable Scenarios and Features</th>
      <th>Access Method</th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>MinIO Object Storage </td>
      <td><ul><li>Requires installation of the MinIO Object Storage volume plugin.</li><li>MinIO is a lightweight object storage system designed to provide high-performance, low-latency object storage services, suitable for scenarios requiring fast access to and retrieval of data.</li></ul></td>
      <td rowSpan={2}>COSI-based storage access method.</td>
    </tr>

    <tr>
      <td>Ceph Object Storage</td>
      <td><ul><li>Requires installation of the Ceph Object Storage volume plugin.</li><li>Ceph is a complex storage system designed for a broader range of storage needs, including block storage, object storage, and file storage; due to its complexity, Ceph can handle more intricate business scenarios.</li></ul></td>
    </tr>
  </tbody>
</table>

## Prerequisites

Prepare the MinIO storage service in advance using one of the following methods.

- Use the internal MinIO storage service of the platform; see [Create Object Storage](/storage/storagesystem_minio/functions/create_minio.mdx) for details.

- Use the external MinIO storage service.

## Steps

### Deploy the Container Object Storage Interface Plugin

To use the object storage feature, you must first deploy the Container Object Storage Interface plugin.

1. Go to **Platform Management**.

2. In the left navigation bar, click **Cluster Management** > **Clusters**.

3. Click on the ***Name of the Cluster*** where you want to deploy the component.

4. Under the **Plugins** tab, click the ⋮ next to **Container Object Storage Interface** > **Deploy**.

5. Wait for the deployment status to show **Deployment Successful** to complete the deployment.

### Deploy Volume Plugin

1. In the left navigation bar, click **Storage Management** > **Object Storage Classes**.

2. Click **Create Object Storage Class**.

3. Click **Deploy** on the **MinIO Object Storage** card.

4. Under the **Plugins** tab, click the ⋮ on the right > **Deploy**.

5. Fill in the **Access Address** with the `接入地址` from [Get Information](#geturl).

6. Click **Create**, and enter the values of `accesskey` and `secretkey` from [Get Information](#geturl) into the corresponding fields `ACCESSKEY` and `SECRETKEY`.

7. Click **Create**, and from the **Key** dropdown, select the created key.

8. Click **Deploy**.

### Create Storage Class

1. In the left navigation bar, click **Storage Management** > **Object Storage Classes**.

   **Note**: The following contents are provided as an example in form format; you may also choose to complete the operation using YAML.

2. Click **Create Object Storage Class**.

3. Select **MinIO Object Storage**, and click **Next**.

4. Configure some parameters based on the following instructions.

   | Parameter       | Instructions                                           |
   | -------- | --------------------------------------------------- |
   | **Recycling Policy** | The recycling policy of the bucket. The default **Delete** policy means that when the bucket is deleted, the associated storage bucket will also be deleted. |
   | **Allocated Project** | Please assign a project that can use this type of storage.<br />If there are currently no projects needing this type of storage, you can choose not to assign a project and update it later. |

5. Click **Create**.

## Related Operations

### Get Information\{#geturl}

Due to different configurations of the storage location, the methods to obtain **Access Address**, **ACCESSKEY**, and **SECRETKEY** also vary. Please select one of the following methods based on actual configuration.

- **Connecting to External MinIO Object Storage**:

  - **Access Address**: Contact relevant personnel to obtain the MinIO object storage service access address, for example: `http://10.7.122.127:7480`.

  - **ACCESSKEY** and **SECRETKEY**: Contact relevant personnel to obtain the `accesskey` and `secretkey` with administrator permissions.

- **Connecting to Internal MinIO Object Storage**:

  - **Access Address**

    1. In the left navigation bar, click **Storage Management** > **Object Storage**.

    2. Switch to the **Access Method** tab and concatenate the information in the **Cluster Internal Access** area to form the access address, for example: `http://10.7.122.127:80` or `http://minio.minio-system.svc.cluster.local:80`.

  - **ACCESSKEY** and **SECRETKEY**

    1. Use the following command to get the object storage name (NAME), and select and record the **Object Storage Name** you need to connect.

       ```
       kubectl get tenant -A
       ```

    2. Replace the `Object Storage Name` in the following command with the **Object Storage Name** you wish to connect to, and enter the following command in the platform CLI tool to obtain the relevant information. Here, `MINIO_ROOT_USER` is the `accesskey`, and `MINIO_ROOT_PASSWORD` is the `secretkey`.

       ```
       kubectl -n minio-system get secret <对象存储名称>-env-configuration -o jsonpath='{.data.config\.env}'  | base64 -d | grep -E "MINIO_ROOT_USER|MINIO_ROOT_PASSWORD"
       ```
