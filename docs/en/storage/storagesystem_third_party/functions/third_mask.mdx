---
weight: 10
sourceSHA: a8758994b47db2707923cc521d5d4f700a099543b82a669b11bd709bfe8d7443
---

# Third-Party Storage Capability Annotation

With the increasing scenarios of public cloud and private cloud, the need for third-party storage has become more prevalent. By providing annotations for third-party storage, users can better understand and utilize these storage options.

## Overview

When creating a storage class, the `provisioner` field is specified. The platform recognizes this field and searches for configuration dictionaries (ConfigMaps) labeled with `features.alauda.io/type: StorageDescription` within the specified namespace. If a key in the configuration dictionary matches the `provisioner` field, the platform will annotate the corresponding values with the supported storage capabilities to the storage class.

## Steps

1. Navigate to **Platform Management**.

2. In the left sidebar, click on **Storage Management** > **Storage Classes**.

3. Click on **Create Storage Class**.

4. Configure the relevant parameters according to the following instructions.

   | Parameter          | Description                             |
   | ------------------ | --------------------------------------- |
   | **Name**           | Enter the name of the storage class.   |
   | **Storage Class**  | Select the storage class.                |
   | **Provisioner**    | Enter the Provisioner for the storage class. |

   - The YAML example is shown below:

     ```
      apiVersion: v1
      data:
          storage.type1.com: |-
            type: Filesystem
            volumeMode:
            - Filesystem
            accessModes:
            - ReadWriteOnce
            - ReadWriteMany
            - ReadWriteOncePod
          storage.type2.com: |-
            type: Filesystem
            snapshot: true
            volumeMode:
            - Filesystem
            - Block
            accessModes:
            - ReadWriteOnce
            - ReadOnlyMany
            - ReadWriteOncePod
      kind: ConfigMap
      metadata:
          labels:
            features.alauda.io/type: StorageDescription
          name: sd-built-in
          namespace: kube-public
     ```

   - The field descriptions are as follows:

     | Field                    | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
     | ------------------------ | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
     | **data**                 | Add one or more configuration items, each representing a storage description file. <ul><li>**Key**: Corresponds to the provisioner of the storage class.</li><li>**Value**: A string in YAML format that describes the corresponding storage capabilities.</li></ul><br />**For example**: In the above example, the provisioner is configured as storage.type2.com, supporting snapshot creation, various volume modes, and multiple access modes, with the key-value as follows. For detailed field descriptions, please refer to [Supported Storage Capabilities](#sustor). <ul><li>**Key**: `storage.type2.com`</li><li>**Value**: <pre>type: Filesystem<br />snapshot: true<br />volumeMode:<br />- Filesystem<br />- Block<br />accessModes:<br />- ReadWriteOnce<br />- ReadOnlyMany<br />- ReadWriteOncePod</pre></li></ul> |
     | **metadata.labels**      | The label `features.alauda.io/type = StorageDescription` must be added.                                                                                                                                                                                                                                                                                                                                                                                                                                         |
     | **metadata.name**        | Must start with **sd** and follow the format **sd-\<name>**, for example: sd-configmap1.                                                                                                                                                                                                                                                                                                                                                                                                                                  |
     | **metadata.namespace**   | Specify the **kube-public** namespace.                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |

   - The supported storage capabilities are as follows: \{#sustor}

     | Property     | Field        | Options                                                                                              | Default Value | Description                                                                                                                |
     | ------------ | ------------ | ---------------------------------------------------------------------------------------------------- | ------------- | -------------------------------------------------------------------------------------------------------------------------- |
     | Type         | type         | <ul><li>Filesystem</li><li>Block</li></ul>                                                          | -             | If this field is not configured or the configured type is not within the optional range, the type will be shown as unknown.                                                 |
     | Snapshot      | snapshot     | <ul><li>true</li><li>false</li></ul>                                                                | false         | If this field in the configuration dictionary is `false` or not within the optional range, volume snapshots cannot be created via the **form** interface.                |
     | Volume Mode  | volumeMode   | <ul><li>Filesystem</li><li>Block</li></ul>                                                          | Filesystem    | When the Block volume mode is selected, persistent volume claims (PVCs) do not support mounting as directories.                                                             |
     | Access Mode  | accessModes  | <ul><li>ReadWriteOnce</li><li>ReadOnlyMany</li><li>ReadWriteMany</li><li>ReadWriteOncePod</li></ul> | -             | <ul><li>If this field is not configured or the configured mode is not within the optional range, no access mode can be selected via the **form** interface.</li><li>The `ReadWriteOncePod` access mode cannot currently be selected via the **form** interface.</li></ul>                                                             |

5. Click on **Create**.

## Related Operations

### Create a Persistent Volume Claim (PVC)

If a PVC is created using the **form** method and the selected storage class has been annotated by the configuration dictionary (ConfigMap), unsupported storage capabilities cannot be selected from the configuration dictionary.
